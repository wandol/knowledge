/**
 * KDaViF Library v4.0.7 2019-09-10
 * Copyright Konan Technology Inc., All rights reserved.
 * https://www.pulsek.com/
 **/
!function(t,e){define=void 0,module=void 0,exports=void 0,"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.d3=t.d3||{})}(this,function(t){"use strict";function e(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function n(t){var n;return 1===t.length&&(n=t,t=function(t,r){return e(n(t),r)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)<0?r=a+1:i=a}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)>0?i=a:r=a+1}return r}}}var r=n(e),i=r.right,a=r.left;function o(t,e){return[t,e]}function s(t){return null===t?NaN:+t}function u(t,e){var n,r,i=t.length,a=0,o=-1,u=0,c=0;if(null==e)for(;++o<i;)isNaN(n=s(t[o]))||(c+=(r=n-u)*(n-(u+=r/++a)));else for(;++o<i;)isNaN(n=s(e(t[o],o,t)))||(c+=(r=n-u)*(n-(u+=r/++a)));if(a>1)return c/(a-1)}function c(t,e){var n=u(t,e);return n?Math.sqrt(n):n}function l(t,e){var n,r,i,a=t.length,o=-1;if(null==e){for(;++o<a;)if(null!=(n=t[o])&&n>=n)for(r=i=n;++o<a;)null!=(n=t[o])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++o<a;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=i=n;++o<a;)null!=(n=e(t[o],o,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]}var f=Array.prototype,h=f.slice,d=f.map;function p(t){return function(){return t}}function g(t){return t}function y(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(i);++r<i;)a[r]=t+r*n;return a}var v=Math.sqrt(50),m=Math.sqrt(10),b=Math.sqrt(2);function x(t,e,n){var r,i,a,o,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(o=_(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),a=new Array(i=Math.ceil(e-t+1));++s<i;)a[s]=(t+s)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),a=new Array(i=Math.ceil(t-e+1));++s<i;)a[s]=(t-s)/o;return r&&a.reverse(),a}function _(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=v?10:a>=m?5:a>=b?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=v?10:a>=m?5:a>=b?2:1)}function w(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=v?i*=10:a>=m?i*=5:a>=b&&(i*=2),e<t?-i:i}function k(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function M(t,e,n){if(null==n&&(n=s),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t);return o+(+n(t[a+1],a+1,t)-o)*(i-a)}}function A(t,e){var n,r,i=t.length,a=-1;if(null==e){for(;++a<i;)if(null!=(n=t[a])&&n>=n)for(r=n;++a<i;)null!=(n=t[a])&&n>r&&(r=n)}else for(;++a<i;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=n;++a<i;)null!=(n=e(t[a],a,t))&&n>r&&(r=n);return r}function T(t){for(var e,n,r,i=t.length,a=-1,o=0;++a<i;)o+=t[a].length;for(n=new Array(o);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--o]=r[e];return n}function E(t,e){var n,r,i=t.length,a=-1;if(null==e){for(;++a<i;)if(null!=(n=t[a])&&n>=n)for(r=n;++a<i;)null!=(n=t[a])&&r>n&&(r=n)}else for(;++a<i;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=n;++a<i;)null!=(n=e(t[a],a,t))&&r>n&&(r=n);return r}function C(t){if(!(i=t.length))return[];for(var e=-1,n=E(t,S),r=new Array(n);++e<n;)for(var i,a=-1,o=r[e]=new Array(i);++a<i;)o[a]=t[a][e];return r}function S(t){return t.length}var N=Array.prototype.slice;function R(t){return t}var P=1,z=2,O=3,L=4,D=1e-6;function I(t){return"translate("+(t+.5)+",0)"}function j(t){return"translate(0,"+(t+.5)+")"}function Y(){return!this.__axis}function B(t,e){var n=[],r=null,i=null,a=6,o=6,s=3,u=t===P||t===L?-1:1,c=t===L||t===z?"x":"y",l=t===P||t===O?I:j;function f(f){var h=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,d=null==i?e.tickFormat?e.tickFormat.apply(e,n):R:i,p=Math.max(a,0)+s,g=e.range(),y=+g[0]+.5,v=+g[g.length-1]+.5,m=(e.bandwidth?function(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}:function(t){return function(e){return+t(e)}})(e.copy()),b=f.selection?f.selection():f,x=b.selectAll(".domain").data([null]),_=b.selectAll(".tick").data(h,e).order(),w=_.exit(),k=_.enter().append("g").attr("class","tick"),M=_.select("line"),A=_.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),_=_.merge(k),M=M.merge(k.append("line").attr("stroke","currentColor").attr(c+"2",u*a)),A=A.merge(k.append("text").attr("fill","#545454").attr(c,u*p).attr("dy",t===P?"0em":t===O?"0.71em":"0.32em")),f!==b&&(x=x.transition(f),_=_.transition(f),M=M.transition(f),A=A.transition(f),w=w.transition(f).attr("opacity",D).attr("transform",function(t){return isFinite(t=m(t))?l(t):this.getAttribute("transform")}),k.attr("opacity",D).attr("transform",function(t){var e=this.parentNode.__axis;return l(e&&isFinite(e=e(t))?e:m(t))})),w.remove(),x.attr("d",t===L||t==z?o?"M"+u*o+","+y+"H0.5V"+v+"H"+u*o:"M0.5,"+y+"V"+v:o?"M"+y+","+u*o+"V0.5H"+v+"V"+u*o:"M"+y+",0.5H"+v),_.attr("opacity",1).attr("transform",function(t){return l(m(t))}),M.attr(c+"2",u*a),A.attr(c,u*p).text(d),b.filter(Y).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===z?"start":t===L?"end":"middle"),b.each(function(){this.__axis=m})}return f.scale=function(t){return arguments.length?(e=t,f):e},f.ticks=function(){return n=N.call(arguments),f},f.tickArguments=function(t){return arguments.length?(n=null==t?[]:N.call(t),f):n.slice()},f.tickValues=function(t){return arguments.length?(r=null==t?null:N.call(t),f):r&&r.slice()},f.tickFormat=function(t){return arguments.length?(i=t,f):i},f.tickSize=function(t){return arguments.length?(a=o=+t,f):a},f.tickSizeInner=function(t){return arguments.length?(a=+t,f):a},f.tickSizeOuter=function(t){return arguments.length?(o=+t,f):o},f.tickPadding=function(t){return arguments.length?(s=+t,f):s},f}var H={value:function(){}};function U(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new F(r)}function F(t){this._=t}function q(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function $(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=H,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}F.prototype=U.prototype={constructor:F,on:function(t,e){var n,r,i=this._,a=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),o=-1,s=a.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<s;)if(n=(t=a[o]).type)i[n]=$(i[n],t.name,e);else if(null==e)for(n in i)i[n]=$(i[n],t.name,null);return this}for(;++o<s;)if((n=(t=a[o]).type)&&(n=q(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new F(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,n=(r=this._[t]).length;a<n;++a)r[a].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};var W="http://www.w3.org/1999/xhtml",G={svg:"http://www.w3.org/2000/svg",xhtml:W,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function V(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),G.hasOwnProperty(e)?{space:G[e],local:t}:t}function X(t){var e=V(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===W&&e.documentElement.namespaceURI===W?e.createElement(t):e.createElementNS(n,t)}})(e)}function J(){}function K(t){return null==t?J:function(){return this.querySelector(t)}}function Z(){return[]}function Q(t){return null==t?Z:function(){return this.querySelectorAll(t)}}function tt(t){return function(){return this.matches(t)}}function et(t){return new Array(t.length)}function nt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}nt.prototype={constructor:nt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var rt="$";function it(t,e,n,r,i,a){for(var o,s=0,u=e.length,c=a.length;s<c;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):n[s]=new nt(t,a[s]);for(;s<u;++s)(o=e[s])&&(i[s]=o)}function at(t,e,n,r,i,a,o){var s,u,c,l={},f=e.length,h=a.length,d=new Array(f);for(s=0;s<f;++s)(u=e[s])&&(d[s]=c=rt+o.call(u,u.__data__,s,e),c in l?i[s]=u:l[c]=u);for(s=0;s<h;++s)(u=l[c=rt+o.call(t,a[s],s,a)])?(r[s]=u,u.__data__=a[s],l[c]=null):n[s]=new nt(t,a[s]);for(s=0;s<f;++s)(u=e[s])&&l[d[s]]===u&&(i[s]=u)}function ot(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function st(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ut(t,e){return t.style.getPropertyValue(e)||st(t).getComputedStyle(t,null).getPropertyValue(e)}function ct(t){return t.trim().split(/^|\s+/)}function lt(t){return t.classList||new ft(t)}function ft(t){this._node=t,this._names=ct(t.getAttribute("class")||"")}function ht(t,e){for(var n=lt(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function dt(t,e){for(var n=lt(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function pt(){this.textContent=""}function gt(){this.innerHTML=""}function yt(){this.nextSibling&&this.parentNode.appendChild(this)}function vt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function mt(){return null}function bt(){var t=this.parentNode;t&&t.removeChild(this)}function xt(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function _t(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}ft.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var wt={};function kt(t,e,n){return t=Mt(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function Mt(e,n,r){return function(i){var a=t.event;t.event=i;try{e.call(this,this.__data__,n,r)}finally{t.event=a}}}function At(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,a=e.length;r<a;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function Tt(t,e,n){var r=wt.hasOwnProperty(t.type)?kt:Mt;return function(i,a,o){var s,u=this.__on,c=r(e,a,o);if(u)for(var l=0,f=u.length;l<f;++l)if((s=u[l]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},u?u.push(s):this.__on=[s]}}function Et(e,n,r,i){var a=t.event;e.sourceEvent=t.event,t.event=e;try{return n.apply(r,i)}finally{t.event=a}}function Ct(t,e,n){var r=st(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}t.event=null,"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(wt={mouseenter:"mouseover",mouseleave:"mouseout"}));var St=[null];function Nt(t,e){this._groups=t,this._parents=e}function Rt(){return new Nt([[document.documentElement]],St)}function Pt(t){return"string"==typeof t?new Nt([[document.querySelector(t)]],[document.documentElement]):new Nt([[t]],St)}Nt.prototype=Rt.prototype={constructor:Nt,select:function(t){"function"!=typeof t&&(t=K(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o,s=e[i],u=s.length,c=r[i]=new Array(u),l=0;l<u;++l)(a=s[l])&&(o=t.call(a,a.__data__,l,s))&&("__data__"in a&&(o.__data__=a.__data__),c[l]=o);return new Nt(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=Q(t));for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o,s=e[a],u=s.length,c=0;c<u;++c)(o=s[c])&&(r.push(t.call(o,o.__data__,c,s)),i.push(o));return new Nt(r,i)},filter:function(t){"function"!=typeof t&&(t=tt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,u=r[i]=[],c=0;c<s;++c)(a=o[c])&&t.call(a,a.__data__,c,o)&&u.push(a);return new Nt(r,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),l=-1,this.each(function(t){p[++l]=t}),p;var n,r=e?at:it,i=this._parents,a=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var o=a.length,s=new Array(o),u=new Array(o),c=new Array(o),l=0;l<o;++l){var f=i[l],h=a[l],d=h.length,p=t.call(f,f&&f.__data__,l,i),g=p.length,y=u[l]=new Array(g),v=s[l]=new Array(g);r(f,h,y,v,c[l]=new Array(d),p,e);for(var m,b,x=0,_=0;x<g;++x)if(m=y[x]){for(x>=_&&(_=x+1);!(b=v[_])&&++_<g;);m._next=b||null}}return(s=new Nt(s,i))._enter=u,s._exit=c,s},enter:function(){return new Nt(this._enter||this._groups.map(et),this._parents)},exit:function(){return new Nt(this._exit||this._groups.map(et),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,a=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u,c=e[s],l=n[s],f=c.length,h=o[s]=new Array(f),d=0;d<f;++d)(u=c[d]||l[d])&&(h[d]=u);for(;s<r;++s)o[s]=e[s];return new Nt(o,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=ot);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,s=n[a],u=s.length,c=i[a]=new Array(u),l=0;l<u;++l)(o=s[l])&&(c[l]=o);c.sort(e)}return new Nt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,a=e[n],o=0,s=a.length;o<s;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},attr:function(t,e){var n=V(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):ut(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=ct(t+"");if(arguments.length<2){for(var r=lt(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?ht:dt)(this,t)}}:e?function(t){return function(){ht(this,t)}}:function(t){return function(){dt(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?pt:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?gt:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(yt)},lower:function(){return this.each(vt)},append:function(t){var e="function"==typeof t?t:X(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:X(t),r=null==e?mt:"function"==typeof e?e:K(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(bt)},clone:function(t){return this.select(t?_t:xt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,a=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),o=a.length;if(!(arguments.length<2)){for(s=e?Tt:At,null==n&&(n=!1),r=0;r<o;++r)this.each(s(a[r],e,n));return this}var s=this.node().__on;if(s)for(var u,c=0,l=s.length;c<l;++c)for(r=0,u=s[c];r<o;++r)if((i=a[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return Ct(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return Ct(this,t,e)}})(t,e))}};var zt=0;function Ot(){return new Lt}function Lt(){this._="@"+(++zt).toString(36)}function Dt(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n}function It(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}function jt(t){var e=Dt();return e.changedTouches&&(e=e.changedTouches[0]),It(t,e)}function Yt(t,e,n){arguments.length<3&&(n=e,e=Dt().changedTouches);for(var r,i=0,a=e?e.length:0;i<a;++i)if((r=e[i]).identifier===n)return It(t,r);return null}function Bt(){t.event.stopImmediatePropagation()}function Ht(){t.event.preventDefault(),t.event.stopImmediatePropagation()}function Ut(t){var e=t.document.documentElement,n=Pt(t).on("dragstart.drag",Ht,!0);"onselectstart"in e?n.on("selectstart.drag",Ht,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Ft(t,e){var n=t.document.documentElement,r=Pt(t).on("dragstart.drag",null);e&&(r.on("click.drag",Ht,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function qt(t){return function(){return t}}function $t(t,e,n,r,i,a,o,s,u,c){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=a,this.y=o,this.dx=s,this.dy=u,this._=c}function Wt(){return!t.event.button}function Gt(){return this.parentNode}function Vt(e){return null==e?{x:t.event.x,y:t.event.y}:e}function Xt(){return"ontouchstart"in this}function Jt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Kt(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Zt(){}Lt.prototype=Ot.prototype={constructor:Lt,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}},$t.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Qt="\\s*([+-]?\\d+)\\s*",te="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ee="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ne=/^#([0-9a-f]{3})$/,re=/^#([0-9a-f]{6})$/,ie=new RegExp("^rgb\\("+[Qt,Qt,Qt]+"\\)$"),ae=new RegExp("^rgb\\("+[ee,ee,ee]+"\\)$"),oe=new RegExp("^rgba\\("+[Qt,Qt,Qt,te]+"\\)$"),se=new RegExp("^rgba\\("+[ee,ee,ee,te]+"\\)$"),ue=new RegExp("^hsl\\("+[te,ee,ee]+"\\)$"),ce=new RegExp("^hsla\\("+[te,ee,ee,te]+"\\)$"),le={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function fe(t){var e;return t=(t+"").trim().toLowerCase(),(e=ne.exec(t))?new ye((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=re.exec(t))?he(parseInt(e[1],16)):(e=ie.exec(t))?new ye(e[1],e[2],e[3],1):(e=ae.exec(t))?new ye(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=oe.exec(t))?de(e[1],e[2],e[3],e[4]):(e=se.exec(t))?de(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=ue.exec(t))?me(e[1],e[2]/100,e[3]/100,1):(e=ce.exec(t))?me(e[1],e[2]/100,e[3]/100,e[4]):le.hasOwnProperty(t)?he(le[t]):"transparent"===t?new ye(NaN,NaN,NaN,0):null}function he(t){return new ye(t>>16&255,t>>8&255,255&t,1)}function de(t,e,n,r){return r<=0&&(t=e=n=NaN),new ye(t,e,n,r)}function pe(t){return t instanceof Zt||(t=fe(t)),t?new ye((t=t.rgb()).r,t.g,t.b,t.opacity):new ye}function ge(t,e,n,r){return 1===arguments.length?pe(t):new ye(t,e,n,null==r?1:r)}function ye(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function ve(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function me(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new xe(t,e,n,r)}function be(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof xe)return new xe(t.h,t.s,t.l,t.opacity);if(t instanceof Zt||(t=fe(t)),!t)return new xe;if(t instanceof xe)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,u=(a+i)/2;return s?(o=e===a?(n-r)/s+6*(n<r):n===a?(r-e)/s+2:(e-n)/s+4,s/=u<.5?a+i:2-a-i,o*=60):s=u>0&&u<1?0:o,new xe(o,s,u,t.opacity)}(t):new xe(t,e,n,null==r?1:r)}function xe(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function _e(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Jt(Zt,fe,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),Jt(ye,ge,Kt(Zt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ye(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ye(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+ve(this.r)+ve(this.g)+ve(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Jt(xe,be,Kt(Zt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new xe(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new xe(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ye(_e(t>=240?t-240:t+120,i,r),_e(t,i,r),_e(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var we=Math.PI/180,ke=180/Math.PI,Me=.96422,Ae=1,Te=.82521,Ee=4/29,Ce=6/29,Se=3*Ce*Ce,Ne=Ce*Ce*Ce;function Re(t){if(t instanceof ze)return new ze(t.l,t.a,t.b,t.opacity);if(t instanceof Be)return He(t);t instanceof ye||(t=pe(t));var e,n,r=Ie(t.r),i=Ie(t.g),a=Ie(t.b),o=Oe((.2225045*r+.7168786*i+.0606169*a)/Ae);return r===i&&i===a?e=n=o:(e=Oe((.4360747*r+.3850649*i+.1430804*a)/Me),n=Oe((.0139322*r+.0971045*i+.7141733*a)/Te)),new ze(116*o-16,500*(e-o),200*(o-n),t.opacity)}function Pe(t,e,n,r){return 1===arguments.length?Re(t):new ze(t,e,n,null==r?1:r)}function ze(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function Oe(t){return t>Ne?Math.pow(t,1/3):t/Se+Ee}function Le(t){return t>Ce?t*t*t:Se*(t-Ee)}function De(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ie(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function je(t){if(t instanceof Be)return new Be(t.h,t.c,t.l,t.opacity);if(t instanceof ze||(t=Re(t)),0===t.a&&0===t.b)return new Be(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*ke;return new Be(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Ye(t,e,n,r){return 1===arguments.length?je(t):new Be(t,e,n,null==r?1:r)}function Be(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function He(t){if(isNaN(t.h))return new ze(t.l,0,0,t.opacity);var e=t.h*we;return new ze(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Jt(ze,Pe,Kt(Zt,{brighter:function(t){return new ze(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new ze(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new ye(De(3.1338561*(e=Me*Le(e))-1.6168667*(t=Ae*Le(t))-.4906146*(n=Te*Le(n))),De(-.9787684*e+1.9161415*t+.033454*n),De(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Jt(Be,Ye,Kt(Zt,{brighter:function(t){return new Be(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Be(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return He(this).rgb()}}));var Ue=1.78277,Fe=-.29227,qe=-.90649,$e=1.97294,We=$e*qe,Ge=$e*Ue,Ve=Ue*Fe- -.14861*qe;function Xe(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof Je)return new Je(t.h,t.s,t.l,t.opacity);t instanceof ye||(t=pe(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Ve*r+We*e-Ge*n)/(Ve+We-Ge),a=r-i,o=($e*(n-i)-Fe*a)/qe,s=Math.sqrt(o*o+a*a)/($e*i*(1-i)),u=s?Math.atan2(o,a)*ke-120:NaN;return new Je(u<0?u+360:u,s,i,t.opacity)}(t):new Je(t,e,n,null==r?1:r)}function Je(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Ke(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}function Ze(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,s=r<e-1?t[r+2]:2*a-i;return Ke((n-r/e)*e,o,i,a,s)}}function Qe(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],a=t[r%e],o=t[(r+1)%e],s=t[(r+2)%e];return Ke((n-r/e)*e,i,a,o,s)}}function tn(t){return function(){return t}}function en(t,e){return function(n){return t+n*e}}function nn(t,e){var n=e-t;return n?en(t,n>180||n<-180?n-360*Math.round(n/360):n):tn(isNaN(t)?e:t)}function rn(t,e){var n=e-t;return n?en(t,n):tn(isNaN(t)?e:t)}Jt(Je,Xe,Kt(Zt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Je(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Je(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*we,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new ye(255*(e+n*(-.14861*r+Ue*i)),255*(e+n*(Fe*r+qe*i)),255*(e+n*($e*r)),this.opacity)}}));var an=function t(e){var n=function(t){return 1==(t=+t)?rn:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):tn(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=ge(t)).r,(e=ge(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=rn(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function on(t){return function(e){var n,r,i=e.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=ge(e[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=t(a),o=t(o),s=t(s),r.opacity=1,function(t){return r.r=a(t),r.g=o(t),r.b=s(t),r+""}}}var sn=on(Ze),un=on(Qe);function cn(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=yn(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<i;++n)o[n]=a[n](t);return o}}function ln(t,e){var n=new Date;return e-=t=+t,function(r){return n.setTime(t+e*r),n}}function fn(t,e){return e-=t=+t,function(n){return t+e*n}}function hn(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=yn(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var dn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pn=new RegExp(dn.source,"g");function gn(t,e){var n,r,i,a=dn.lastIndex=pn.lastIndex=0,o=-1,s=[],u=[];for(t+="",e+="";(n=dn.exec(t))&&(r=pn.exec(e));)(i=r.index)>a&&(i=e.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,u.push({i:o,x:fn(n,r)})),a=pn.lastIndex;return a<e.length&&(i=e.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function yn(t,e){var n,r=typeof e;return null==e||"boolean"===r?tn(e):("number"===r?fn:"string"===r?(n=fe(e))?(e=n,an):gn:e instanceof fe?an:e instanceof Date?ln:Array.isArray(e)?cn:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?hn:fn)(t,e)}function vn(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}}var mn,bn,xn,_n,wn=180/Math.PI,kn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Mn(t,e,n,r,i,a){var o,s,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*wn,skewX:Math.atan(u)*wn,scaleX:o,scaleY:s}}function An(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(a,o){var s=[],u=[];return a=t(a),o=t(o),function(t,r,i,a,o,s){if(t!==i||r!==a){var u=o.push("translate(",null,e,null,n);s.push({i:u-4,x:fn(t,i)},{i:u-2,x:fn(r,a)})}else(i||a)&&o.push("translate("+i+e+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,s,u),function(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),u.push({i:n.push(i(n)+"rotate(",null,r)-2,x:fn(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(a.rotate,o.rotate,s),function(t,e,n,a){t!==e?u.push({i:n.push(i(n)+"skewX(",null,r)-2,x:fn(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(a.skewX,o.skewX,s),function(t,e,n,r,a,o){if(t!==n||e!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:fn(t,n)},{i:s-2,x:fn(e,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,u),a=o=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}var Tn=An(function(t){return"none"===t?kn:(mn||(mn=document.createElement("DIV"),bn=document.documentElement,xn=document.defaultView),mn.style.transform=t,t=xn.getComputedStyle(bn.appendChild(mn),null).getPropertyValue("transform"),bn.removeChild(mn),Mn(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),En=An(function(t){return null==t?kn:(_n||(_n=document.createElementNS("http://www.w3.org/2000/svg","g")),_n.setAttribute("transform",t),(t=_n.transform.baseVal.consolidate())?Mn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):kn)},", ",")",")"),Cn=Math.SQRT2,Sn=2,Nn=4,Rn=1e-12;function Pn(t){return((t=Math.exp(t))+1/t)/2}function zn(t,e){var n,r,i=t[0],a=t[1],o=t[2],s=e[0],u=e[1],c=e[2],l=s-i,f=u-a,h=l*l+f*f;if(h<Rn)r=Math.log(c/o)/Cn,n=function(t){return[i+t*l,a+t*f,o*Math.exp(Cn*t*r)]};else{var d=Math.sqrt(h),p=(c*c-o*o+Nn*h)/(2*o*Sn*d),g=(c*c-o*o-Nn*h)/(2*c*Sn*d),y=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(g*g+1)-g);r=(v-y)/Cn,n=function(t){var e,n=t*r,s=Pn(y),u=o/(Sn*d)*(s*(e=Cn*n+y,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(y));return[i+u*l,a+u*f,o*s/Pn(Cn*n+y)]}}return n.duration=1e3*r,n}function On(t){return function(e,n){var r=t((e=be(e)).h,(n=be(n)).h),i=rn(e.s,n.s),a=rn(e.l,n.l),o=rn(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=a(t),e.opacity=o(t),e+""}}}var Ln=On(nn),Dn=On(rn);function In(t){return function(e,n){var r=t((e=Ye(e)).h,(n=Ye(n)).h),i=rn(e.c,n.c),a=rn(e.l,n.l),o=rn(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=a(t),e.opacity=o(t),e+""}}}var jn=In(nn),Yn=In(rn);function Bn(t){return function e(n){function r(e,r){var i=t((e=Xe(e)).h,(r=Xe(r)).h),a=rn(e.s,r.s),o=rn(e.l,r.l),s=rn(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=a(t),e.l=o(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}var Hn,Un,Fn=Bn(nn),qn=Bn(rn),$n=0,Wn=0,Gn=0,Vn=1e3,Xn=0,Jn=0,Kn=0,Zn="object"==typeof performance&&performance.now?performance:Date,Qn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function tr(){return Jn||(Qn(er),Jn=Zn.now()+Kn)}function er(){Jn=0}function nr(){this._call=this._time=this._next=null}function rr(t,e,n){var r=new nr;return r.restart(t,e,n),r}function ir(){tr(),++$n;for(var t,e=Hn;e;)(t=Jn-e._time)>=0&&e._call.call(null,t),e=e._next;--$n}function ar(){Jn=(Xn=Zn.now())+Kn,$n=Wn=0;try{ir()}finally{$n=0,function(){for(var t,e,n=Hn,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Hn=e);Un=t,sr(r)}(),Jn=0}}function or(){var t=Zn.now(),e=t-Xn;e>Vn&&(Kn-=e,Xn=t)}function sr(t){$n||(Wn&&(Wn=clearTimeout(Wn)),t-Jn>24?(t<1/0&&(Wn=setTimeout(ar,t-Zn.now()-Kn)),Gn&&(Gn=clearInterval(Gn))):(Gn||(Xn=Zn.now(),Gn=setInterval(or,Vn)),$n=1,Qn(ar)))}function ur(t,e,n){var r=new nr;return e=null==e?0:+e,r.restart(function(n){r.stop(),t(n+e)},e,n),r}nr.prototype=rr.prototype={constructor:nr,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?tr():+n)+(null==e?0:+e),this._next||Un===this||(Un?Un._next=this:Hn=this,Un=this),this._call=t,this._time=n,sr()},stop:function(){this._call&&(this._call=null,this._time=1/0,sr())}};var cr=U("start","end","cancel","interrupt"),lr=[],fr=0,hr=1,dr=2,pr=3,gr=4,yr=5,vr=6;function mr(t,e,n,r,i,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function a(u){var c,l,f,h;if(n.state!==hr)return s();for(c in i)if((h=i[c]).name===n.name){if(h.state===pr)return ur(a);h.state===gr?(h.state=vr,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[c]):+c<e&&(h.state=vr,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[c])}if(ur(function(){n.state===pr&&(n.state=gr,n.timer.restart(o,n.delay,n.time),o(u))}),n.state=dr,n.on.call("start",t,t.__data__,n.index,n.group),n.state===dr){for(n.state=pr,r=new Array(f=n.tween.length),c=0,l=-1;c<f;++c)(h=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++l]=h);r.length=l+1}}function o(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=yr,1),a=-1,o=r.length;++a<o;)r[a].call(t,i);n.state===yr&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=vr,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=rr(function(t){n.state=hr,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:i,on:cr,tween:lr,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:fr})}function br(t,e){var n=_r(t,e);if(n.state>fr)throw new Error("too late; already scheduled");return n}function xr(t,e){var n=_r(t,e);if(n.state>pr)throw new Error("too late; already running");return n}function _r(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function wr(t,e){var n,r,i,a=t.__transition,o=!0;if(a){for(i in e=null==e?null:e+"",a)(n=a[i]).name===e?(r=n.state>dr&&n.state<yr,n.state=vr,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete t.__transition}}function kr(t,e,n){var r=t._id;return t.each(function(){var t=xr(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return _r(t,r).value[e]}}function Mr(t,e){var n;return("number"==typeof e?fn:e instanceof fe?an:(n=fe(e))?(e=n,an):gn)(t,e)}var Ar=Rt.prototype.constructor;function Tr(t){return function(){this.style.removeProperty(t)}}var Er=0;function Cr(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Sr(t){return Rt().transition(t)}function Nr(){return++Er}var Rr=Rt.prototype;function Pr(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function zr(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Cr.prototype=Sr.prototype={constructor:Cr,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=K(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s,u,c=r[o],l=c.length,f=a[o]=new Array(l),h=0;h<l;++h)(s=c[h])&&(u=t.call(s,s.__data__,h,c))&&("__data__"in s&&(u.__data__=s.__data__),f[h]=u,mr(f[h],e,n,h,f,_r(s,n)));return new Cr(a,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Q(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var u,c=r[s],l=c.length,f=0;f<l;++f)if(u=c[f]){for(var h,d=t.call(u,u.__data__,f,c),p=_r(u,n),g=0,y=d.length;g<y;++g)(h=d[g])&&mr(h,e,n,g,d,p);a.push(d),o.push(u)}return new Cr(a,o,e,n)},filter:function(t){"function"!=typeof t&&(t=tt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,u=r[i]=[],c=0;c<s;++c)(a=o[c])&&t.call(a,a.__data__,c,o)&&u.push(a);return new Cr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u,c=e[s],l=n[s],f=c.length,h=o[s]=new Array(f),d=0;d<f;++d)(u=c[d]||l[d])&&(h[d]=u);for(;s<r;++s)o[s]=e[s];return new Cr(o,this._parents,this._name,this._id)},selection:function(){return new Ar(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Nr(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],u=s.length,c=0;c<u;++c)if(o=s[c]){var l=_r(o,e);mr(o,t,n,c,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Cr(r,this._parents,t,n)},call:Rr.call,nodes:Rr.nodes,node:Rr.node,size:Rr.size,empty:Rr.empty,each:Rr.each,on:function(t,e){var n=this._id;return arguments.length<2?_r(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,a=(e+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})?br:xr;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}(n,t,e))},attr:function(t,e){var n=V(t),r="transform"===n?En:Mr;return this.attrTween(t,"function"==typeof e?(n.local?function(t,e,n){var r,i,a;return function(){var o,s,u=n(this);if(null!=u)return(o=this.getAttributeNS(t.space,t.local))===(s=u+"")?null:o===r&&s===i?a:(i=s,a=e(r=o,u));this.removeAttributeNS(t.space,t.local)}}:function(t,e,n){var r,i,a;return function(){var o,s,u=n(this);if(null!=u)return(o=this.getAttribute(t))===(s=u+"")?null:o===r&&s===i?a:(i=s,a=e(r=o,u));this.removeAttribute(t)}})(n,r,kr(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=e(r=o,n)}}:function(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=e(r=o,n)}})(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=V(t);return this.tween(n,(r.local?function(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e(n))}}(t,i)),n}return i._value=e,i}:function(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttribute(t,e(n))}}(t,i)),n}return i._value=e,i})(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Tn:Mr;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var a=ut(this,t),o=(this.style.removeProperty(t),ut(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}(t,r)).on("end.style."+t,Tr(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,a;return function(){var o=ut(this,t),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=ut(this,t)),o===u?null:o===r&&u===i?a:(i=u,a=e(r=o,s))}}(t,r,kr(this,"style."+t,e))).each(function(t,e){var n,r,i,a,o="style."+e,s="end."+o;return function(){var u=xr(this,t),c=u.on,l=null==u.value[o]?a||(a=Tr(e)):void 0;c===n&&i===l||(r=(n=c).copy()).on(s,i=l),u.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,a=n+"";return function(){var o=ut(this,t);return o===a?null:o===r?i:i=e(r=o,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,i;function a(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&function(t,e,n){return function(r){this.style.setProperty(t,e(r),n)}}(t,a,n)),r}return a._value=e,a}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(kr(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=_r(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==e?function(t,e){var n,r;return function(){var i=xr(this,t),a=i.tween;if(a!==n)for(var o=0,s=(r=n=a).length;o<s;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}i.tween=r}}:function(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var a=xr(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===e){i[u]=s;break}u===c&&i.push(s)}a.tween=i}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){br(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){br(this,t).delay=e}})(e,t)):_r(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){xr(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){xr(this,t).duration=e}})(e,t)):_r(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){xr(this,t).ease=e}}(e,t)):_r(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var s={value:o},u={value:function(){0==--i&&a()}};n.each(function(){var n=xr(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e})})}};var Or=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),Lr=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),Dr=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),Ir=Math.PI,jr=Ir/2;function Yr(t){return(1-Math.cos(Ir*t))/2}function Br(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function Hr(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Ur=4/11,Fr=6/11,qr=8/11,$r=.75,Wr=9/11,Gr=10/11,Vr=.9375,Xr=21/22,Jr=63/64,Kr=1/Ur/Ur;function Zr(t){return(t=+t)<Ur?Kr*t*t:t<qr?Kr*(t-=Fr)*t+$r:t<Gr?Kr*(t-=Wr)*t+Vr:Kr*(t-=Xr)*t+Jr}var Qr=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),ti=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),ei=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),ni=2*Math.PI,ri=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=ni);function i(t){return e*Math.pow(2,10*--t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*ni)},i.period=function(n){return t(e,n)},i}(1,.3),ii=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=ni);function i(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*ni)},i.period=function(n){return t(e,n)},i}(1,.3),ai=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=ni);function i(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((r-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*ni)},i.period=function(n){return t(e,n)},i}(1,.3),oi={time:null,delay:0,duration:250,ease:zr};function si(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return oi.time=tr(),oi;return n}Rt.prototype.interrupt=function(t){return this.each(function(){wr(this,t)})},Rt.prototype.transition=function(t){var e,n;t instanceof Cr?(e=t._id,t=t._name):(e=Nr(),(n=oi).time=tr(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],u=s.length,c=0;c<u;++c)(o=s[c])&&mr(o,t,e,c,s,n||si(o,e));return new Cr(r,this._parents,t,e)};var ui=[null];function ci(t){return function(){return t}}function li(t,e,n){this.target=t,this.type=e,this.selection=n}function fi(){t.event.stopImmediatePropagation()}function hi(){t.event.preventDefault(),t.event.stopImmediatePropagation()}var di={name:"drag"},pi={name:"space"},gi={name:"handle"},yi={name:"center"},vi={name:"x",handles:["e","w"].map(Ai),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},mi={name:"y",handles:["n","s"].map(Ai),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},bi={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(Ai),input:function(t){return t},output:function(t){return t}},xi={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},_i={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},wi={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},ki={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Mi={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Ai(t){return{type:t}}function Ti(){return!t.event.button}function Ei(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Ci(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Si(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Ni(e){var n,r=Ei,i=Ti,a=U(s,"start","brush","end"),o=6;function s(t){var n=t.property("__brush",h).selectAll(".overlay").data([Ai("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",xi.overlay).merge(n).each(function(){var t=Ci(this).extent;Pt(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([Ai("selection")]).enter().append("rect").attr("class","selection").attr("cursor",xi.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=t.selectAll(".handle").data(e.handles,function(t){return t.type});r.exit().remove(),r.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return xi[t.type]}),t.each(u).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",f)}function u(){var t=Pt(this),e=Ci(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-o/2:e[0][0]-o/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-o/2:e[0][1]-o/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+o:o}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+o:o})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(t,e){return t.__brush.emitter||new l(t,e)}function l(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function f(){if(t.event.touches){if(t.event.changedTouches.length<t.event.touches.length)return hi()}else if(n)return;if(i.apply(this,arguments)){var r,a,o,s,l,f,h,d,p,g,y,v,m,b=this,x=t.event.target.__data__.type,_="selection"===(t.event.metaKey?x="overlay":x)?di:t.event.altKey?yi:gi,w=e===mi?null:ki[x],k=e===vi?null:Mi[x],M=Ci(b),A=M.extent,T=M.selection,E=A[0][0],C=A[0][1],S=A[1][0],N=A[1][1],R=w&&k&&t.event.shiftKey,P=jt(b),z=P,O=c(b,arguments).beforestart();"overlay"===x?M.selection=T=[[r=e===mi?E:P[0],o=e===vi?C:P[1]],[l=e===mi?S:r,h=e===vi?N:o]]:(r=T[0][0],o=T[0][1],l=T[1][0],h=T[1][1]),a=r,s=o,f=l,d=h;var L=Pt(b).attr("pointer-events","none"),D=L.selectAll(".overlay").attr("cursor",xi[x]);if(t.event.touches)L.on("touchmove.brush",j,!0).on("touchend.brush touchcancel.brush",B,!0);else{var I=Pt(t.event.view).on("keydown.brush",function(){switch(t.event.keyCode){case 16:R=w&&k;break;case 18:_===gi&&(w&&(l=f-p*w,r=a+p*w),k&&(h=d-g*k,o=s+g*k),_=yi,Y());break;case 32:_!==gi&&_!==yi||(w<0?l=f-p:w>0&&(r=a-p),k<0?h=d-g:k>0&&(o=s-g),_=pi,D.attr("cursor",xi.selection),Y());break;default:return}hi()},!0).on("keyup.brush",function(){switch(t.event.keyCode){case 16:R&&(v=m=R=!1,Y());break;case 18:_===yi&&(w<0?l=f:w>0&&(r=a),k<0?h=d:k>0&&(o=s),_=gi,Y());break;case 32:_===pi&&(t.event.altKey?(w&&(l=f-p*w,r=a+p*w),k&&(h=d-g*k,o=s+g*k),_=yi):(w<0?l=f:w>0&&(r=a),k<0?h=d:k>0&&(o=s),_=gi),D.attr("cursor",xi[x]),Y());break;default:return}hi()},!0).on("mousemove.brush",j,!0).on("mouseup.brush",B,!0);Ut(t.event.view)}fi(),wr(b),u.call(b),O.start()}function j(){var t=jt(b);!R||v||m||(Math.abs(t[0]-z[0])>Math.abs(t[1]-z[1])?m=!0:v=!0),z=t,y=!0,hi(),Y()}function Y(){var t;switch(p=z[0]-P[0],g=z[1]-P[1],_){case pi:case di:w&&(p=Math.max(E-r,Math.min(S-l,p)),a=r+p,f=l+p),k&&(g=Math.max(C-o,Math.min(N-h,g)),s=o+g,d=h+g);break;case gi:w<0?(p=Math.max(E-r,Math.min(S-r,p)),a=r+p,f=l):w>0&&(p=Math.max(E-l,Math.min(S-l,p)),a=r,f=l+p),k<0?(g=Math.max(C-o,Math.min(N-o,g)),s=o+g,d=h):k>0&&(g=Math.max(C-h,Math.min(N-h,g)),s=o,d=h+g);break;case yi:w&&(a=Math.max(E,Math.min(S,r-p*w)),f=Math.max(E,Math.min(S,l+p*w))),k&&(s=Math.max(C,Math.min(N,o-g*k)),d=Math.max(C,Math.min(N,h+g*k)))}f<a&&(w*=-1,t=r,r=l,l=t,t=a,a=f,f=t,x in _i&&D.attr("cursor",xi[x=_i[x]])),d<s&&(k*=-1,t=o,o=h,h=t,t=s,s=d,d=t,x in wi&&D.attr("cursor",xi[x=wi[x]])),M.selection&&(T=M.selection),v&&(a=T[0][0],f=T[1][0]),m&&(s=T[0][1],d=T[1][1]),T[0][0]===a&&T[0][1]===s&&T[1][0]===f&&T[1][1]===d||(M.selection=[[a,s],[f,d]],u.call(b),O.brush())}function B(){if(fi(),t.event.touches){if(t.event.touches.length)return;n&&clearTimeout(n),n=setTimeout(function(){n=null},500),L.on("touchmove.brush touchend.brush touchcancel.brush",null)}else Ft(t.event.view,y),I.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);L.attr("pointer-events","all"),D.attr("cursor",xi.overlay),M.selection&&(T=M.selection),Si(T)&&(M.selection=null,u.call(b)),O.end()}}function h(){var t=this.__brush||{selection:null};return t.extent=r.apply(this,arguments),t.dim=e,t}return s.move=function(t,n){t.selection?t.on("start.brush",function(){c(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){c(this,arguments).end()}).tween("brush",function(){var t=this,r=t.__brush,i=c(t,arguments),a=r.selection,o=e.input("function"==typeof n?n.apply(this,arguments):n,r.extent),s=yn(a,o);function l(e){r.selection=1===e&&Si(o)?null:s(e),u.call(t),i.brush()}return a&&o?l:l(1)}):t.each(function(){var t=arguments,r=this.__brush,i=e.input("function"==typeof n?n.apply(this,t):n,r.extent),a=c(this,t).beforestart();wr(this),r.selection=null==i||Si(i)?null:i,u.call(this),a.start().brush().end()})},l.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){Et(new li(s,t,e.output(this.state.selection)),a.apply,a,[t,this.that,this.args])}},s.extent=function(t){return arguments.length?(r="function"==typeof t?t:ci([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),s):r},s.filter=function(t){return arguments.length?(i="function"==typeof t?t:ci(!!t),s):i},s.handleSize=function(t){return arguments.length?(o=+t,s):o},s.on=function(){var t=a.on.apply(a,arguments);return t===a?s:t},s}var Ri=Math.cos,Pi=Math.sin,zi=Math.PI,Oi=zi/2,Li=2*zi,Di=Math.max,Ii=Array.prototype.slice;function ji(t){return function(){return t}}var Yi=Math.PI,Bi=2*Yi,Hi=Bi-1e-6;function Ui(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Fi(){return new Ui}function qi(t){return t.source}function $i(t){return t.target}function Wi(t){return t.radius}function Gi(t){return t.startAngle}function Vi(t){return t.endAngle}function Xi(){}function Ji(t,e){var n=new Xi;if(t instanceof Xi)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,i=-1,a=t.length;if(null==e)for(;++i<a;)n.set(i,t[i]);else for(;++i<a;)n.set(e(r=t[i],i,t),r)}else if(t)for(var o in t)n.set(o,t[o]);return n}function Ki(){return{}}function Zi(t,e,n){t[e]=n}function Qi(){return Ji()}function ta(t,e,n){t.set(e,n)}function ea(){}Ui.prototype=Fi.prototype={constructor:Ui,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var a=this._x1,o=this._y1,s=n-t,u=r-e,c=a-t,l=o-e,f=c*c+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>1e-6)if(Math.abs(l*s-u*c)>1e-6&&i){var h=n-a,d=r-o,p=s*s+u*u,g=h*h+d*d,y=Math.sqrt(p),v=Math.sqrt(f),m=i*Math.tan((Yi-Math.acos((p+f-g)/(2*y*v)))/2),b=m/v,x=m/y;Math.abs(b-1)>1e-6&&(this._+="L"+(t+b*c)+","+(e+b*l)),this._+="A"+i+","+i+",0,0,"+ +(l*h>c*d)+","+(this._x1=t+x*s)+","+(this._y1=e+x*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,r,i,a){t=+t,e=+e;var o=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=t+o,c=e+s,l=1^a,f=a?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+c:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+u+","+c),n&&(f<0&&(f=f%Bi+Bi),f>Hi?this._+="A"+n+","+n+",0,1,"+l+","+(t-o)+","+(e-s)+"A"+n+","+n+",0,1,"+l+","+(this._x1=u)+","+(this._y1=c):f>1e-6&&(this._+="A"+n+","+n+",0,"+ +(f>=Yi)+","+l+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},Xi.prototype=Ji.prototype={constructor:Xi,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var na=Ji.prototype;function ra(t,e){var n=new ea;if(t instanceof ea)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}ea.prototype=ra.prototype={constructor:ea,has:na.has,add:function(t){return this["$"+(t+="")]=t,this},remove:na.remove,clear:na.clear,values:na.keys,size:na.size,empty:na.empty,each:na.each};var ia=Array.prototype.slice;function aa(t,e){return t-e}function oa(t){return function(){return t}}function sa(t,e){for(var n,r=-1,i=e.length;++r<i;)if(n=ua(t,e[r]))return n;return 0}function ua(t,e){for(var n=e[0],r=e[1],i=-1,a=0,o=t.length,s=o-1;a<o;s=a++){var u=t[a],c=u[0],l=u[1],f=t[s],h=f[0],d=f[1];if(ca(u,f,e))return 0;l>r!=d>r&&n<(h-c)*(r-l)/(d-l)+c&&(i=-i)}return i}function ca(t,e,n){var r,i,a,o;return function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])==(n[0]-t[0])*(e[1]-t[1])}(t,e,n)&&(i=t[r=+(t[0]===e[0])],a=n[r],o=e[r],i<=a&&a<=o||o<=a&&a<=i)}function la(){}var fa=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function ha(){var t=1,e=1,n=k,r=s;function i(t){var e=n(t);if(Array.isArray(e))e=e.slice().sort(aa);else{var r=l(t),i=r[0],o=r[1];e=w(i,o,e),e=y(Math.floor(i/e)*e,Math.floor(o/e)*e,e)}return e.map(function(e){return a(t,e)})}function a(n,i){var a=[],s=[];return function(n,r,i){var a,s,u,c,l,f,h=new Array,d=new Array;for(a=s=-1,c=n[0]>=r,fa[c<<1].forEach(p);++a<t-1;)u=c,c=n[a+1]>=r,fa[u|c<<1].forEach(p);for(fa[c<<0].forEach(p);++s<e-1;){for(a=-1,c=n[s*t+t]>=r,l=n[s*t]>=r,fa[c<<1|l<<2].forEach(p);++a<t-1;)u=c,c=n[s*t+t+a+1]>=r,f=l,l=n[s*t+a+1]>=r,fa[u|c<<1|l<<2|f<<3].forEach(p);fa[c|l<<3].forEach(p)}for(a=-1,l=n[s*t]>=r,fa[l<<2].forEach(p);++a<t-1;)f=l,l=n[s*t+a+1]>=r,fa[l<<2|f<<3].forEach(p);function p(t){var e,n,r=[t[0][0]+a,t[0][1]+s],u=[t[1][0]+a,t[1][1]+s],c=o(r),l=o(u);(e=d[c])?(n=h[l])?(delete d[e.end],delete h[n.start],e===n?(e.ring.push(u),i(e.ring)):h[e.start]=d[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete d[e.end],e.ring.push(u),d[e.end=l]=e):(e=h[l])?(n=d[c])?(delete h[e.start],delete d[n.end],e===n?(e.ring.push(u),i(e.ring)):h[n.start]=d[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete h[e.start],e.ring.unshift(r),h[e.start=c]=e):h[c]=d[l]={start:c,end:l,ring:[r,u]}}fa[l<<3].forEach(p)}(n,i,function(t){r(t,n,i),function(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}(t)>0?a.push([t]):s.push(t)}),s.forEach(function(t){for(var e,n=0,r=a.length;n<r;++n)if(-1!==sa((e=a[n])[0],t))return void e.push(t)}),{type:"MultiPolygon",value:i,coordinates:a}}function o(e){return 2*e[0]+e[1]*(t+1)*4}function s(n,r,i){n.forEach(function(n){var a,o=n[0],s=n[1],u=0|o,c=0|s,l=r[c*t+u];o>0&&o<t&&u===o&&(a=r[c*t+u-1],n[0]=o+(i-a)/(l-a)-.5),s>0&&s<e&&c===s&&(a=r[(c-1)*t+u],n[1]=s+(i-a)/(l-a)-.5)})}return i.contour=a,i.size=function(n){if(!arguments.length)return[t,e];var r=Math.ceil(n[0]),a=Math.ceil(n[1]);if(!(r>0&&a>0))throw new Error("invalid size");return t=r,e=a,i},i.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?oa(ia.call(t)):oa(t),i):n},i.smooth=function(t){return arguments.length?(r=t?s:la,i):r===s},i}function da(t,e,n){for(var r=t.width,i=t.height,a=1+(n<<1),o=0;o<i;++o)for(var s=0,u=0;s<r+n;++s)s<r&&(u+=t.data[s+o*r]),s>=n&&(s>=a&&(u-=t.data[s-a+o*r]),e.data[s-n+o*r]=u/Math.min(s+1,r-1+a-s,a))}function pa(t,e,n){for(var r=t.width,i=t.height,a=1+(n<<1),o=0;o<r;++o)for(var s=0,u=0;s<i+n;++s)s<i&&(u+=t.data[o+s*r]),s>=n&&(s>=a&&(u-=t.data[o+(s-a)*r]),e.data[o+(s-n)*r]=u/Math.min(s+1,i-1+a-s,a))}function ga(t){return t[0]}function ya(t){return t[1]}function va(){return 1}var ma={},ba={},xa=34,_a=10,wa=13;function ka(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function Ma(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var r in t)r in e||n.push(e[r]=r)}),n}function Aa(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function Ta(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],a=t.length,o=0,s=0,u=a<=0,c=!1;function l(){if(u)return ba;if(c)return c=!1,ma;var e,r,i=o;if(t.charCodeAt(i)===xa){for(;o++<a&&t.charCodeAt(o)!==xa||t.charCodeAt(++o)===xa;);return(e=o)>=a?u=!0:(r=t.charCodeAt(o++))===_a?c=!0:r===wa&&(c=!0,t.charCodeAt(o)===_a&&++o),t.slice(i+1,e-1).replace(/""/g,'"')}for(;o<a;){if((r=t.charCodeAt(e=o++))===_a)c=!0;else if(r===wa)c=!0,t.charCodeAt(o)===_a&&++o;else if(r!==n)continue;return t.slice(i,e)}return u=!0,t.slice(i,a)}for(t.charCodeAt(a-1)===_a&&--a,t.charCodeAt(a-1)===wa&&--a;(r=l())!==ba;){for(var f=[];r!==ma&&r!==ba;)f.push(r),r=l();e&&null==(f=e(f,s++))||i.push(f)}return i}function i(e,n){return e.map(function(e){return n.map(function(t){return o(e[t])}).join(t)})}function a(e){return e.map(o).join(t)}function o(t){return null==t?"":t instanceof Date?function(t){var e,n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),a=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+Aa(-e,6):e>9999?"+"+Aa(e,6):Aa(e,4))+"-"+Aa(t.getUTCMonth()+1,2)+"-"+Aa(t.getUTCDate(),2)+(a?"T"+Aa(n,2)+":"+Aa(r,2)+":"+Aa(i,2)+"."+Aa(a,3)+"Z":i?"T"+Aa(n,2)+":"+Aa(r,2)+":"+Aa(i,2)+"Z":r||n?"T"+Aa(n,2)+":"+Aa(r,2)+"Z":"")}(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,a=r(t,function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=ka(t);return function(r,i){return e(n(r),i,t)}}(t,e):ka(t)});return a.columns=i||[],a},parseRows:r,format:function(e,n){return null==n&&(n=Ma(e)),[n.map(o).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=Ma(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(a).join("\n")}}}var Ea=Ta(","),Ca=Ea.parse,Sa=Ea.parseRows,Na=Ea.format,Ra=Ea.formatBody,Pa=Ea.formatRows,za=Ta("\t"),Oa=za.parse,La=za.parseRows,Da=za.format,Ia=za.formatBody,ja=za.formatRows;function Ya(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function Ba(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function Ha(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Ua(t,e){return fetch(t,e).then(Ha)}function Fa(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),Ua(e,n).then(function(e){return t(e,r)})}}var qa=Fa(Ca),$a=Fa(Oa);function Wa(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.json()}function Ga(t){return function(e,n){return Ua(e,n).then(function(e){return(new DOMParser).parseFromString(e,t)})}}var Va=Ga("application/xml"),Xa=Ga("text/html"),Ja=Ga("image/svg+xml");function Ka(t){return function(){return t}}function Za(){return 1e-6*(Math.random()-.5)}function Qa(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,a,o,s,u,c,l,f,h,d=t._root,p={data:r},g=t._x0,y=t._y0,v=t._x1,m=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=e>=(a=(g+v)/2))?g=a:v=a,(l=n>=(o=(y+m)/2))?y=o:m=o,i=d,!(d=d[f=l<<1|c]))return i[f]=p,t;if(s=+t._x.call(null,d.data),u=+t._y.call(null,d.data),e===s&&n===u)return p.next=d,i?i[f]=p:t._root=p,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(c=e>=(a=(g+v)/2))?g=a:v=a,(l=n>=(o=(y+m)/2))?y=o:m=o}while((f=l<<1|c)==(h=(u>=o)<<1|s>=a));return i[h]=d,i[f]=p,t}function to(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function eo(t){return t[0]}function no(t){return t[1]}function ro(t,e,n){var r=new io(null==e?eo:e,null==n?no:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function io(t,e,n,r,i,a){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function ao(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var oo=ro.prototype=io.prototype;function so(t){return t.x+t.vx}function uo(t){return t.y+t.vy}function co(t){return t.index}function lo(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function fo(t){return t.x}function ho(t){return t.y}oo.copy=function(){var t,e,n=new io(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=ao(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=ao(e));return n},oo.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Qa(this.cover(e,n),e,n,t)},oo.addAll=function(t){var e,n,r,i,a=t.length,o=new Array(a),s=new Array(a),u=1/0,c=1/0,l=-1/0,f=-1/0;for(n=0;n<a;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(o[n]=r,s[n]=i,r<u&&(u=r),r>l&&(l=r),i<c&&(c=i),i>f&&(f=i));if(u>l||c>f)return this;for(this.cover(u,c).cover(l,f),n=0;n<a;++n)Qa(this,o[n],s[n],t[n]);return this},oo.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,a=(r=Math.floor(e))+1;else{for(var o,s,u=i-n,c=this._root;n>t||t>=i||r>e||e>=a;)switch(s=(e<r)<<1|t<n,(o=new Array(4))[s]=c,c=o,u*=2,s){case 0:i=n+u,a=r+u;break;case 1:n=i-u,a=r+u;break;case 2:i=n+u,r=a-u;break;case 3:n=i-u,r=a-u}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this},oo.data=function(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t},oo.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},oo.find=function(t,e,n){var r,i,a,o,s,u,c,l=this._x0,f=this._y0,h=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new to(g,l,f,h,d)),null==n?n=1/0:(l=t-n,f=e-n,h=t+n,d=e+n,n*=n);u=p.pop();)if(!(!(g=u.node)||(i=u.x0)>h||(a=u.y0)>d||(o=u.x1)<l||(s=u.y1)<f))if(g.length){var y=(i+o)/2,v=(a+s)/2;p.push(new to(g[3],y,v,o,s),new to(g[2],i,v,y,s),new to(g[1],y,a,o,v),new to(g[0],i,a,y,v)),(c=(e>=v)<<1|t>=y)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=u)}else{var m=t-+this._x.call(null,g.data),b=e-+this._y.call(null,g.data),x=m*m+b*b;if(x<n){var _=Math.sqrt(n=x);l=t-_,f=e-_,h=t+_,d=e+_,r=g.data}}return r},oo.remove=function(t){if(isNaN(a=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var e,n,r,i,a,o,s,u,c,l,f,h,d=this._root,p=this._x0,g=this._y0,y=this._x1,v=this._y1;if(!d)return this;if(d.length)for(;;){if((c=a>=(s=(p+y)/2))?p=s:y=s,(l=o>=(u=(g+v)/2))?g=u:v=u,e=d,!(d=d[f=l<<1|c]))return this;if(!d.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(n=e,h=f)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):e?(i?e[f]=i:delete e[f],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[h]=d:this._root=d),this):(this._root=i,this)},oo.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},oo.root=function(){return this._root},oo.size=function(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t},oo.visit=function(t){var e,n,r,i,a,o,s=[],u=this._root;for(u&&s.push(new to(u,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(u=e.node,r=e.x0,i=e.y0,a=e.x1,o=e.y1)&&u.length){var c=(r+a)/2,l=(i+o)/2;(n=u[3])&&s.push(new to(n,c,l,a,o)),(n=u[2])&&s.push(new to(n,r,l,c,o)),(n=u[1])&&s.push(new to(n,c,i,a,l)),(n=u[0])&&s.push(new to(n,r,i,c,l))}return this},oo.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new to(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var a,o=e.x0,s=e.y0,u=e.x1,c=e.y1,l=(o+u)/2,f=(s+c)/2;(a=i[0])&&n.push(new to(a,o,s,l,f)),(a=i[1])&&n.push(new to(a,l,s,u,f)),(a=i[2])&&n.push(new to(a,o,f,l,c)),(a=i[3])&&n.push(new to(a,l,f,u,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},oo.x=function(t){return arguments.length?(this._x=t,this):this._x},oo.y=function(t){return arguments.length?(this._y=t,this):this._y};var po=10,go=Math.PI*(3-Math.sqrt(5));function yo(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function vo(t){return(t=yo(Math.abs(t)))?t[1]:NaN}var mo,bo=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xo(t){return new _o(t)}function _o(t){if(!(e=bo.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}function wo(t,e){var n=yo(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}xo.prototype=_o.prototype,_o.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var ko={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return wo(100*t,e)},r:wo,s:function(t,e){var n=yo(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(mo=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+yo(t,Math.max(0,e+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Mo(t){return t}var Ao,To=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Eo(t){var e,n,r=t.grouping&&t.thousands?(e=t.grouping,n=t.thousands,function(t,r){for(var i=t.length,a=[],o=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),a.push(t.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(n)}):Mo,i=t.currency,a=t.decimal,o=t.numerals?function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(t.numerals):Mo,s=t.percent||"%";function u(t){var e=(t=xo(t)).fill,n=t.align,u=t.sign,c=t.symbol,l=t.zero,f=t.width,h=t.comma,d=t.precision,p=t.trim,g=t.type;"n"===g?(h=!0,g="g"):ko[g]||(null==d&&(d=12),p=!0,g="g"),(l||"0"===e&&"="===n)&&(l=!0,e="0",n="=");var y="$"===c?i[0]:"#"===c&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",v="$"===c?i[1]:/[%p]/.test(g)?s:"",m=ko[g],b=/[defgprs%]/.test(g);function x(t){var i,s,c,x=y,_=v;if("c"===g)_=m(t)+_,t="";else{var w=(t=+t)<0;if(t=m(Math.abs(t),d),p&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(i>0){if(!+t[r])break t;i=0}}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),w&&0==+t&&(w=!1),x=(w?"("===u?u:"-":"-"===u||"("===u?"":u)+x,_=("s"===g?To[8+mo/3]:"")+_+(w&&"("===u?")":""),b)for(i=-1,s=t.length;++i<s;)if(48>(c=t.charCodeAt(i))||c>57){_=(46===c?a+t.slice(i+1):t.slice(i))+_,t=t.slice(0,i);break}}h&&!l&&(t=r(t,1/0));var k=x.length+t.length+_.length,M=k<f?new Array(f-k+1).join(e):"";switch(h&&l&&(t=r(M+t,M.length?f-_.length:1/0),M=""),n){case"<":t=x+t+_+M;break;case"=":t=x+M+t+_;break;case"^":t=M.slice(0,k=M.length>>1)+x+t+_+M.slice(k);break;default:t=M+x+t+_}return o(t)}return d=null==d?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),x.toString=function(){return t+""},x}return{format:u,formatPrefix:function(t,e){var n=u(((t=xo(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(vo(e)/3))),i=Math.pow(10,-r),a=To[8+r/3];return function(t){return n(i*t)+a}}}}function Co(e){return Ao=Eo(e),t.format=Ao.format,t.formatPrefix=Ao.formatPrefix,Ao}function So(t){return Math.max(0,-vo(Math.abs(t)))}function No(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(vo(e)/3)))-vo(Math.abs(t)))}function Ro(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,vo(e)-vo(t))+1}function Po(){return new zo}function zo(){this.reset()}Co({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),zo.prototype={constructor:zo,reset:function(){this.s=this.t=0},add:function(t){Lo(Oo,t,this.t),Lo(this,Oo.s,this.s),this.s?this.t+=Oo.t:this.s=Oo.t},valueOf:function(){return this.s}};var Oo=new zo;function Lo(t,e,n){var r=t.s=e+n,i=r-e,a=r-i;t.t=e-a+(n-i)}var Do=1e-6,Io=1e-12,jo=Math.PI,Yo=jo/2,Bo=jo/4,Ho=2*jo,Uo=180/jo,Fo=jo/180,qo=Math.abs,$o=Math.atan,Wo=Math.atan2,Go=Math.cos,Vo=Math.ceil,Xo=Math.exp,Jo=Math.log,Ko=Math.pow,Zo=Math.sin,Qo=Math.sign||function(t){return t>0?1:t<0?-1:0},ts=Math.sqrt,es=Math.tan;function ns(t){return t>1?0:t<-1?jo:Math.acos(t)}function rs(t){return t>1?Yo:t<-1?-Yo:Math.asin(t)}function is(t){return(t=Zo(t/2))*t}function as(){}function os(t,e){t&&us.hasOwnProperty(t.type)&&us[t.type](t,e)}var ss={Feature:function(t,e){os(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)os(n[r].geometry,e)}},us={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){cs(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)cs(n[r],e,0)},Polygon:function(t,e){ls(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)ls(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)os(n[r],e)}};function cs(t,e,n){var r,i=-1,a=t.length-n;for(e.lineStart();++i<a;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function ls(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)cs(t[n],e,1);e.polygonEnd()}function fs(t,e){t&&ss.hasOwnProperty(t.type)?ss[t.type](t,e):os(t,e)}var hs,ds,ps,gs,ys,vs=Po(),ms=Po(),bs={point:as,lineStart:as,lineEnd:as,polygonStart:function(){vs.reset(),bs.lineStart=xs,bs.lineEnd=_s},polygonEnd:function(){var t=+vs;ms.add(t<0?Ho+t:t),this.lineStart=this.lineEnd=this.point=as},sphere:function(){ms.add(Ho)}};function xs(){bs.point=ws}function _s(){ks(hs,ds)}function ws(t,e){bs.point=ks,hs=t,ds=e,ps=t*=Fo,gs=Go(e=(e*=Fo)/2+Bo),ys=Zo(e)}function ks(t,e){var n=(t*=Fo)-ps,r=n>=0?1:-1,i=r*n,a=Go(e=(e*=Fo)/2+Bo),o=Zo(e),s=ys*o,u=gs*a+s*Go(i),c=s*r*Zo(i);vs.add(Wo(c,u)),ps=t,gs=a,ys=o}function Ms(t){return[Wo(t[1],t[0]),rs(t[2])]}function As(t){var e=t[0],n=t[1],r=Go(n);return[r*Go(e),r*Zo(e),Zo(n)]}function Ts(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Es(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Cs(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Ss(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Ns(t){var e=ts(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Rs,Ps,zs,Os,Ls,Ds,Is,js,Ys,Bs,Hs,Us,Fs,qs,$s,Ws,Gs,Vs,Xs,Js,Ks,Zs,Qs,tu,eu,nu,ru=Po(),iu={point:au,lineStart:su,lineEnd:uu,polygonStart:function(){iu.point=cu,iu.lineStart=lu,iu.lineEnd=fu,ru.reset(),bs.polygonStart()},polygonEnd:function(){bs.polygonEnd(),iu.point=au,iu.lineStart=su,iu.lineEnd=uu,vs<0?(Rs=-(zs=180),Ps=-(Os=90)):ru>Do?Os=90:ru<-Do&&(Ps=-90),Bs[0]=Rs,Bs[1]=zs},sphere:function(){Rs=-(zs=180),Ps=-(Os=90)}};function au(t,e){Ys.push(Bs=[Rs=t,zs=t]),e<Ps&&(Ps=e),e>Os&&(Os=e)}function ou(t,e){var n=As([t*Fo,e*Fo]);if(js){var r=Es(js,n),i=Es([r[1],-r[0],0],r);Ns(i),i=Ms(i);var a,o=t-Ls,s=o>0?1:-1,u=i[0]*Uo*s,c=qo(o)>180;c^(s*Ls<u&&u<s*t)?(a=i[1]*Uo)>Os&&(Os=a):c^(s*Ls<(u=(u+360)%360-180)&&u<s*t)?(a=-i[1]*Uo)<Ps&&(Ps=a):(e<Ps&&(Ps=e),e>Os&&(Os=e)),c?t<Ls?hu(Rs,t)>hu(Rs,zs)&&(zs=t):hu(t,zs)>hu(Rs,zs)&&(Rs=t):zs>=Rs?(t<Rs&&(Rs=t),t>zs&&(zs=t)):t>Ls?hu(Rs,t)>hu(Rs,zs)&&(zs=t):hu(t,zs)>hu(Rs,zs)&&(Rs=t)}else Ys.push(Bs=[Rs=t,zs=t]);e<Ps&&(Ps=e),e>Os&&(Os=e),js=n,Ls=t}function su(){iu.point=ou}function uu(){Bs[0]=Rs,Bs[1]=zs,iu.point=au,js=null}function cu(t,e){if(js){var n=t-Ls;ru.add(qo(n)>180?n+(n>0?360:-360):n)}else Ds=t,Is=e;bs.point(t,e),ou(t,e)}function lu(){bs.lineStart()}function fu(){cu(Ds,Is),bs.lineEnd(),qo(ru)>Do&&(Rs=-(zs=180)),Bs[0]=Rs,Bs[1]=zs,js=null}function hu(t,e){return(e-=t)<0?e+360:e}function du(t,e){return t[0]-e[0]}function pu(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var gu={sphere:as,point:yu,lineStart:mu,lineEnd:_u,polygonStart:function(){gu.lineStart=wu,gu.lineEnd=ku},polygonEnd:function(){gu.lineStart=mu,gu.lineEnd=_u}};function yu(t,e){t*=Fo;var n=Go(e*=Fo);vu(n*Go(t),n*Zo(t),Zo(e))}function vu(t,e,n){Fs+=(t-Fs)/++Hs,qs+=(e-qs)/Hs,$s+=(n-$s)/Hs}function mu(){gu.point=bu}function bu(t,e){t*=Fo;var n=Go(e*=Fo);tu=n*Go(t),eu=n*Zo(t),nu=Zo(e),gu.point=xu,vu(tu,eu,nu)}function xu(t,e){t*=Fo;var n=Go(e*=Fo),r=n*Go(t),i=n*Zo(t),a=Zo(e),o=Wo(ts((o=eu*a-nu*i)*o+(o=nu*r-tu*a)*o+(o=tu*i-eu*r)*o),tu*r+eu*i+nu*a);Us+=o,Ws+=o*(tu+(tu=r)),Gs+=o*(eu+(eu=i)),Vs+=o*(nu+(nu=a)),vu(tu,eu,nu)}function _u(){gu.point=yu}function wu(){gu.point=Mu}function ku(){Au(Zs,Qs),gu.point=yu}function Mu(t,e){Zs=t,Qs=e,t*=Fo,e*=Fo,gu.point=Au;var n=Go(e);tu=n*Go(t),eu=n*Zo(t),nu=Zo(e),vu(tu,eu,nu)}function Au(t,e){t*=Fo;var n=Go(e*=Fo),r=n*Go(t),i=n*Zo(t),a=Zo(e),o=eu*a-nu*i,s=nu*r-tu*a,u=tu*i-eu*r,c=ts(o*o+s*s+u*u),l=rs(c),f=c&&-l/c;Xs+=f*o,Js+=f*s,Ks+=f*u,Us+=l,Ws+=l*(tu+(tu=r)),Gs+=l*(eu+(eu=i)),Vs+=l*(nu+(nu=a)),vu(tu,eu,nu)}function Tu(t){return function(){return t}}function Eu(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function Cu(t,e){return[qo(t)>jo?t+Math.round(-t/Ho)*Ho:t,e]}function Su(t,e,n){return(t%=Ho)?e||n?Eu(Ru(t),Pu(e,n)):Ru(t):e||n?Pu(e,n):Cu}function Nu(t){return function(e,n){return[(e+=t)>jo?e-Ho:e<-jo?e+Ho:e,n]}}function Ru(t){var e=Nu(t);return e.invert=Nu(-t),e}function Pu(t,e){var n=Go(t),r=Zo(t),i=Go(e),a=Zo(e);function o(t,e){var o=Go(e),s=Go(t)*o,u=Zo(t)*o,c=Zo(e),l=c*n+s*r;return[Wo(u*i-l*a,s*n-c*r),rs(l*i+u*a)]}return o.invert=function(t,e){var o=Go(e),s=Go(t)*o,u=Zo(t)*o,c=Zo(e),l=c*i-u*a;return[Wo(u*i+c*a,s*n+l*r),rs(l*n-s*r)]},o}function zu(t){function e(e){return(e=t(e[0]*Fo,e[1]*Fo))[0]*=Uo,e[1]*=Uo,e}return t=Su(t[0]*Fo,t[1]*Fo,t.length>2?t[2]*Fo:0),e.invert=function(e){return(e=t.invert(e[0]*Fo,e[1]*Fo))[0]*=Uo,e[1]*=Uo,e},e}function Ou(t,e,n,r,i,a){if(n){var o=Go(e),s=Zo(e),u=r*n;null==i?(i=e+r*Ho,a=e-u/2):(i=Lu(o,i),a=Lu(o,a),(r>0?i<a:i>a)&&(i+=r*Ho));for(var c,l=i;r>0?l>a:l<a;l-=u)c=Ms([o,-s*Go(l),-s*Zo(l)]),t.point(c[0],c[1])}}function Lu(t,e){(e=As(e))[0]-=t,Ns(e);var n=ns(-e[1]);return((-e[2]<0?-n:n)+Ho-Do)%Ho}function Du(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:as,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Iu(t,e){return qo(t[0]-e[0])<Do&&qo(t[1]-e[1])<Do}function ju(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Yu(t,e,n,r,i){var a,o,s=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],o=t[e];if(Iu(r,o)){for(i.lineStart(),a=0;a<e;++a)i.point((r=t[a])[0],r[1]);i.lineEnd()}else s.push(n=new ju(r,t,null,!0)),u.push(n.o=new ju(r,null,n,!1)),s.push(n=new ju(o,t,null,!1)),u.push(n.o=new ju(o,null,n,!0))}}),s.length){for(u.sort(e),Bu(s),Bu(u),a=0,o=u.length;a<o;++a)u[a].e=n=!n;for(var c,l,f=s[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(a=0,o=c.length;a<o;++a)i.point((l=c[a])[0],l[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(c=h.p.z,a=c.length-1;a>=0;--a)i.point((l=c[a])[0],l[1]);else r(h.x,h.p.x,-1,i);h=h.p}c=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}}function Bu(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}Cu.invert=Cu;var Hu=Po();function Uu(t){return qo(t[0])<=jo?t[0]:Qo(t[0])*((qo(t[0])+jo)%Ho-jo)}function Fu(t,e){var n=Uu(e),r=e[1],i=Zo(r),a=[Zo(n),-Go(n),0],o=0,s=0;Hu.reset(),1===i?r=Yo+Do:-1===i&&(r=-Yo-Do);for(var u=0,c=t.length;u<c;++u)if(f=(l=t[u]).length)for(var l,f,h=l[f-1],d=Uu(h),p=h[1]/2+Bo,g=Zo(p),y=Go(p),v=0;v<f;++v,d=b,g=_,y=w,h=m){var m=l[v],b=Uu(m),x=m[1]/2+Bo,_=Zo(x),w=Go(x),k=b-d,M=k>=0?1:-1,A=M*k,T=A>jo,E=g*_;if(Hu.add(Wo(E*M*Zo(A),y*w+E*Go(A))),o+=T?k+M*Ho:k,T^d>=n^b>=n){var C=Es(As(h),As(m));Ns(C);var S=Es(a,C);Ns(S);var N=(T^k>=0?-1:1)*rs(S[2]);(r>N||r===N&&(C[0]||C[1]))&&(s+=T^k>=0?1:-1)}}return(o<-Do||o<Do&&Hu<-Do)^1&s}function qu(t,e,n,r){return function(i){var a,o,s,u=e(i),c=Du(),l=e(c),f=!1,h={point:d,lineStart:g,lineEnd:y,polygonStart:function(){h.point=v,h.lineStart=m,h.lineEnd=b,o=[],a=[]},polygonEnd:function(){h.point=d,h.lineStart=g,h.lineEnd=y,o=T(o);var t=Fu(a,r);o.length?(f||(i.polygonStart(),f=!0),Yu(o,Wu,t,n,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),o=a=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(e,n){t(e,n)&&i.point(e,n)}function p(t,e){u.point(t,e)}function g(){h.point=p,u.lineStart()}function y(){h.point=d,u.lineEnd()}function v(t,e){s.push([t,e]),l.point(t,e)}function m(){l.lineStart(),s=[]}function b(){v(s[0][0],s[0][1]),l.lineEnd();var t,e,n,r,u=l.clean(),h=c.result(),d=h.length;if(s.pop(),a.push(s),s=null,d)if(1&u){if((e=(n=h[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else d>1&&2&u&&h.push(h.pop().concat(h.shift())),o.push(h.filter($u))}return h}}function $u(t){return t.length>1}function Wu(t,e){return((t=t.x)[0]<0?t[1]-Yo-Do:Yo-t[1])-((e=e.x)[0]<0?e[1]-Yo-Do:Yo-e[1])}var Gu=qu(function(){return!0},function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(a,o){var s=a>0?jo:-jo,u=qo(a-n);qo(u-jo)<Do?(t.point(n,r=(r+o)/2>0?Yo:-Yo),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(a,r),e=0):i!==s&&u>=jo&&(qo(n-i)<Do&&(n-=i*Do),qo(a-s)<Do&&(a-=s*Do),r=function(t,e,n,r){var i,a,o=Zo(t-n);return qo(o)>Do?$o((Zo(e)*(a=Go(r))*Zo(n)-Zo(r)*(i=Go(e))*Zo(t))/(i*a*o)):(e+r)/2}(n,r,a,o),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=a,r=o),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var i;if(null==t)i=n*Yo,r.point(-jo,i),r.point(0,i),r.point(jo,i),r.point(jo,0),r.point(jo,-i),r.point(0,-i),r.point(-jo,-i),r.point(-jo,0),r.point(-jo,i);else if(qo(t[0]-e[0])>Do){var a=t[0]<e[0]?jo:-jo;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])},[-jo,-Yo]);function Vu(t){var e=Go(t),n=6*Fo,r=e>0,i=qo(e)>Do;function a(t,n){return Go(t)*Go(n)>e}function o(t,n,r){var i=[1,0,0],a=Es(As(t),As(n)),o=Ts(a,a),s=a[0],u=o-s*s;if(!u)return!r&&t;var c=e*o/u,l=-e*s/u,f=Es(i,a),h=Ss(i,c);Cs(h,Ss(a,l));var d=f,p=Ts(h,d),g=Ts(d,d),y=p*p-g*(Ts(h,h)-1);if(!(y<0)){var v=ts(y),m=Ss(d,(-p-v)/g);if(Cs(m,h),m=Ms(m),!r)return m;var b,x=t[0],_=n[0],w=t[1],k=n[1];_<x&&(b=x,x=_,_=b);var M=_-x,A=qo(M-jo)<Do;if(!A&&k<w&&(b=w,w=k,k=b),A||M<Do?A?w+k>0^m[1]<(qo(m[0]-x)<Do?w:k):w<=m[1]&&m[1]<=k:M>jo^(x<=m[0]&&m[0]<=_)){var T=Ss(d,(-p+v)/g);return Cs(T,h),[m,Ms(T)]}}}function s(e,n){var i=r?t:jo-t,a=0;return e<-i?a|=1:e>i&&(a|=2),n<-i?a|=4:n>i&&(a|=8),a}return qu(a,function(t){var e,n,u,c,l;return{lineStart:function(){c=u=!1,l=1},point:function(f,h){var d,p=[f,h],g=a(f,h),y=r?g?0:s(f,h):g?s(f+(f<0?jo:-jo),h):0;if(!e&&(c=u=g)&&t.lineStart(),g!==u&&(!(d=o(e,p))||Iu(e,d)||Iu(p,d))&&(p[0]+=Do,p[1]+=Do,g=a(p[0],p[1])),g!==u)l=0,g?(t.lineStart(),d=o(p,e),t.point(d[0],d[1])):(d=o(e,p),t.point(d[0],d[1]),t.lineEnd()),e=d;else if(i&&e&&r^g){var v;y&n||!(v=o(p,e,!0))||(l=0,r?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||e&&Iu(e,p)||t.point(p[0],p[1]),e=p,u=g,n=y},lineEnd:function(){u&&t.lineEnd(),e=null},clean:function(){return l|(c&&u)<<1}}},function(e,r,i,a){Ou(a,t,n,i,e,r)},r?[0,-t]:[-jo,t-jo])}var Xu=1e9,Ju=-Xu;function Ku(t,e,n,r){function i(i,a){return t<=i&&i<=n&&e<=a&&a<=r}function a(i,a,s,c){var l=0,f=0;if(null==i||(l=o(i,s))!==(f=o(a,s))||u(i,a)<0^s>0)do{c.point(0===l||3===l?t:n,l>1?r:e)}while((l=(l+s+4)%4)!==f);else c.point(a[0],a[1])}function o(r,i){return qo(r[0]-t)<Do?i>0?0:3:qo(r[0]-n)<Do?i>0?2:1:qo(r[1]-e)<Do?i>0?1:0:i>0?3:2}function s(t,e){return u(t.x,e.x)}function u(t,e){var n=o(t,1),r=o(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(o){var u,c,l,f,h,d,p,g,y,v,m,b=o,x=Du(),_={point:w,lineStart:function(){_.point=k,c&&c.push(l=[]),v=!0,y=!1,p=g=NaN},lineEnd:function(){u&&(k(f,h),d&&y&&x.rejoin(),u.push(x.result())),_.point=w,y&&b.lineEnd()},polygonStart:function(){b=x,u=[],c=[],m=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=c.length;n<i;++n)for(var a,o,s=c[n],u=1,l=s.length,f=s[0],h=f[0],d=f[1];u<l;++u)a=h,o=d,h=(f=s[u])[0],d=f[1],o<=r?d>r&&(h-a)*(r-o)>(d-o)*(t-a)&&++e:d<=r&&(h-a)*(r-o)<(d-o)*(t-a)&&--e;return e}(),n=m&&e,i=(u=T(u)).length;(n||i)&&(o.polygonStart(),n&&(o.lineStart(),a(null,null,1,o),o.lineEnd()),i&&Yu(u,s,e,a,o),o.polygonEnd()),b=o,u=c=l=null}};function w(t,e){i(t,e)&&b.point(t,e)}function k(a,o){var s=i(a,o);if(c&&l.push([a,o]),v)f=a,h=o,d=s,v=!1,s&&(b.lineStart(),b.point(a,o));else if(s&&y)b.point(a,o);else{var u=[p=Math.max(Ju,Math.min(Xu,p)),g=Math.max(Ju,Math.min(Xu,g))],x=[a=Math.max(Ju,Math.min(Xu,a)),o=Math.max(Ju,Math.min(Xu,o))];!function(t,e,n,r,i,a){var o,s=t[0],u=t[1],c=0,l=1,f=e[0]-s,h=e[1]-u;if(o=n-s,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<l&&(l=o)}else if(f>0){if(o>l)return;o>c&&(c=o)}if(o=i-s,f||!(o<0)){if(o/=f,f<0){if(o>l)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<l&&(l=o)}if(o=r-u,h||!(o>0)){if(o/=h,h<0){if(o<c)return;o<l&&(l=o)}else if(h>0){if(o>l)return;o>c&&(c=o)}if(o=a-u,h||!(o<0)){if(o/=h,h<0){if(o>l)return;o>c&&(c=o)}else if(h>0){if(o<c)return;o<l&&(l=o)}return c>0&&(t[0]=s+c*f,t[1]=u+c*h),l<1&&(e[0]=s+l*f,e[1]=u+l*h),!0}}}}}(u,x,t,e,n,r)?s&&(b.lineStart(),b.point(a,o),m=!1):(y||(b.lineStart(),b.point(u[0],u[1])),b.point(x[0],x[1]),s||b.lineEnd(),m=!1)}p=a,g=o,y=s}return _}}var Zu,Qu,tc,ec=Po(),nc={sphere:as,point:as,lineStart:function(){nc.point=ic,nc.lineEnd=rc},lineEnd:as,polygonStart:as,polygonEnd:as};function rc(){nc.point=nc.lineEnd=as}function ic(t,e){Zu=t*=Fo,Qu=Zo(e*=Fo),tc=Go(e),nc.point=ac}function ac(t,e){t*=Fo;var n=Zo(e*=Fo),r=Go(e),i=qo(t-Zu),a=Go(i),o=r*Zo(i),s=tc*n-Qu*r*a,u=Qu*n+tc*r*a;ec.add(Wo(ts(o*o+s*s),u)),Zu=t,Qu=n,tc=r}function oc(t){return ec.reset(),fs(t,nc),+ec}var sc=[null,null],uc={type:"LineString",coordinates:sc};function cc(t,e){return sc[0]=t,sc[1]=e,oc(uc)}var lc={Feature:function(t,e){return hc(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(hc(n[r].geometry,e))return!0;return!1}},fc={Sphere:function(){return!0},Point:function(t,e){return dc(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(dc(n[r],e))return!0;return!1},LineString:function(t,e){return pc(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(pc(n[r],e))return!0;return!1},Polygon:function(t,e){return gc(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(gc(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(hc(n[r],e))return!0;return!1}};function hc(t,e){return!(!t||!fc.hasOwnProperty(t.type))&&fc[t.type](t,e)}function dc(t,e){return 0===cc(t,e)}function pc(t,e){for(var n,r,i,a=0,o=t.length;a<o;a++){if(0===(r=cc(t[a],e)))return!0;if(a>0&&(i=cc(t[a],t[a-1]))>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<Io*i)return!0;n=r}return!1}function gc(t,e){return!!Fu(t.map(yc),vc(e))}function yc(t){return(t=t.map(vc)).pop(),t}function vc(t){return[t[0]*Fo,t[1]*Fo]}function mc(t,e,n){var r=y(t,e-Do,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function bc(t,e,n){var r=y(t,e-Do,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function xc(){var t,e,n,r,i,a,o,s,u,c,l,f,h=10,d=h,p=90,g=360,v=2.5;function m(){return{type:"MultiLineString",coordinates:b()}}function b(){return y(Vo(r/p)*p,n,p).map(l).concat(y(Vo(s/g)*g,o,g).map(f)).concat(y(Vo(e/h)*h,t,h).filter(function(t){return qo(t%p)>Do}).map(u)).concat(y(Vo(a/d)*d,i,d).filter(function(t){return qo(t%g)>Do}).map(c))}return m.lines=function(){return b().map(function(t){return{type:"LineString",coordinates:t}})},m.outline=function(){return{type:"Polygon",coordinates:[l(r).concat(f(o).slice(1),l(n).reverse().slice(1),f(s).reverse().slice(1))]}},m.extent=function(t){return arguments.length?m.extentMajor(t).extentMinor(t):m.extentMinor()},m.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],o=+t[1][1],r>n&&(t=r,r=n,n=t),s>o&&(t=s,s=o,o=t),m.precision(v)):[[r,s],[n,o]]},m.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],a=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),a>i&&(n=a,a=i,i=n),m.precision(v)):[[e,a],[t,i]]},m.step=function(t){return arguments.length?m.stepMajor(t).stepMinor(t):m.stepMinor()},m.stepMajor=function(t){return arguments.length?(p=+t[0],g=+t[1],m):[p,g]},m.stepMinor=function(t){return arguments.length?(h=+t[0],d=+t[1],m):[h,d]},m.precision=function(h){return arguments.length?(v=+h,u=mc(a,i,90),c=bc(e,t,v),l=mc(s,o,90),f=bc(r,n,v),m):v},m.extentMajor([[-180,-90+Do],[180,90-Do]]).extentMinor([[-180,-80-Do],[180,80+Do]])}function _c(t){return t}var wc,kc,Mc,Ac,Tc=Po(),Ec=Po(),Cc={point:as,lineStart:as,lineEnd:as,polygonStart:function(){Cc.lineStart=Sc,Cc.lineEnd=Pc},polygonEnd:function(){Cc.lineStart=Cc.lineEnd=Cc.point=as,Tc.add(qo(Ec)),Ec.reset()},result:function(){var t=Tc/2;return Tc.reset(),t}};function Sc(){Cc.point=Nc}function Nc(t,e){Cc.point=Rc,wc=Mc=t,kc=Ac=e}function Rc(t,e){Ec.add(Ac*t-Mc*e),Mc=t,Ac=e}function Pc(){Rc(wc,kc)}var zc,Oc,Lc,Dc,Ic=1/0,jc=Ic,Yc=-Ic,Bc=Yc,Hc={point:function(t,e){t<Ic&&(Ic=t),t>Yc&&(Yc=t),e<jc&&(jc=e),e>Bc&&(Bc=e)},lineStart:as,lineEnd:as,polygonStart:as,polygonEnd:as,result:function(){var t=[[Ic,jc],[Yc,Bc]];return Yc=Bc=-(jc=Ic=1/0),t}},Uc=0,Fc=0,qc=0,$c=0,Wc=0,Gc=0,Vc=0,Xc=0,Jc=0,Kc={point:Zc,lineStart:Qc,lineEnd:nl,polygonStart:function(){Kc.lineStart=rl,Kc.lineEnd=il},polygonEnd:function(){Kc.point=Zc,Kc.lineStart=Qc,Kc.lineEnd=nl},result:function(){var t=Jc?[Vc/Jc,Xc/Jc]:Gc?[$c/Gc,Wc/Gc]:qc?[Uc/qc,Fc/qc]:[NaN,NaN];return Uc=Fc=qc=$c=Wc=Gc=Vc=Xc=Jc=0,t}};function Zc(t,e){Uc+=t,Fc+=e,++qc}function Qc(){Kc.point=tl}function tl(t,e){Kc.point=el,Zc(Lc=t,Dc=e)}function el(t,e){var n=t-Lc,r=e-Dc,i=ts(n*n+r*r);$c+=i*(Lc+t)/2,Wc+=i*(Dc+e)/2,Gc+=i,Zc(Lc=t,Dc=e)}function nl(){Kc.point=Zc}function rl(){Kc.point=al}function il(){ol(zc,Oc)}function al(t,e){Kc.point=ol,Zc(zc=Lc=t,Oc=Dc=e)}function ol(t,e){var n=t-Lc,r=e-Dc,i=ts(n*n+r*r);$c+=i*(Lc+t)/2,Wc+=i*(Dc+e)/2,Gc+=i,Vc+=(i=Dc*t-Lc*e)*(Lc+t),Xc+=i*(Dc+e),Jc+=3*i,Zc(Lc=t,Dc=e)}function sl(t){this._context=t}sl.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Ho)}},result:as};var ul,cl,ll,fl,hl,dl=Po(),pl={point:as,lineStart:function(){pl.point=gl},lineEnd:function(){ul&&yl(cl,ll),pl.point=as},polygonStart:function(){ul=!0},polygonEnd:function(){ul=null},result:function(){var t=+dl;return dl.reset(),t}};function gl(t,e){pl.point=yl,cl=fl=t,ll=hl=e}function yl(t,e){fl-=t,hl-=e,dl.add(ts(fl*fl+hl*hl)),fl=t,hl=e}function vl(){this._string=[]}function ml(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function bl(t){return function(e){var n=new xl;for(var r in t)n[r]=t[r];return n.stream=e,n}}function xl(){}function _l(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),fs(n,t.stream(Hc)),e(Hc.result()),null!=r&&t.clipExtent(r),t}function wl(t,e,n){return _l(t,function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],a=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),o=+e[0][0]+(r-a*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(i-a*(n[1][1]+n[0][1]))/2;t.scale(150*a).translate([o,s])},n)}function kl(t,e,n){return wl(t,[[0,0],e],n)}function Ml(t,e,n){return _l(t,function(n){var r=+e,i=r/(n[1][0]-n[0][0]),a=(r-i*(n[1][0]+n[0][0]))/2,o=-i*n[0][1];t.scale(150*i).translate([a,o])},n)}function Al(t,e,n){return _l(t,function(n){var r=+e,i=r/(n[1][1]-n[0][1]),a=-i*n[0][0],o=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([a,o])},n)}vl.prototype={_radius:4.5,_circle:ml(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=ml(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},xl.prototype={constructor:xl,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Tl=16,El=Go(30*Fo);function Cl(t,e){return+e?function(t,e){function n(r,i,a,o,s,u,c,l,f,h,d,p,g,y){var v=c-r,m=l-i,b=v*v+m*m;if(b>4*e&&g--){var x=o+h,_=s+d,w=u+p,k=ts(x*x+_*_+w*w),M=rs(w/=k),A=qo(qo(w)-1)<Do||qo(a-f)<Do?(a+f)/2:Wo(_,x),T=t(A,M),E=T[0],C=T[1],S=E-r,N=C-i,R=m*S-v*N;(R*R/b>e||qo((v*S+m*N)/b-.5)>.3||o*h+s*d+u*p<El)&&(n(r,i,a,o,s,u,E,C,A,x/=k,_/=k,w,g,y),y.point(E,C),n(E,C,A,x,_,w,c,l,f,h,d,p,g,y))}}return function(e){var r,i,a,o,s,u,c,l,f,h,d,p,g={point:y,lineStart:v,lineEnd:b,polygonStart:function(){e.polygonStart(),g.lineStart=x},polygonEnd:function(){e.polygonEnd(),g.lineStart=v}};function y(n,r){n=t(n,r),e.point(n[0],n[1])}function v(){l=NaN,g.point=m,e.lineStart()}function m(r,i){var a=As([r,i]),o=t(r,i);n(l,f,c,h,d,p,l=o[0],f=o[1],c=r,h=a[0],d=a[1],p=a[2],Tl,e),e.point(l,f)}function b(){g.point=y,e.lineEnd()}function x(){v(),g.point=_,g.lineEnd=w}function _(t,e){m(r=t,e),i=l,a=f,o=h,s=d,u=p,g.point=m}function w(){n(l,f,c,h,d,p,i,a,r,o,s,u,Tl,e),g.lineEnd=b,b()}return g}}(t,e):function(t){return bl({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var Sl=bl({point:function(t,e){this.stream.point(t*Fo,e*Fo)}});function Nl(t,e,n,r){var i=Go(r),a=Zo(r),o=i*t,s=a*t,u=i/t,c=a/t,l=(a*n-i*e)/t,f=(a*e+i*n)/t;function h(t,r){return[o*t-s*r+e,n-s*t-o*r]}return h.invert=function(t,e){return[u*t-c*e+l,f-c*t-u*e]},h}function Rl(t){return Pl(function(){return t})()}function Pl(t){var e,n,r,i,a,o,s,u,c,l,f=150,h=480,d=250,p=0,g=0,y=0,v=0,m=0,b=0,x=null,_=Gu,w=null,k=_c,M=.5;function A(t){return u(t[0]*Fo,t[1]*Fo)}function T(t){return(t=u.invert(t[0],t[1]))&&[t[0]*Uo,t[1]*Uo]}function E(){var t=Nl(f,0,0,b).apply(null,e(p,g)),r=(b?Nl:function(t,e,n){function r(r,i){return[e+t*r,n-t*i]}return r.invert=function(r,i){return[(r-e)/t,(n-i)/t]},r})(f,h-t[0],d-t[1],b);return n=Su(y,v,m),s=Eu(e,r),u=Eu(n,s),o=Cl(s,M),C()}function C(){return c=l=null,A}return A.stream=function(t){return c&&l===t?c:c=Sl(function(t){return bl({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(_(o(k(l=t)))))},A.preclip=function(t){return arguments.length?(_=t,x=void 0,C()):_},A.postclip=function(t){return arguments.length?(k=t,w=r=i=a=null,C()):k},A.clipAngle=function(t){return arguments.length?(_=+t?Vu(x=t*Fo):(x=null,Gu),C()):x*Uo},A.clipExtent=function(t){return arguments.length?(k=null==t?(w=r=i=a=null,_c):Ku(w=+t[0][0],r=+t[0][1],i=+t[1][0],a=+t[1][1]),C()):null==w?null:[[w,r],[i,a]]},A.scale=function(t){return arguments.length?(f=+t,E()):f},A.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],E()):[h,d]},A.center=function(t){return arguments.length?(p=t[0]%360*Fo,g=t[1]%360*Fo,E()):[p*Uo,g*Uo]},A.rotate=function(t){return arguments.length?(y=t[0]%360*Fo,v=t[1]%360*Fo,m=t.length>2?t[2]%360*Fo:0,E()):[y*Uo,v*Uo,m*Uo]},A.angle=function(t){return arguments.length?(b=t%360*Fo,E()):b*Uo},A.precision=function(t){return arguments.length?(o=Cl(s,M=t*t),C()):ts(M)},A.fitExtent=function(t,e){return wl(A,t,e)},A.fitSize=function(t,e){return kl(A,t,e)},A.fitWidth=function(t,e){return Ml(A,t,e)},A.fitHeight=function(t,e){return Al(A,t,e)},function(){return e=t.apply(this,arguments),A.invert=e.invert&&T,E()}}function zl(t){var e=0,n=jo/3,r=Pl(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Fo,n=t[1]*Fo):[e*Uo,n*Uo]},i}function Ol(t,e){var n=Zo(t),r=(n+Zo(e))/2;if(qo(r)<Do)return function(t){var e=Go(t);function n(t,n){return[t*e,Zo(n)/e]}return n.invert=function(t,n){return[t/e,rs(n*e)]},n}(t);var i=1+n*(2*r-n),a=ts(i)/r;function o(t,e){var n=ts(i-2*r*Zo(e))/r;return[n*Zo(t*=r),a-n*Go(t)]}return o.invert=function(t,e){var n=a-e;return[Wo(t,qo(n))/r*Qo(n),rs((i-(t*t+n*n)*r*r)/(2*r))]},o}function Ll(){return zl(Ol).scale(155.424).center([0,33.6442])}function Dl(){return Ll().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Il(t){return function(e,n){var r=Go(e),i=Go(n),a=t(r*i);return[a*i*Zo(e),a*Zo(n)]}}function jl(t){return function(e,n){var r=ts(e*e+n*n),i=t(r),a=Zo(i),o=Go(i);return[Wo(e*a,r*o),rs(r&&n*a/r)]}}var Yl=Il(function(t){return ts(2/(1+t))});Yl.invert=jl(function(t){return 2*rs(t/2)});var Bl=Il(function(t){return(t=ns(t))&&t/Zo(t)});function Hl(t,e){return[t,Jo(es((Yo+e)/2))]}function Ul(t){var e,n,r,i=Rl(t),a=i.center,o=i.scale,s=i.translate,u=i.clipExtent,c=null;function l(){var a=jo*o(),s=i(zu(i.rotate()).invert([0,0]));return u(null==c?[[s[0]-a,s[1]-a],[s[0]+a,s[1]+a]]:t===Hl?[[Math.max(s[0]-a,c),e],[Math.min(s[0]+a,n),r]]:[[c,Math.max(s[1]-a,e)],[n,Math.min(s[1]+a,r)]])}return i.scale=function(t){return arguments.length?(o(t),l()):o()},i.translate=function(t){return arguments.length?(s(t),l()):s()},i.center=function(t){return arguments.length?(a(t),l()):a()},i.clipExtent=function(t){return arguments.length?(null==t?c=e=n=r=null:(c=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),l()):null==c?null:[[c,e],[n,r]]},l()}function Fl(t){return es((Yo+t)/2)}function ql(t,e){var n=Go(t),r=t===e?Zo(t):Jo(n/Go(e))/Jo(Fl(e)/Fl(t)),i=n*Ko(Fl(t),r)/r;if(!r)return Hl;function a(t,e){i>0?e<-Yo+Do&&(e=-Yo+Do):e>Yo-Do&&(e=Yo-Do);var n=i/Ko(Fl(e),r);return[n*Zo(r*t),i-n*Go(r*t)]}return a.invert=function(t,e){var n=i-e,a=Qo(r)*ts(t*t+n*n);return[Wo(t,qo(n))/r*Qo(n),2*$o(Ko(i/a,1/r))-Yo]},a}function $l(t,e){return[t,e]}function Wl(t,e){var n=Go(t),r=t===e?Zo(t):(n-Go(e))/(e-t),i=n/r+t;if(qo(r)<Do)return $l;function a(t,e){var n=i-e,a=r*t;return[n*Zo(a),i-n*Go(a)]}return a.invert=function(t,e){var n=i-e;return[Wo(t,qo(n))/r*Qo(n),i-Qo(r)*ts(t*t+n*n)]},a}Bl.invert=jl(function(t){return t}),Hl.invert=function(t,e){return[t,2*$o(Xo(e))-Yo]},$l.invert=$l;var Gl=1.340264,Vl=-.081106,Xl=893e-6,Jl=.003796,Kl=ts(3)/2;function Zl(t,e){var n=rs(Kl*Zo(e)),r=n*n,i=r*r*r;return[t*Go(n)/(Kl*(Gl+3*Vl*r+i*(7*Xl+9*Jl*r))),n*(Gl+Vl*r+i*(Xl+Jl*r))]}function Ql(t,e){var n=Go(e),r=Go(t)*n;return[n*Zo(t)/r,Zo(e)/r]}function tf(t,e,n,r){return 1===t&&1===e&&0===n&&0===r?_c:bl({point:function(i,a){this.stream.point(i*t+n,a*e+r)}})}function ef(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function nf(t,e){return[Go(e)*Zo(t),Zo(e)]}function rf(t,e){var n=Go(e),r=1+Go(t)*n;return[n*Zo(t)/r,Zo(e)/r]}function af(t,e){return[Jo(es((Yo+e)/2)),-t]}function of(t,e){return t.parent===e.parent?1:2}function sf(t,e){return t+e.x}function uf(t,e){return Math.max(t,e.y)}function cf(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function lf(t,e){var n,r,i,a,o,s=new pf(t),u=+t.value&&(s.value=t.value),c=[s];for(null==e&&(e=ff);n=c.pop();)if(u&&(n.value=+n.data.value),(i=e(n.data))&&(o=i.length))for(n.children=new Array(o),a=o-1;a>=0;--a)c.push(r=n.children[a]=new pf(i[a])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(df)}function ff(t){return t.children}function hf(t){t.data=t.data.data}function df(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function pf(t){this.data=t,this.depth=this.height=0,this.parent=null}Zl.invert=function(t,e){for(var n,r=e,i=r*r,a=i*i*i,o=0;o<12&&(a=(i=(r-=n=(r*(Gl+Vl*i+a*(Xl+Jl*i))-e)/(Gl+3*Vl*i+a*(7*Xl+9*Jl*i)))*r)*i*i,!(qo(n)<Io));++o);return[Kl*t*(Gl+3*Vl*i+a*(7*Xl+9*Jl*i))/Go(r),rs(Zo(r)/Kl)]},Ql.invert=jl($o),ef.invert=function(t,e){var n,r=e,i=25;do{var a=r*r,o=a*a;r-=n=(r*(1.007226+a*(.015085+o*(.028874*a-.044475-.005916*o)))-e)/(1.007226+a*(.045255+o*(.259866*a-.311325-.005916*11*o)))}while(qo(n)>Do&&--i>0);return[t/(.8707+(a=r*r)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),r]},nf.invert=jl(rs),rf.invert=jl(function(t){return 2*$o(t)}),af.invert=function(t,e){return[-e,2*$o(Xo(t))-Yo]},pf.prototype=lf.prototype={constructor:pf,count:function(){return this.eachAfter(cf)},each:function(t){var e,n,r,i,a=this,o=[a];do{for(e=o.reverse(),o=[];a=e.pop();)if(t(a),n=a.children)for(r=0,i=n.length;r<i;++r)o.push(n[r])}while(o.length);return this},eachAfter:function(t){for(var e,n,r,i=this,a=[i],o=[];i=a.pop();)if(o.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)a.push(e[n]);for(;i=o.pop();)t(i);return this},eachBefore:function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},sum:function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})},sort:function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each(function(e){t.push(e)}),t},leaves:function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},links:function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e},copy:function(){return lf(this).eachBefore(hf)}};var gf=Array.prototype.slice;function yf(t){for(var e,n,r=0,i=(t=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(gf.call(t))).length,a=[];r<i;)e=t[r],n&&bf(n,e)?++r:(n=_f(a=vf(a,e)),r=0);return n}function vf(t,e){var n,r;if(xf(e,t))return[e];for(n=0;n<t.length;++n)if(mf(e,t[n])&&xf(wf(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(mf(wf(t[n],t[r]),e)&&mf(wf(t[n],e),t[r])&&mf(wf(t[r],e),t[n])&&xf(kf(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function mf(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function bf(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function xf(t,e){for(var n=0;n<e.length;++n)if(!bf(t,e[n]))return!1;return!0}function _f(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return wf(t[0],t[1]);case 3:return kf(t[0],t[1],t[2])}var e}function wf(t,e){var n=t.x,r=t.y,i=t.r,a=e.x,o=e.y,s=e.r,u=a-n,c=o-r,l=s-i,f=Math.sqrt(u*u+c*c);return{x:(n+a+u/f*l)/2,y:(r+o+c/f*l)/2,r:(f+i+s)/2}}function kf(t,e,n){var r=t.x,i=t.y,a=t.r,o=e.x,s=e.y,u=e.r,c=n.x,l=n.y,f=n.r,h=r-o,d=r-c,p=i-s,g=i-l,y=u-a,v=f-a,m=r*r+i*i-a*a,b=m-o*o-s*s+u*u,x=m-c*c-l*l+f*f,_=d*p-h*g,w=(p*x-g*b)/(2*_)-r,k=(g*y-p*v)/_,M=(d*b-h*x)/(2*_)-i,A=(h*v-d*y)/_,T=k*k+A*A-1,E=2*(a+w*k+M*A),C=w*w+M*M-a*a,S=-(T?(E+Math.sqrt(E*E-4*T*C))/(2*T):C/E);return{x:r+w+k*S,y:i+M+A*S,r:S}}function Mf(t,e,n){var r,i,a,o,s=t.x-e.x,u=t.y-e.y,c=s*s+u*u;c?(i=e.r+n.r,i*=i,o=t.r+n.r,i>(o*=o)?(r=(c+o-i)/(2*c),a=Math.sqrt(Math.max(0,o/c-r*r)),n.x=t.x-r*s-a*u,n.y=t.y-r*u+a*s):(r=(c+i-o)/(2*c),a=Math.sqrt(Math.max(0,i/c-r*r)),n.x=e.x+r*s-a*u,n.y=e.y+r*u+a*s)):(n.x=e.x+n.r,n.y=e.y)}function Af(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Tf(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,a=(e.y*n.r+n.y*e.r)/r;return i*i+a*a}function Ef(t){this._=t,this.next=null,this.previous=null}function Cf(t){if(!(i=t.length))return 0;var e,n,r,i,a,o,s,u,c,l,f;if((e=t[0]).x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;Mf(n,e,r=t[2]),e=new Ef(e),n=new Ef(n),r=new Ef(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(s=3;s<i;++s){Mf(e._,n._,r=t[s]),r=new Ef(r),u=n.next,c=e.previous,l=n._.r,f=e._.r;do{if(l<=f){if(Af(u._,r._)){n=u,e.next=n,n.previous=e,--s;continue t}l+=u._.r,u=u.next}else{if(Af(c._,r._)){(e=c).next=n,n.previous=e,--s;continue t}f+=c._.r,c=c.previous}}while(u!==c.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,a=Tf(e);(r=r.next)!==n;)(o=Tf(r))<a&&(e=r,a=o);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=yf(e),s=0;s<i;++s)(e=t[s]).x-=r.x,e.y-=r.y;return r.r}function Sf(t){if("function"!=typeof t)throw new Error;return t}function Nf(){return 0}function Rf(t){return function(){return t}}function Pf(t){return Math.sqrt(t.value)}function zf(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Of(t,e){return function(n){if(r=n.children){var r,i,a,o=r.length,s=t(n)*e||0;if(s)for(i=0;i<o;++i)r[i].r+=s;if(a=Cf(r),s)for(i=0;i<o;++i)r[i].r-=s;n.r=a+s}}}function Lf(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function Df(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function If(t,e,n,r,i){for(var a,o=t.children,s=-1,u=o.length,c=t.value&&(r-e)/t.value;++s<u;)(a=o[s]).y0=n,a.y1=i,a.x0=e,a.x1=e+=a.value*c}var jf="$",Yf={depth:-1},Bf={};function Hf(t){return t.id}function Uf(t){return t.parentId}function Ff(t,e){return t.parent===e.parent?1:2}function qf(t){var e=t.children;return e?e[0]:t.t}function $f(t){var e=t.children;return e?e[e.length-1]:t.t}function Wf(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Gf(t,e,n){return t.a.parent===e.parent?t.a:n}function Vf(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function Xf(t,e,n,r,i){for(var a,o=t.children,s=-1,u=o.length,c=t.value&&(i-n)/t.value;++s<u;)(a=o[s]).x0=e,a.x1=r,a.y0=n,a.y1=n+=a.value*c}Vf.prototype=Object.create(pf.prototype);var Jf=(1+Math.sqrt(5))/2;function Kf(t,e,n,r,i,a){for(var o,s,u,c,l,f,h,d,p,g,y,v=[],m=e.children,b=0,x=0,_=m.length,w=e.value;b<_;){u=i-n,c=a-r;do{l=m[x++].value}while(!l&&x<_);for(f=h=l,y=l*l*(g=Math.max(c/u,u/c)/(w*t)),p=Math.max(h/y,y/f);x<_;++x){if(l+=s=m[x].value,s<f&&(f=s),s>h&&(h=s),y=l*l*g,(d=Math.max(h/y,y/f))>p){l-=s;break}p=d}v.push(o={value:l,dice:u<c,children:m.slice(b,x)}),o.dice?If(o,n,r,i,w?r+=c*l/w:a):Xf(o,n,r,w?n+=u*l/w:i,a),w-=l,b=x}return v}var Zf=function t(e){function n(t,n,r,i,a){Kf(e,t,n,r,i,a)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Jf),Qf=function t(e){function n(t,n,r,i,a){if((o=t._squarify)&&o.ratio===e)for(var o,s,u,c,l,f=-1,h=o.length,d=t.value;++f<h;){for(u=(s=o[f]).children,c=s.value=0,l=u.length;c<l;++c)s.value+=u[c].value;s.dice?If(s,n,r,i,r+=(a-r)*s.value/d):Xf(s,n,r,n+=(i-n)*s.value/d,a),d-=s.value}else t._squarify=o=Kf(e,t,n,r,i,a),o.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Jf);function th(t,e){return t[0]-e[0]||t[1]-e[1]}function eh(t){for(var e,n,r,i=t.length,a=[0,1],o=2,s=2;s<i;++s){for(;o>1&&(e=t[a[o-2]],n=t[a[o-1]],r=t[s],(n[0]-e[0])*(r[1]-e[1])-(n[1]-e[1])*(r[0]-e[0])<=0);)--o;a[o++]=s}return a.slice(0,o)}function nh(){return Math.random()}var rh=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(nh),ih=function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var a;if(null!=r)a=r,r=null;else do{r=2*e()-1,a=2*e()-1,i=r*r+a*a}while(!i||i>1);return t+n*a*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(nh),ah=function t(e){function n(){var t=ih.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(nh),oh=function t(e){function n(t){return function(){for(var n=0,r=0;r<t;++r)n+=e();return n}}return n.source=t,n}(nh),sh=function t(e){function n(t){var n=oh.source(e)(t);return function(){return n()/t}}return n.source=t,n}(nh),uh=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(nh);function ch(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function lh(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}var fh=Array.prototype,hh=fh.map,dh=fh.slice,ph={name:"implicit"};function gh(){var t=Ji(),e=[],n=[],r=ph;function i(i){var a=i+"",o=t.get(a);if(!o){if(r!==ph)return r;t.set(a,o=e.push(i))}return n[(o-1)%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=Ji();for(var r,a,o=-1,s=n.length;++o<s;)t.has(a=(r=n[o])+"")||t.set(a,e.push(r));return i},i.range=function(t){return arguments.length?(n=dh.call(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return gh(e,n).unknown(r)},ch.apply(i,arguments),i}function yh(){var t,e,n=gh().unknown(void 0),r=n.domain,i=n.range,a=[0,1],o=!1,s=0,u=0,c=.5;function l(){var n=r().length,l=a[1]<a[0],f=a[l-0],h=a[1-l];t=(h-f)/Math.max(1,n-s+2*u),o&&(t=Math.floor(t)),f+=(h-f-t*(n-s))*c,e=t*(1-s),o&&(f=Math.round(f),e=Math.round(e));var d=y(n).map(function(e){return f+t*e});return i(l?d.reverse():d)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),l()):r()},n.range=function(t){return arguments.length?(a=[+t[0],+t[1]],l()):a.slice()},n.rangeRound=function(t){return a=[+t[0],+t[1]],o=!0,l()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(o=!!t,l()):o},n.padding=function(t){return arguments.length?(s=Math.min(1,u=+t),l()):s},n.paddingInner=function(t){return arguments.length?(s=Math.min(1,t),l()):s},n.paddingOuter=function(t){return arguments.length?(u=+t,l()):u},n.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),l()):c},n.copy=function(){return yh(r(),a).round(o).paddingInner(s).paddingOuter(u).align(c)},ch.apply(l(),arguments)}function vh(t){return+t}var mh=[0,1];function bh(t){return t}function xh(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function _h(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function wh(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=xh(i,r),a=n(o,a)):(r=xh(r,i),a=n(a,o)),function(t){return a(r(t))}}function kh(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)a[s]=xh(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(e){var n=i(t,e,1,r)-1;return o[n](a[n](e))}}function Mh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ah(){var t,e,n,r,i,a,o=mh,s=mh,u=yn,c=bh;function l(){return r=Math.min(o.length,s.length)>2?kh:wh,i=a=null,f}function f(e){return isNaN(e=+e)?n:(i||(i=r(o.map(t),s,u)))(t(c(e)))}return f.invert=function(n){return c(e((a||(a=r(s,o.map(t),fn)))(n)))},f.domain=function(t){return arguments.length?(o=hh.call(t,vh),c===bh||(c=_h(o)),l()):o.slice()},f.range=function(t){return arguments.length?(s=dh.call(t),l()):s.slice()},f.rangeRound=function(t){return s=dh.call(t),u=vn,l()},f.clamp=function(t){return arguments.length?(c=t?_h(o):bh,f):c!==bh},f.interpolate=function(t){return arguments.length?(u=t,l()):u},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,l()}}function Th(t,e){return Ah()(t,e)}function Eh(e,n,r,i){var a,o=w(e,n,r);switch((i=xo(null==i?",f":i)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(n));return null!=i.precision||isNaN(a=No(o,s))||(i.precision=a),t.formatPrefix(i,s);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(a=Ro(o,Math.max(Math.abs(e),Math.abs(n))))||(i.precision=a-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(a=So(o))||(i.precision=a-2*("%"===i.type))}return t.format(i)}function Ch(t){var e=t.domain;return t.ticks=function(t){var n=e();return x(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Eh(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),a=0,o=i.length-1,s=i[a],u=i[o];return u<s&&(r=s,s=u,u=r,r=a,a=o,o=r),(r=_(s,u,n))>0?r=_(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,n):r<0&&(r=_(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,n)),r>0?(i[a]=Math.floor(s/r)*r,i[o]=Math.ceil(u/r)*r,e(i)):r<0&&(i[a]=Math.ceil(s*r)/r,i[o]=Math.floor(u*r)/r,e(i)),t},t}function Sh(t,e){var n,r=0,i=(t=t.slice()).length-1,a=t[r],o=t[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),t[r]=e.floor(a),t[i]=e.ceil(o),t}function Nh(t){return Math.log(t)}function Rh(t){return Math.exp(t)}function Ph(t){return-Math.log(-t)}function zh(t){return-Math.exp(-t)}function Oh(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Lh(t){return function(e){return-t(-e)}}function Dh(e){var n,r,i=e(Nh,Rh),a=i.domain,o=10;function s(){return n=(t=o)===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t}),r=function(t){return 10===t?Oh:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(o),a()[0]<0?(n=Lh(n),r=Lh(r),e(Ph,zh)):e(Nh,Rh),i;var t}return i.base=function(t){return arguments.length?(o=+t,s()):o},i.domain=function(t){return arguments.length?(a(t),s()):a()},i.ticks=function(t){var e,i=a(),s=i[0],u=i[i.length-1];(e=u<s)&&(h=s,s=u,u=h);var c,l,f,h=n(s),d=n(u),p=null==t?10:+t,g=[];if(!(o%1)&&d-h<p){if(h=Math.round(h)-1,d=Math.round(d)+1,s>0){for(;h<d;++h)for(l=1,c=r(h);l<o;++l)if(!((f=c*l)<s)){if(f>u)break;g.push(f)}}else for(;h<d;++h)for(l=o-1,c=r(h);l>=1;--l)if(!((f=c*l)<s)){if(f>u)break;g.push(f)}}else g=x(h,d,Math.min(d-h,p)).map(r);return e?g.reverse():g},i.tickFormat=function(e,a){if(null==a&&(a=10===o?".0e":","),"function"!=typeof a&&(a=t.format(a)),e===1/0)return a;null==e&&(e=10);var s=Math.max(1,o*e/i.ticks().length);return function(t){var e=t/r(Math.round(n(t)));return e*o<o-.5&&(e*=o),e<=s?a(t):""}},i.nice=function(){return a(Sh(a(),{floor:function(t){return r(Math.floor(n(t)))},ceil:function(t){return r(Math.ceil(n(t)))}}))},i}function Ih(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function jh(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Yh(t){var e=1,n=t(Ih(e),jh(e));return n.constant=function(n){return arguments.length?t(Ih(e=+n),jh(e)):e},Ch(n)}function Bh(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Hh(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Uh(t){return t<0?-t*t:t*t}function Fh(t){var e=t(bh,bh),n=1;return e.exponent=function(e){return arguments.length?1==(n=+e)?t(bh,bh):.5===n?t(Hh,Uh):t(Bh(n),Bh(1/n)):n},Ch(e)}function qh(){var t=Fh(Ah());return t.copy=function(){return Mh(t,qh()).exponent(t.exponent())},ch.apply(t,arguments),t}var $h=new Date,Wh=new Date;function Gh(t,e,n,r){function i(e){return t(e=new Date(+e)),e}return i.floor=i,i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,a){var o,s=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r&&a>0))return s;do{s.push(o=new Date(+n)),e(n,a),t(n)}while(o<n&&n<r);return s},i.filter=function(n){return Gh(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})},n&&(i.count=function(e,r){return $h.setTime(+e),Wh.setTime(+r),t($h),t(Wh),Math.floor(n($h,Wh))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var Vh=Gh(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Vh.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Gh(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):Vh:null};var Xh=Vh.range,Jh=6e4,Kh=6048e5,Zh=Gh(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),Qh=Zh.range,td=Gh(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,e){t.setTime(+t+e*Jh)},function(t,e){return(e-t)/Jh},function(t){return t.getMinutes()}),ed=td.range,nd=Gh(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*Jh)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),rd=nd.range,id=Gh(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Jh)/864e5},function(t){return t.getDate()-1}),ad=id.range;function od(t){return Gh(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Jh)/Kh})}var sd=od(0),ud=od(1),cd=od(2),ld=od(3),fd=od(4),hd=od(5),dd=od(6),pd=sd.range,gd=ud.range,yd=cd.range,vd=ld.range,md=fd.range,bd=hd.range,xd=dd.range,_d=Gh(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),wd=_d.range,kd=Gh(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});kd.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Gh(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var Md=kd.range,Ad=Gh(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*Jh)},function(t,e){return(e-t)/Jh},function(t){return t.getUTCMinutes()}),Td=Ad.range,Ed=Gh(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),Cd=Ed.range,Sd=Gh(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),Nd=Sd.range;function Rd(t){return Gh(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/Kh})}var Pd=Rd(0),zd=Rd(1),Od=Rd(2),Ld=Rd(3),Dd=Rd(4),Id=Rd(5),jd=Rd(6),Yd=Pd.range,Bd=zd.range,Hd=Od.range,Ud=Ld.range,Fd=Dd.range,qd=Id.range,$d=jd.range,Wd=Gh(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),Gd=Wd.range,Vd=Gh(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Vd.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Gh(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var Xd=Vd.range;function Jd(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Kd(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Zd(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function Qd(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,u=t.shortMonths,c=sp(i),l=up(i),f=sp(a),h=up(a),d=sp(o),p=up(o),g=sp(s),y=up(s),v=sp(u),m=up(u),b={a:function(t){return o[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Cp,e:Cp,f:zp,H:Sp,I:Np,j:Rp,L:Pp,m:Op,M:Lp,p:function(t){return i[+(t.getHours()>=12)]},Q:cg,s:lg,S:Dp,u:Ip,U:jp,V:Yp,w:Bp,W:Hp,x:null,X:null,y:Up,Y:Fp,Z:qp,"%":ug},x={a:function(t){return o[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:$p,e:$p,f:Jp,H:Wp,I:Gp,j:Vp,L:Xp,m:Kp,M:Zp,p:function(t){return i[+(t.getUTCHours()>=12)]},Q:cg,s:lg,S:Qp,u:tg,U:eg,V:ng,w:rg,W:ig,x:null,X:null,y:ag,Y:og,Z:sg,"%":ug},_={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return M(t,e,n,r)},d:mp,e:mp,f:Mp,H:xp,I:xp,j:bp,L:kp,m:vp,M:_p,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=l[r[0].toLowerCase()],n+r[0].length):-1},Q:Tp,s:Ep,S:wp,u:lp,U:fp,V:hp,w:cp,W:dp,x:function(t,e,r){return M(t,n,e,r)},X:function(t,e,n){return M(t,r,e,n)},y:gp,Y:pp,Z:yp,"%":Ap};function w(t,e){return function(n){var r,i,a,o=[],s=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(o.push(t.slice(u,s)),null!=(i=ep[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(a=e[r])&&(r=a(n,i)),o.push(r),u=s+1);return o.push(t.slice(u,s)),o.join("")}}function k(t,e){return function(n){var r,i,a=Zd(1900);if(M(a,t,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("p"in a&&(a.H=a.H%12+12*a.p),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=Kd(Zd(a.y))).getUTCDay(),r=i>4||0===i?zd.ceil(r):zd(r),r=Sd.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=e(Zd(a.y))).getDay(),r=i>4||0===i?ud.ceil(r):ud(r),r=id.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?Kd(Zd(a.y)).getUTCDay():e(Zd(a.y)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Kd(a)):e(a)}}function M(t,e,n,r){for(var i,a,o=0,s=e.length,u=n.length;o<s;){if(r>=u)return-1;if(37===(i=e.charCodeAt(o++))){if(i=e.charAt(o++),!(a=_[i in ep?e.charAt(o++):i])||(r=a(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=w(n,b),b.X=w(r,b),b.c=w(e,b),x.x=w(n,x),x.X=w(r,x),x.c=w(e,x),{format:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=k(t+="",Jd);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",x);return e.toString=function(){return t},e},utcParse:function(t){var e=k(t,Kd);return e.toString=function(){return t},e}}}var tp,ep={"-":"",_:" ",0:"0"},np=/^\s*\d+/,rp=/^%/,ip=/[\\^$*+?|[\]().{}]/g;function ap(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function op(t){return t.replace(ip,"\\$&")}function sp(t){return new RegExp("^(?:"+t.map(op).join("|")+")","i")}function up(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function cp(t,e,n){var r=np.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function lp(t,e,n){var r=np.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function fp(t,e,n){var r=np.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function hp(t,e,n){var r=np.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function dp(t,e,n){var r=np.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function pp(t,e,n){var r=np.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function gp(t,e,n){var r=np.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function yp(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function vp(t,e,n){var r=np.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function mp(t,e,n){var r=np.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function bp(t,e,n){var r=np.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function xp(t,e,n){var r=np.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function _p(t,e,n){var r=np.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function wp(t,e,n){var r=np.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function kp(t,e,n){var r=np.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Mp(t,e,n){var r=np.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ap(t,e,n){var r=rp.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Tp(t,e,n){var r=np.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Ep(t,e,n){var r=np.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function Cp(t,e){return ap(t.getDate(),e,2)}function Sp(t,e){return ap(t.getHours(),e,2)}function Np(t,e){return ap(t.getHours()%12||12,e,2)}function Rp(t,e){return ap(1+id.count(kd(t),t),e,3)}function Pp(t,e){return ap(t.getMilliseconds(),e,3)}function zp(t,e){return Pp(t,e)+"000"}function Op(t,e){return ap(t.getMonth()+1,e,2)}function Lp(t,e){return ap(t.getMinutes(),e,2)}function Dp(t,e){return ap(t.getSeconds(),e,2)}function Ip(t){var e=t.getDay();return 0===e?7:e}function jp(t,e){return ap(sd.count(kd(t),t),e,2)}function Yp(t,e){var n=t.getDay();return t=n>=4||0===n?fd(t):fd.ceil(t),ap(fd.count(kd(t),t)+(4===kd(t).getDay()),e,2)}function Bp(t){return t.getDay()}function Hp(t,e){return ap(ud.count(kd(t),t),e,2)}function Up(t,e){return ap(t.getFullYear()%100,e,2)}function Fp(t,e){return ap(t.getFullYear()%1e4,e,4)}function qp(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ap(e/60|0,"0",2)+ap(e%60,"0",2)}function $p(t,e){return ap(t.getUTCDate(),e,2)}function Wp(t,e){return ap(t.getUTCHours(),e,2)}function Gp(t,e){return ap(t.getUTCHours()%12||12,e,2)}function Vp(t,e){return ap(1+Sd.count(Vd(t),t),e,3)}function Xp(t,e){return ap(t.getUTCMilliseconds(),e,3)}function Jp(t,e){return Xp(t,e)+"000"}function Kp(t,e){return ap(t.getUTCMonth()+1,e,2)}function Zp(t,e){return ap(t.getUTCMinutes(),e,2)}function Qp(t,e){return ap(t.getUTCSeconds(),e,2)}function tg(t){var e=t.getUTCDay();return 0===e?7:e}function eg(t,e){return ap(Pd.count(Vd(t),t),e,2)}function ng(t,e){var n=t.getUTCDay();return t=n>=4||0===n?Dd(t):Dd.ceil(t),ap(Dd.count(Vd(t),t)+(4===Vd(t).getUTCDay()),e,2)}function rg(t){return t.getUTCDay()}function ig(t,e){return ap(zd.count(Vd(t),t),e,2)}function ag(t,e){return ap(t.getUTCFullYear()%100,e,2)}function og(t,e){return ap(t.getUTCFullYear()%1e4,e,4)}function sg(){return"+0000"}function ug(){return"%"}function cg(t){return+t}function lg(t){return Math.floor(+t/1e3)}function fg(e){return tp=Qd(e),t.timeFormat=tp.format,t.timeParse=tp.parse,t.utcFormat=tp.utcFormat,t.utcParse=tp.utcParse,tp}fg({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var hg=Date.prototype.toISOString?function(t){return t.toISOString()}:t.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),dg=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:t.utcParse("%Y-%m-%dT%H:%M:%S.%LZ"),pg=1e3,gg=60*pg,yg=60*gg,vg=24*yg,mg=7*vg,bg=30*vg,xg=365*vg;function _g(t){return new Date(t)}function wg(t){return t instanceof Date?+t:+new Date(+t)}function kg(t,e,r,i,a,o,s,u,c){var l=Th(bh,bh),f=l.invert,h=l.domain,d=c(".%L"),p=c(":%S"),g=c("%I:%M"),y=c("%I %p"),v=c("%a %d"),m=c("%b %d"),b=c("%B"),x=c("%Y"),_=[[s,1,pg],[s,5,5*pg],[s,15,15*pg],[s,30,30*pg],[o,1,gg],[o,5,5*gg],[o,15,15*gg],[o,30,30*gg],[a,1,yg],[a,3,3*yg],[a,6,6*yg],[a,12,12*yg],[i,1,vg],[i,2,2*vg],[r,1,mg],[e,1,bg],[e,3,3*bg],[t,1,xg]];function k(n){return(s(n)<n?d:o(n)<n?p:a(n)<n?g:i(n)<n?y:e(n)<n?r(n)<n?v:m:t(n)<n?b:x)(n)}function M(e,r,i,a){if(null==e&&(e=10),"number"==typeof e){var o=Math.abs(i-r)/e,s=n(function(t){return t[2]}).right(_,o);s===_.length?(a=w(r/xg,i/xg,e),e=t):s?(a=(s=_[o/_[s-1][2]<_[s][2]/o?s-1:s])[1],e=s[0]):(a=Math.max(w(r,i,e),1),e=u)}return null==a?e:e.every(a)}return l.invert=function(t){return new Date(f(t))},l.domain=function(t){return arguments.length?h(hh.call(t,wg)):h().map(_g)},l.ticks=function(t,e){var n,r=h(),i=r[0],a=r[r.length-1],o=a<i;return o&&(n=i,i=a,a=n),n=(n=M(t,i,a,e))?n.range(i,a+1):[],o?n.reverse():n},l.tickFormat=function(t,e){return null==e?k:c(e)},l.nice=function(t,e){var n=h();return(t=M(t,n[0],n[n.length-1],e))?h(Sh(n,t)):l},l.copy=function(){return Mh(l,kg(t,e,r,i,a,o,s,u,c))},l}function Mg(){var t,e,n,r,i,a=0,o=1,s=bh,u=!1;function c(e){return isNaN(e=+e)?i:s(0===n?.5:(e=(r(e)-t)*n,u?Math.max(0,Math.min(1,e)):e))}return c.domain=function(i){return arguments.length?(t=r(a=+i[0]),e=r(o=+i[1]),n=t===e?0:1/(e-t),c):[a,o]},c.clamp=function(t){return arguments.length?(u=!!t,c):u},c.interpolator=function(t){return arguments.length?(s=t,c):s},c.unknown=function(t){return arguments.length?(i=t,c):i},function(i){return r=i,t=i(a),e=i(o),n=t===e?0:1/(e-t),c}}function Ag(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Tg(){var t=Fh(Mg());return t.copy=function(){return Ag(t,Tg()).exponent(t.exponent())},lh.apply(t,arguments)}function Eg(){var t,e,n,r,i,a,o,s=0,u=.5,c=1,l=bh,f=!1;function h(t){return isNaN(t=+t)?o:(t=.5+((t=+a(t))-e)*(t<e?r:i),l(f?Math.max(0,Math.min(1,t)):t))}return h.domain=function(o){return arguments.length?(t=a(s=+o[0]),e=a(u=+o[1]),n=a(c=+o[2]),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),h):[s,u,c]},h.clamp=function(t){return arguments.length?(f=!!t,h):f},h.interpolator=function(t){return arguments.length?(l=t,h):l},h.unknown=function(t){return arguments.length?(o=t,h):o},function(o){return a=o,t=o(s),e=o(u),n=o(c),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),h}}function Cg(){var t=Fh(Eg());return t.copy=function(){return Ag(t,Cg()).exponent(t.exponent())},lh.apply(t,arguments)}function Sg(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}var Ng=Sg("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Rg=Sg("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Pg=Sg("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),zg=Sg("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Og=Sg("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Lg=Sg("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Dg=Sg("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Ig=Sg("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),jg=Sg("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function Yg(t){return sn(t[t.length-1])}var Bg=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Sg),Hg=Yg(Bg),Ug=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Sg),Fg=Yg(Ug),qg=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Sg),$g=Yg(qg),Wg=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Sg),Gg=Yg(Wg),Vg=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Sg),Xg=Yg(Vg),Jg=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Sg),Kg=Yg(Jg),Zg=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Sg),Qg=Yg(Zg),ty=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Sg),ey=Yg(ty),ny=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Sg),ry=Yg(ny),iy=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Sg),ay=Yg(iy),oy=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Sg),sy=Yg(oy),uy=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Sg),cy=Yg(uy),ly=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Sg),fy=Yg(ly),hy=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Sg),dy=Yg(hy),py=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Sg),gy=Yg(py),yy=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Sg),vy=Yg(yy),my=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Sg),by=Yg(my),xy=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Sg),_y=Yg(xy),wy=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Sg),ky=Yg(wy),My=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Sg),Ay=Yg(My),Ty=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Sg),Ey=Yg(Ty),Cy=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Sg),Sy=Yg(Cy),Ny=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Sg),Ry=Yg(Ny),Py=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Sg),zy=Yg(Py),Oy=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Sg),Ly=Yg(Oy),Dy=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Sg),Iy=Yg(Dy),jy=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Sg),Yy=Yg(jy),By=qn(Xe(300,.5,0),Xe(-240,.5,1)),Hy=qn(Xe(-100,.75,.35),Xe(80,1.5,.8)),Uy=qn(Xe(260,.75,.35),Xe(80,1.5,.8)),Fy=Xe(),qy=ge(),$y=Math.PI/3,Wy=2*Math.PI/3;function Gy(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var Vy=Gy(Sg("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Xy=Gy(Sg("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Jy=Gy(Sg("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Ky=Gy(Sg("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Zy(t){return function(){return t}}var Qy=Math.abs,tv=Math.atan2,ev=Math.cos,nv=Math.max,rv=Math.min,iv=Math.sin,av=Math.sqrt,ov=1e-12,sv=Math.PI,uv=sv/2,cv=2*sv;function lv(t){return t>=1?uv:t<=-1?-uv:Math.asin(t)}function fv(t){return t.innerRadius}function hv(t){return t.outerRadius}function dv(t){return t.startAngle}function pv(t){return t.endAngle}function gv(t){return t&&t.padAngle}function yv(t,e,n,r,i,a,o){var s=t-n,u=e-r,c=(o?a:-a)/av(s*s+u*u),l=c*u,f=-c*s,h=t+l,d=e+f,p=n+l,g=r+f,y=(h+p)/2,v=(d+g)/2,m=p-h,b=g-d,x=m*m+b*b,_=i-a,w=h*g-p*d,k=(b<0?-1:1)*av(nv(0,_*_*x-w*w)),M=(w*b-m*k)/x,A=(-w*m-b*k)/x,T=(w*b+m*k)/x,E=(-w*m+b*k)/x,C=M-y,S=A-v,N=T-y,R=E-v;return C*C+S*S>N*N+R*R&&(M=T,A=E),{cx:M,cy:A,x01:-l,y01:-f,x11:M*(i/_-1),y11:A*(i/_-1)}}function vv(t){this._context=t}function mv(t){return new vv(t)}function bv(t){return t[0]}function xv(t){return t[1]}function _v(){var t=bv,e=xv,n=Zy(!0),r=null,i=mv,a=null;function o(o){var s,u,c,l=o.length,f=!1;for(null==r&&(a=i(c=Fi())),s=0;s<=l;++s)!(s<l&&n(u=o[s],s,o))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(u,s,o),+e(u,s,o));if(c)return a=null,c+""||null}return o.x=function(e){return arguments.length?(t="function"==typeof e?e:Zy(+e),o):t},o.y=function(t){return arguments.length?(e="function"==typeof t?t:Zy(+t),o):e},o.defined=function(t){return arguments.length?(n="function"==typeof t?t:Zy(!!t),o):n},o.curve=function(t){return arguments.length?(i=t,null!=r&&(a=i(r)),o):i},o.context=function(t){return arguments.length?(null==t?r=a=null:a=i(r=t),o):r},o}function wv(){var t=bv,e=null,n=Zy(0),r=xv,i=Zy(!0),a=null,o=mv,s=null;function u(u){var c,l,f,h,d,p=u.length,g=!1,y=new Array(p),v=new Array(p);for(null==a&&(s=o(d=Fi())),c=0;c<=p;++c){if(!(c<p&&i(h=u[c],c,u))===g)if(g=!g)l=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=c-1;f>=l;--f)s.point(y[f],v[f]);s.lineEnd(),s.areaEnd()}g&&(y[c]=+t(h,c,u),v[c]=+n(h,c,u),s.point(e?+e(h,c,u):y[c],r?+r(h,c,u):v[c]))}if(d)return s=null,d+""||null}function c(){return _v().defined(i).curve(o).context(a)}return u.x=function(n){return arguments.length?(t="function"==typeof n?n:Zy(+n),e=null,u):t},u.x0=function(e){return arguments.length?(t="function"==typeof e?e:Zy(+e),u):t},u.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:Zy(+t),u):e},u.y=function(t){return arguments.length?(n="function"==typeof t?t:Zy(+t),r=null,u):n},u.y0=function(t){return arguments.length?(n="function"==typeof t?t:Zy(+t),u):n},u.y1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Zy(+t),u):r},u.lineX0=u.lineY0=function(){return c().x(t).y(n)},u.lineY1=function(){return c().x(t).y(r)},u.lineX1=function(){return c().x(e).y(n)},u.defined=function(t){return arguments.length?(i="function"==typeof t?t:Zy(!!t),u):i},u.curve=function(t){return arguments.length?(o=t,null!=a&&(s=o(a)),u):o},u.context=function(t){return arguments.length?(null==t?a=s=null:s=o(a=t),u):a},u}function kv(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function Mv(t){return t}vv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var Av=Ev(mv);function Tv(t){this._curve=t}function Ev(t){function e(e){return new Tv(t(e))}return e._curve=t,e}function Cv(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(Ev(t)):e()._curve},t}function Sv(){return Cv(_v().curve(Av))}function Nv(){var t=wv().curve(Av),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,a=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Cv(n())},delete t.lineX0,t.lineEndAngle=function(){return Cv(r())},delete t.lineX1,t.lineInnerRadius=function(){return Cv(i())},delete t.lineY0,t.lineOuterRadius=function(){return Cv(a())},delete t.lineY1,t.curve=function(t){return arguments.length?e(Ev(t)):e()._curve},t}function Rv(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}Tv.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var Pv=Array.prototype.slice;function zv(t){return t.source}function Ov(t){return t.target}function Lv(t){var e=zv,n=Ov,r=bv,i=xv,a=null;function o(){var o,s=Pv.call(arguments),u=e.apply(this,s),c=n.apply(this,s);if(a||(a=o=Fi()),t(a,+r.apply(this,(s[0]=u,s)),+i.apply(this,s),+r.apply(this,(s[0]=c,s)),+i.apply(this,s)),o)return a=null,o+""||null}return o.source=function(t){return arguments.length?(e=t,o):e},o.target=function(t){return arguments.length?(n=t,o):n},o.x=function(t){return arguments.length?(r="function"==typeof t?t:Zy(+t),o):r},o.y=function(t){return arguments.length?(i="function"==typeof t?t:Zy(+t),o):i},o.context=function(t){return arguments.length?(a=null==t?null:t,o):a},o}function Dv(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function Iv(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function jv(t,e,n,r,i){var a=Rv(e,n),o=Rv(e,n=(n+i)/2),s=Rv(r,n),u=Rv(r,i);t.moveTo(a[0],a[1]),t.bezierCurveTo(o[0],o[1],s[0],s[1],u[0],u[1])}var Yv={draw:function(t,e){var n=Math.sqrt(e/sv);t.moveTo(n,0),t.arc(0,0,n,0,cv)}},Bv={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Hv=Math.sqrt(1/3),Uv=2*Hv,Fv={draw:function(t,e){var n=Math.sqrt(e/Uv),r=n*Hv;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},qv=Math.sin(sv/10)/Math.sin(7*sv/10),$v=Math.sin(cv/10)*qv,Wv=-Math.cos(cv/10)*qv,Gv={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=$v*n,i=Wv*n;t.moveTo(0,-n),t.lineTo(r,i);for(var a=1;a<5;++a){var o=cv*a/5,s=Math.cos(o),u=Math.sin(o);t.lineTo(u*n,-s*n),t.lineTo(s*r-u*i,u*r+s*i)}t.closePath()}},Vv={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},Xv=Math.sqrt(3),Jv={draw:function(t,e){var n=-Math.sqrt(e/(3*Xv));t.moveTo(0,2*n),t.lineTo(-Xv*n,-n),t.lineTo(Xv*n,-n),t.closePath()}},Kv=Math.sqrt(3)/2,Zv=1/Math.sqrt(12),Qv=3*(Zv/2+1),tm={draw:function(t,e){var n=Math.sqrt(e/Qv),r=n/2,i=n*Zv,a=r,o=n*Zv+n,s=-a,u=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,u),t.lineTo(-.5*r-Kv*i,Kv*r+-.5*i),t.lineTo(-.5*a-Kv*o,Kv*a+-.5*o),t.lineTo(-.5*s-Kv*u,Kv*s+-.5*u),t.lineTo(-.5*r+Kv*i,-.5*i-Kv*r),t.lineTo(-.5*a+Kv*o,-.5*o-Kv*a),t.lineTo(-.5*s+Kv*u,-.5*u-Kv*s),t.closePath()}},em=[Yv,Bv,Fv,Vv,Gv,Jv,tm];function nm(){}function rm(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function im(t){this._context=t}function am(t){this._context=t}function om(t){this._context=t}function sm(t,e){this._basis=new im(t),this._beta=e}im.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:rm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:rm(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},am.prototype={areaStart:nm,areaEnd:nm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:rm(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},om.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:rm(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},sm.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],a=e[0],o=t[n]-i,s=e[n]-a,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*o),this._beta*e[u]+(1-this._beta)*(a+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var um=function t(e){function n(t){return 1===e?new im(t):new sm(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function cm(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function lm(t,e){this._context=t,this._k=(1-e)/6}lm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:cm(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:cm(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var fm=function t(e){function n(t){return new lm(t,e)}return n.tension=function(e){return t(+e)},n}(0);function hm(t,e){this._context=t,this._k=(1-e)/6}hm.prototype={areaStart:nm,areaEnd:nm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:cm(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var dm=function t(e){function n(t){return new hm(t,e)}return n.tension=function(e){return t(+e)},n}(0);function pm(t,e){this._context=t,this._k=(1-e)/6}pm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:cm(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var gm=function t(e){function n(t){return new pm(t,e)}return n.tension=function(e){return t(+e)},n}(0);function ym(t,e,n){var r=t._x1,i=t._y1,a=t._x2,o=t._y2;if(t._l01_a>ov){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>ov){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*c+t._x1*t._l23_2a-e*t._l12_2a)/l,o=(o*c+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,a,o,t._x2,t._y2)}function vm(t,e){this._context=t,this._alpha=e}vm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:ym(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var mm=function t(e){function n(t){return e?new vm(t,e):new lm(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function bm(t,e){this._context=t,this._alpha=e}bm.prototype={areaStart:nm,areaEnd:nm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:ym(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var xm=function t(e){function n(t){return e?new bm(t,e):new hm(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function _m(t,e){this._context=t,this._alpha=e}_m.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ym(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var wm=function t(e){function n(t){return e?new _m(t,e):new pm(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function km(t){this._context=t}function Mm(t){return t<0?-1:1}function Am(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(Mm(a)+Mm(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function Tm(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Em(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function Cm(t){this._context=t}function Sm(t){this._context=new Nm(t)}function Nm(t){this._context=t}function Rm(t){this._context=t}function Pm(t){var e,n,r=t.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function zm(t,e){this._context=t,this._t=e}function Om(t,e){if((i=t.length)>1)for(var n,r,i,a=1,o=t[e[0]],s=o.length;a<i;++a)for(r=o,o=t[e[a]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function Lm(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Dm(t,e){return t[e]}function Im(t){var e=t.map(jm);return Lm(t).sort(function(t,n){return e[t]-e[n]})}function jm(t){for(var e,n=-1,r=0,i=t.length,a=-1/0;++n<i;)(e=+t[n][1])>a&&(a=e,r=n);return r}function Ym(t){var e=t.map(Bm);return Lm(t).sort(function(t,n){return e[t]-e[n]})}function Bm(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}function Hm(t){return function(){return t}}function Um(t){return t[0]}function Fm(t){return t[1]}function qm(){this._=null}function $m(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Wm(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Gm(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Vm(t){for(;t.L;)t=t.L;return t}function Xm(t,e,n,r){var i=[null,null],a=bb.push(i)-1;return i.left=t,i.right=e,n&&Km(i,t,e,n),r&&Km(i,e,t,r),vb[t.index].halfedges.push(a),vb[e.index].halfedges.push(a),i}function Jm(t,e,n){var r=[e,n];return r.left=t,r}function Km(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function Zm(t,e,n,r,i){var a,o=t[0],s=t[1],u=o[0],c=o[1],l=0,f=1,h=s[0]-u,d=s[1]-c;if(a=e-u,h||!(a>0)){if(a/=h,h<0){if(a<l)return;a<f&&(f=a)}else if(h>0){if(a>f)return;a>l&&(l=a)}if(a=r-u,h||!(a<0)){if(a/=h,h<0){if(a>f)return;a>l&&(l=a)}else if(h>0){if(a<l)return;a<f&&(f=a)}if(a=n-c,d||!(a>0)){if(a/=d,d<0){if(a<l)return;a<f&&(f=a)}else if(d>0){if(a>f)return;a>l&&(l=a)}if(a=i-c,d||!(a<0)){if(a/=d,d<0){if(a>f)return;a>l&&(l=a)}else if(d>0){if(a<l)return;a<f&&(f=a)}return!(l>0||f<1)||(l>0&&(t[0]=[u+l*h,c+l*d]),f<1&&(t[1]=[u+f*h,c+f*d]),!0)}}}}}function Qm(t,e,n,r,i){var a=t[1];if(a)return!0;var o,s,u=t[0],c=t.left,l=t.right,f=c[0],h=c[1],d=l[0],p=l[1],g=(f+d)/2,y=(h+p)/2;if(p===h){if(g<e||g>=r)return;if(f>d){if(u){if(u[1]>=i)return}else u=[g,n];a=[g,i]}else{if(u){if(u[1]<n)return}else u=[g,i];a=[g,n]}}else if(s=y-(o=(f-d)/(p-h))*g,o<-1||o>1)if(f>d){if(u){if(u[1]>=i)return}else u=[(n-s)/o,n];a=[(i-s)/o,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/o,i];a=[(n-s)/o,n]}else if(h<p){if(u){if(u[0]>=r)return}else u=[e,o*e+s];a=[r,o*r+s]}else{if(u){if(u[0]<e)return}else u=[r,o*r+s];a=[e,o*e+s]}return t[0]=u,t[1]=a,!0}function tb(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function eb(t,e){return e[+(e.left!==t.site)]}function nb(t,e){return e[+(e.left===t.site)]}km.prototype={areaStart:nm,areaEnd:nm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},Cm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Em(this,this._t0,Tm(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Em(this,Tm(this,n=Am(this,t,e)),n);break;default:Em(this,this._t0,n=Am(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Sm.prototype=Object.create(Cm.prototype)).point=function(t,e){Cm.prototype.point.call(this,e,t)},Nm.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}},Rm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=Pm(t),i=Pm(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},zm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}},qm.prototype={constructor:qm,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Vm(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Wm(this,n),n=(t=n).U),n.C=!1,r.C=!0,Gm(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Gm(this,n),n=(t=n).U),n.C=!1,r.C=!0,Wm(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,a=t.L,o=t.R;if(n=a?o?Vm(o):a:o,i?i.L===t?i.L=n:i.R=n:this._=n,a&&o?(r=n.C,n.C=t.C,n.L=a,a.U=n,n!==o?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=o,o.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Wm(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Gm(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Wm(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Gm(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Wm(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Gm(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var rb,ib=[];function ab(){$m(this),this.x=this.y=this.arc=this.site=this.cy=null}function ob(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,a=n.site;if(r!==a){var o=i[0],s=i[1],u=r[0]-o,c=r[1]-s,l=a[0]-o,f=a[1]-s,h=2*(u*f-c*l);if(!(h>=-_b)){var d=u*u+c*c,p=l*l+f*f,g=(f*d-c*p)/h,y=(u*p-l*d)/h,v=ib.pop()||new ab;v.arc=t,v.site=i,v.x=g+o,v.y=(v.cy=y+s)+Math.sqrt(g*g+y*y),t.circle=v;for(var m=null,b=mb._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){m=b.P;break}b=b.L}else{if(!b.R){m=b;break}b=b.R}mb.insert(m,v),m||(rb=v)}}}}function sb(t){var e=t.circle;e&&(e.P||(rb=e.N),mb.remove(e),ib.push(e),$m(e),t.circle=null)}var ub=[];function cb(){$m(this),this.edge=this.site=this.circle=null}function lb(t){var e=ub.pop()||new cb;return e.site=t,e}function fb(t){sb(t),yb.remove(t),ub.push(t),$m(t)}function hb(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],a=t.P,o=t.N,s=[t];fb(t);for(var u=a;u.circle&&Math.abs(n-u.circle.x)<xb&&Math.abs(r-u.circle.cy)<xb;)a=u.P,s.unshift(u),fb(u),u=a;s.unshift(u),sb(u);for(var c=o;c.circle&&Math.abs(n-c.circle.x)<xb&&Math.abs(r-c.circle.cy)<xb;)o=c.N,s.push(c),fb(c),c=o;s.push(c),sb(c);var l,f=s.length;for(l=1;l<f;++l)c=s[l],u=s[l-1],Km(c.edge,u.site,c.site,i);u=s[0],(c=s[f-1]).edge=Xm(u.site,c.site,null,i),ob(u),ob(c)}function db(t){for(var e,n,r,i,a=t[0],o=t[1],s=yb._;s;)if((r=pb(s,o)-a)>xb)s=s.L;else{if(!((i=a-gb(s,o))>xb)){r>-xb?(e=s.P,n=s):i>-xb?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){vb[t.index]={site:t,halfedges:[]}}(t);var u=lb(t);if(yb.insert(e,u),e||n){if(e===n)return sb(e),n=lb(e.site),yb.insert(u,n),u.edge=n.edge=Xm(e.site,u.site),ob(e),void ob(n);if(n){sb(e),sb(n);var c=e.site,l=c[0],f=c[1],h=t[0]-l,d=t[1]-f,p=n.site,g=p[0]-l,y=p[1]-f,v=2*(h*y-d*g),m=h*h+d*d,b=g*g+y*y,x=[(y*m-d*b)/v+l,(h*b-g*m)/v+f];Km(n.edge,c,p,x),u.edge=Xm(c,t,null,x),n.edge=Xm(t,p,null,x),ob(e),ob(n)}else u.edge=Xm(e.site,u.site)}}function pb(t,e){var n=t.site,r=n[0],i=n[1],a=i-e;if(!a)return r;var o=t.P;if(!o)return-1/0;var s=(n=o.site)[0],u=n[1],c=u-e;if(!c)return s;var l=s-r,f=1/a-1/c,h=l/c;return f?(-h+Math.sqrt(h*h-2*f*(l*l/(-2*c)-u+c/2+i-a/2)))/f+r:(r+s)/2}function gb(t,e){var n=t.N;if(n)return pb(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var yb,vb,mb,bb,xb=1e-6,_b=1e-12;function wb(t,e){return e[1]-t[1]||e[0]-t[0]}function kb(t,e){var n,r,i,a=t.sort(wb).pop();for(bb=[],vb=new Array(t.length),yb=new qm,mb=new qm;;)if(i=rb,a&&(!i||a[1]<i.y||a[1]===i.y&&a[0]<i.x))a[0]===n&&a[1]===r||(db(a),n=a[0],r=a[1]),a=t.pop();else{if(!i)break;hb(i.arc)}if(function(){for(var t,e,n,r,i=0,a=vb.length;i<a;++i)if((t=vb[i])&&(r=(e=t.halfedges).length)){var o=new Array(r),s=new Array(r);for(n=0;n<r;++n)o[n]=n,s[n]=tb(t,bb[e[n]]);for(o.sort(function(t,e){return s[e]-s[t]}),n=0;n<r;++n)s[n]=e[o[n]];for(n=0;n<r;++n)e[n]=s[n]}}(),e){var o=+e[0][0],s=+e[0][1],u=+e[1][0],c=+e[1][1];!function(t,e,n,r){for(var i,a=bb.length;a--;)Qm(i=bb[a],t,e,n,r)&&Zm(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>xb||Math.abs(i[0][1]-i[1][1])>xb)||delete bb[a]}(o,s,u,c),function(t,e,n,r){var i,a,o,s,u,c,l,f,h,d,p,g,y=vb.length,v=!0;for(i=0;i<y;++i)if(a=vb[i]){for(o=a.site,s=(u=a.halfedges).length;s--;)bb[u[s]]||u.splice(s,1);for(s=0,c=u.length;s<c;)p=(d=nb(a,bb[u[s]]))[0],g=d[1],f=(l=eb(a,bb[u[++s%c]]))[0],h=l[1],(Math.abs(p-f)>xb||Math.abs(g-h)>xb)&&(u.splice(s,0,bb.push(Jm(o,d,Math.abs(p-t)<xb&&r-g>xb?[t,Math.abs(f-t)<xb?h:r]:Math.abs(g-r)<xb&&n-p>xb?[Math.abs(h-r)<xb?f:n,r]:Math.abs(p-n)<xb&&g-e>xb?[n,Math.abs(f-n)<xb?h:e]:Math.abs(g-e)<xb&&p-t>xb?[Math.abs(h-e)<xb?f:t,e]:null))-1),++c);c&&(v=!1)}if(v){var m,b,x,_=1/0;for(i=0,v=null;i<y;++i)(a=vb[i])&&(x=(m=(o=a.site)[0]-t)*m+(b=o[1]-e)*b)<_&&(_=x,v=a);if(v){var w=[t,e],k=[t,r],M=[n,r],A=[n,e];v.halfedges.push(bb.push(Jm(o=v.site,w,k))-1,bb.push(Jm(o,k,M))-1,bb.push(Jm(o,M,A))-1,bb.push(Jm(o,A,w))-1)}}for(i=0;i<y;++i)(a=vb[i])&&(a.halfedges.length||delete vb[i])}(o,s,u,c)}this.edges=bb,this.cells=vb,yb=mb=bb=vb=null}function Mb(t){return function(){return t}}function Ab(t,e,n){this.target=t,this.type=e,this.transform=n}function Tb(t,e,n){this.k=t,this.x=e,this.y=n}kb.prototype={constructor:kb,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return eb(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,r){if(a=(i=n.halfedges).length)for(var i,a,o,s,u,c,l=n.site,f=-1,h=e[i[a-1]],d=h.left===l?h.right:h.left;++f<a;)o=d,d=(h=e[i[f]]).left===l?h.right:h.left,o&&d&&r<o.index&&r<d.index&&(u=o,c=d,((s=l)[0]-c[0])*(u[1]-s[1])-(s[0]-u[0])*(c[1]-s[1])<0)&&t.push([l.data,o.data,d.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var r,i,a=this,o=a._found||0,s=a.cells.length;!(i=a.cells[o]);)if(++o>=s)return null;var u=t-i.site[0],c=e-i.site[1],l=u*u+c*c;do{i=a.cells[r=o],o=null,i.halfedges.forEach(function(n){var r=a.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var u=t-s[0],c=e-s[1],f=u*u+c*c;f<l&&(l=f,o=s.index)}})}while(null!==o);return a._found=r,null==n||l<=n*n?i.site:null}},Tb.prototype={constructor:Tb,scale:function(t){return 1===t?this:new Tb(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Tb(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Eb=new Tb(1,0,0);function Cb(t){return t.__zoom||Eb}function Sb(){t.event.stopImmediatePropagation()}function Nb(){t.event.preventDefault(),t.event.stopImmediatePropagation()}function Rb(){return!t.event.button}function Pb(){var t,e,n=this;return n instanceof SVGElement?(t=(n=n.ownerSVGElement||n).width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function zb(){return this.__zoom||Eb}function Ob(){return-t.event.deltaY*(t.event.deltaMode?120:1)/500}function Lb(){return"ontouchstart"in this}function Db(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}Cb.prototype=Tb.prototype,t.version="5.9.7",t.bisect=i,t.bisectRight=i,t.bisectLeft=a,t.ascending=e,t.bisector=n,t.cross=function(t,e,n){var r,i,a,s,u=t.length,c=e.length,l=new Array(u*c);for(null==n&&(n=o),r=a=0;r<u;++r)for(s=t[r],i=0;i<c;++i,++a)l[a]=n(s,e[i]);return l},t.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},t.deviation=c,t.extent=l,t.histogram=function(){var t=g,e=l,n=k;function r(r){var a,o,s=r.length,u=new Array(s);for(a=0;a<s;++a)u[a]=t(r[a],a,r);var c=e(u),l=c[0],f=c[1],h=n(u,l,f);Array.isArray(h)||(h=w(l,f,h),h=y(Math.ceil(l/h)*h,f,h));for(var d=h.length;h[0]<=l;)h.shift(),--d;for(;h[d-1]>f;)h.pop(),--d;var p,g=new Array(d+1);for(a=0;a<=d;++a)(p=g[a]=[]).x0=a>0?h[a-1]:l,p.x1=a<d?h[a]:f;for(a=0;a<s;++a)l<=(o=u[a])&&o<=f&&g[i(h,o,0,d)].push(r[a]);return g}return r.value=function(e){return arguments.length?(t="function"==typeof e?e:p(e),r):t},r.domain=function(t){return arguments.length?(e="function"==typeof t?t:p([t[0],t[1]]),r):e},r.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?p(h.call(t)):p(t),r):n},r},t.thresholdFreedmanDiaconis=function(t,n,r){return t=d.call(t,s).sort(e),Math.ceil((r-n)/(2*(M(t,.75)-M(t,.25))*Math.pow(t.length,-1/3)))},t.thresholdScott=function(t,e,n){return Math.ceil((n-e)/(3.5*c(t)*Math.pow(t.length,-1/3)))},t.thresholdSturges=k,t.max=A,t.mean=function(t,e){var n,r=t.length,i=r,a=-1,o=0;if(null==e)for(;++a<r;)isNaN(n=s(t[a]))?--i:o+=n;else for(;++a<r;)isNaN(n=s(e(t[a],a,t)))?--i:o+=n;if(i)return o/i},t.median=function(t,n){var r,i=t.length,a=-1,o=[];if(null==n)for(;++a<i;)isNaN(r=s(t[a]))||o.push(r);else for(;++a<i;)isNaN(r=s(n(t[a],a,t)))||o.push(r);return M(o.sort(e),.5)},t.merge=T,t.min=E,t.pairs=function(t,e){null==e&&(e=o);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return a},t.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},t.quantile=M,t.range=y,t.scan=function(t,n){if(r=t.length){var r,i,a=0,o=0,s=t[o];for(null==n&&(n=e);++a<r;)(n(i=t[a],s)<0||0!==n(s,s))&&(s=i,o=a);return 0===n(s,s)?o:void 0}},t.shuffle=function(t,e,n){for(var r,i,a=(null==n?t.length:n)-(e=null==e?0:+e);a;)i=Math.random()*a--|0,r=t[a+e],t[a+e]=t[i+e],t[i+e]=r;return t},t.sum=function(t,e){var n,r=t.length,i=-1,a=0;if(null==e)for(;++i<r;)(n=+t[i])&&(a+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(a+=n);return a},t.ticks=x,t.tickIncrement=_,t.tickStep=w,t.transpose=C,t.variance=u,t.zip=function(){return C(arguments)},t.axisTop=function(t){return B(P,t)},t.axisRight=function(t){return B(z,t)},t.axisBottom=function(t){return B(O,t)},t.axisLeft=function(t){return B(L,t)},t.brush=function(){return Ni(bi)},t.brushX=function(){return Ni(vi)},t.brushY=function(){return Ni(mi)},t.brushSelection=function(t){var e=t.__brush;return e?e.dim.output(e.selection):null},t.chord=function(){var t=0,e=null,n=null,r=null;function i(i){var a,o,s,u,c,l,f=i.length,h=[],d=y(f),p=[],g=[],v=g.groups=new Array(f),m=new Array(f*f);for(a=0,c=-1;++c<f;){for(o=0,l=-1;++l<f;)o+=i[c][l];h.push(o),p.push(y(f)),a+=o}for(e&&d.sort(function(t,n){return e(h[t],h[n])}),n&&p.forEach(function(t,e){t.sort(function(t,r){return n(i[e][t],i[e][r])})}),u=(a=Di(0,Li-t*f)/a)?t:Li/f,o=0,c=-1;++c<f;){for(s=o,l=-1;++l<f;){var b=d[c],x=p[b][l],_=i[b][x],w=o,k=o+=_*a;m[x*f+b]={index:b,subindex:x,startAngle:w,endAngle:k,value:_}}v[b]={index:b,startAngle:s,endAngle:o,value:h[b]},o+=u}for(c=-1;++c<f;)for(l=c-1;++l<f;){var M=m[l*f+c],A=m[c*f+l];(M.value||A.value)&&g.push(M.value<A.value?{source:A,target:M}:{source:M,target:A})}return r?g.sort(r):g}return i.padAngle=function(e){return arguments.length?(t=Di(0,e),i):t},i.sortGroups=function(t){return arguments.length?(e=t,i):e},i.sortSubgroups=function(t){return arguments.length?(n=t,i):n},i.sortChords=function(t){return arguments.length?(null==t?r=null:(e=t,r=function(t,n){return e(t.source.value+t.target.value,n.source.value+n.target.value)})._=t,i):r&&r._;var e},i},t.ribbon=function(){var t=qi,e=$i,n=Wi,r=Gi,i=Vi,a=null;function o(){var o,s=Ii.call(arguments),u=t.apply(this,s),c=e.apply(this,s),l=+n.apply(this,(s[0]=u,s)),f=r.apply(this,s)-Oi,h=i.apply(this,s)-Oi,d=l*Ri(f),p=l*Pi(f),g=+n.apply(this,(s[0]=c,s)),y=r.apply(this,s)-Oi,v=i.apply(this,s)-Oi;if(a||(a=o=Fi()),a.moveTo(d,p),a.arc(0,0,l,f,h),f===y&&h===v||(a.quadraticCurveTo(0,0,g*Ri(y),g*Pi(y)),a.arc(0,0,g,y,v)),a.quadraticCurveTo(0,0,d,p),a.closePath(),o)return a=null,o+""||null}return o.radius=function(t){return arguments.length?(n="function"==typeof t?t:ji(+t),o):n},o.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:ji(+t),o):r},o.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:ji(+t),o):i},o.source=function(e){return arguments.length?(t=e,o):t},o.target=function(t){return arguments.length?(e=t,o):e},o.context=function(t){return arguments.length?(a=null==t?null:t,o):a},o},t.nest=function(){var t,e,n,r=[],i=[];function a(n,i,o,s){if(i>=r.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var u,c,l,f=-1,h=n.length,d=r[i++],p=Ji(),g=o();++f<h;)(l=p.get(u=d(c=n[f])+""))?l.push(c):p.set(u,[c]);return p.each(function(t,e){s(g,e,a(t,i,o,s))}),g}return n={object:function(t){return a(t,0,Ki,Zi)},map:function(t){return a(t,0,Qi,ta)},entries:function(t){return function t(n,a){if(++a>r.length)return n;var o,s=i[a-1];return null!=e&&a>=r.length?o=n.entries():(o=[],n.each(function(e,n){o.push({key:n,values:t(e,a)})})),null!=s?o.sort(function(t,e){return s(t.key,e.key)}):o}(a(t,0,Qi,ta),0)},key:function(t){return r.push(t),n},sortKeys:function(t){return i[r.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}},t.set=ra,t.map=Ji,t.keys=function(t){var e=[];for(var n in t)e.push(n);return e},t.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},t.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},t.color=fe,t.rgb=ge,t.hsl=be,t.lab=Pe,t.hcl=Ye,t.lch=function(t,e,n,r){return 1===arguments.length?je(t):new Be(n,e,t,null==r?1:r)},t.gray=function(t,e){return new ze(t,0,0,null==e?1:e)},t.cubehelix=Xe,t.contours=ha,t.contourDensity=function(){var t=ga,e=ya,n=va,r=960,i=500,a=20,o=2,s=3*a,u=r+2*s>>o,c=i+2*s>>o,l=oa(20);function f(r){var i=new Float32Array(u*c),f=new Float32Array(u*c);r.forEach(function(r,a,l){var f=+t(r,a,l)+s>>o,h=+e(r,a,l)+s>>o,d=+n(r,a,l);f>=0&&f<u&&h>=0&&h<c&&(i[f+h*u]+=d)}),da({width:u,height:c,data:i},{width:u,height:c,data:f},a>>o),pa({width:u,height:c,data:f},{width:u,height:c,data:i},a>>o),da({width:u,height:c,data:i},{width:u,height:c,data:f},a>>o),pa({width:u,height:c,data:f},{width:u,height:c,data:i},a>>o),da({width:u,height:c,data:i},{width:u,height:c,data:f},a>>o),pa({width:u,height:c,data:f},{width:u,height:c,data:i},a>>o);var d=l(i);if(!Array.isArray(d)){var p=A(i);d=w(0,p,d),(d=y(0,Math.floor(p/d)*d,d)).shift()}return ha().thresholds(d).size([u,c])(i).map(h)}function h(t){return t.value*=Math.pow(2,-2*o),t.coordinates.forEach(d),t}function d(t){t.forEach(p)}function p(t){t.forEach(g)}function g(t){t[0]=t[0]*Math.pow(2,o)-s,t[1]=t[1]*Math.pow(2,o)-s}function v(){return u=r+2*(s=3*a)>>o,c=i+2*s>>o,f}return f.x=function(e){return arguments.length?(t="function"==typeof e?e:oa(+e),f):t},f.y=function(t){return arguments.length?(e="function"==typeof t?t:oa(+t),f):e},f.weight=function(t){return arguments.length?(n="function"==typeof t?t:oa(+t),f):n},f.size=function(t){if(!arguments.length)return[r,i];var e=Math.ceil(t[0]),n=Math.ceil(t[1]);if(!(e>=0||e>=0))throw new Error("invalid size");return r=e,i=n,v()},f.cellSize=function(t){if(!arguments.length)return 1<<o;if(!((t=+t)>=1))throw new Error("invalid cell size");return o=Math.floor(Math.log(t)/Math.LN2),v()},f.thresholds=function(t){return arguments.length?(l="function"==typeof t?t:Array.isArray(t)?oa(ia.call(t)):oa(t),f):l},f.bandwidth=function(t){if(!arguments.length)return Math.sqrt(a*(a+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return a=Math.round((Math.sqrt(4*t*t+1)-1)/2),v()},f},t.dispatch=U,t.drag=function(){var e,n,r,i,a=Wt,o=Gt,s=Vt,u=Xt,c={},l=U("start","drag","end"),f=0,h=0;function d(t){t.on("mousedown.drag",p).filter(u).on("touchstart.drag",v).on("touchmove.drag",m).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(){if(!i&&a.apply(this,arguments)){var s=x("mouse",o.apply(this,arguments),jt,this,arguments);s&&(Pt(t.event.view).on("mousemove.drag",g,!0).on("mouseup.drag",y,!0),Ut(t.event.view),Bt(),r=!1,e=t.event.clientX,n=t.event.clientY,s("start"))}}function g(){if(Ht(),!r){var i=t.event.clientX-e,a=t.event.clientY-n;r=i*i+a*a>h}c.mouse("drag")}function y(){Pt(t.event.view).on("mousemove.drag mouseup.drag",null),Ft(t.event.view,r),Ht(),c.mouse("end")}function v(){if(a.apply(this,arguments)){var e,n,r=t.event.changedTouches,i=o.apply(this,arguments),s=r.length;for(e=0;e<s;++e)(n=x(r[e].identifier,i,Yt,this,arguments))&&(Bt(),n("start"))}}function m(){var e,n,r=t.event.changedTouches,i=r.length;for(e=0;e<i;++e)(n=c[r[e].identifier])&&(Ht(),n("drag"))}function b(){var e,n,r=t.event.changedTouches,a=r.length;for(i&&clearTimeout(i),i=setTimeout(function(){i=null},500),e=0;e<a;++e)(n=c[r[e].identifier])&&(Bt(),n("end"))}function x(e,n,r,i,a){var o,u,h,p=r(n,e),g=l.copy();if(Et(new $t(d,"beforestart",o,e,f,p[0],p[1],0,0,g),function(){return null!=(t.event.subject=o=s.apply(i,a))&&(u=o.x-p[0]||0,h=o.y-p[1]||0,!0)}))return function t(s){var l,y=p;switch(s){case"start":c[e]=t,l=f++;break;case"end":delete c[e],--f;case"drag":p=r(n,e),l=f}Et(new $t(d,s,o,e,l,p[0]+u,p[1]+h,p[0]-y[0],p[1]-y[1],g),g.apply,g,[s,i,a])}}return d.filter=function(t){return arguments.length?(a="function"==typeof t?t:qt(!!t),d):a},d.container=function(t){return arguments.length?(o="function"==typeof t?t:qt(t),d):o},d.subject=function(t){return arguments.length?(s="function"==typeof t?t:qt(t),d):s},d.touchable=function(t){return arguments.length?(u="function"==typeof t?t:qt(!!t),d):u},d.on=function(){var t=l.on.apply(l,arguments);return t===l?d:t},d.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,d):Math.sqrt(h)},d},t.dragDisable=Ut,t.dragEnable=Ft,t.dsvFormat=Ta,t.csvParse=Ca,t.csvParseRows=Sa,t.csvFormat=Na,t.csvFormatBody=Ra,t.csvFormatRows=Pa,t.tsvParse=Oa,t.tsvParseRows=La,t.tsvFormat=Da,t.tsvFormatBody=Ia,t.tsvFormatRows=ja,t.autoType=function(t){for(var e in t){var n,r=t[e].trim();if(r)if("true"===r)r=!0;else if("false"===r)r=!1;else if("NaN"===r)r=NaN;else if(isNaN(n=+r)){if(!/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/.test(r))continue;r=new Date(r)}else r=n;else r=null;t[e]=r}return t},t.easeLinear=function(t){return+t},t.easeQuad=Pr,t.easeQuadIn=function(t){return t*t},t.easeQuadOut=function(t){return t*(2-t)},t.easeQuadInOut=Pr,t.easeCubic=zr,t.easeCubicIn=function(t){return t*t*t},t.easeCubicOut=function(t){return--t*t*t+1},t.easeCubicInOut=zr,t.easePoly=Dr,t.easePolyIn=Or,t.easePolyOut=Lr,t.easePolyInOut=Dr,t.easeSin=Yr,t.easeSinIn=function(t){return 1-Math.cos(t*jr)},t.easeSinOut=function(t){return Math.sin(t*jr)},t.easeSinInOut=Yr,t.easeExp=Br,t.easeExpIn=function(t){return Math.pow(2,10*t-10)},t.easeExpOut=function(t){return 1-Math.pow(2,-10*t)},t.easeExpInOut=Br,t.easeCircle=Hr,t.easeCircleIn=function(t){return 1-Math.sqrt(1-t*t)},t.easeCircleOut=function(t){return Math.sqrt(1- --t*t)},t.easeCircleInOut=Hr,t.easeBounce=Zr,t.easeBounceIn=function(t){return 1-Zr(1-t)},t.easeBounceOut=Zr,t.easeBounceInOut=function(t){return((t*=2)<=1?1-Zr(1-t):Zr(t-1)+1)/2},t.easeBack=ei,t.easeBackIn=Qr,t.easeBackOut=ti,t.easeBackInOut=ei,t.easeElastic=ii,t.easeElasticIn=ri,t.easeElasticOut=ii,t.easeElasticInOut=ai,t.blob=function(t,e){return fetch(t,e).then(Ya)},t.buffer=function(t,e){return fetch(t,e).then(Ba)},t.dsv=function(t,e,n,r){3===arguments.length&&"function"==typeof n&&(r=n,n=void 0);var i=Ta(t);return Ua(e,n).then(function(t){return i.parse(t,r)})},t.csv=qa,t.tsv=$a,t.image=function(t,e){return new Promise(function(n,r){var i=new Image;for(var a in e)i[a]=e[a];i.onerror=r,i.onload=function(){n(i)},i.src=t})},t.json=function(t,e){return fetch(t,e).then(Wa)},t.text=Ua,t.xml=Va,t.html=Xa,t.svg=Ja,t.forceCenter=function(t,e){var n;function r(){var r,i,a=n.length,o=0,s=0;for(r=0;r<a;++r)o+=(i=n[r]).x,s+=i.y;for(o=o/a-t,s=s/a-e,r=0;r<a;++r)(i=n[r]).x-=o,i.y-=s}return null==t&&(t=0),null==e&&(e=0),r.initialize=function(t){n=t},r.x=function(e){return arguments.length?(t=+e,r):t},r.y=function(t){return arguments.length?(e=+t,r):e},r},t.forceCollide=function(t){var e,n,r=1,i=1;function a(){for(var t,a,s,u,c,l,f,h=e.length,d=0;d<i;++d)for(a=ro(e,so,uo).visitAfter(o),t=0;t<h;++t)s=e[t],l=n[s.index],f=l*l,u=s.x+s.vx,c=s.y+s.vy,a.visit(p);function p(t,e,n,i,a){var o=t.data,h=t.r,d=l+h;if(!o)return e>u+d||i<u-d||n>c+d||a<c-d;if(o.index>s.index){var p=u-o.x-o.vx,g=c-o.y-o.vy,y=p*p+g*g;y<d*d&&(0===p&&(y+=(p=Za())*p),0===g&&(y+=(g=Za())*g),y=(d-(y=Math.sqrt(y)))/y*r,s.vx+=(p*=y)*(d=(h*=h)/(f+h)),s.vy+=(g*=y)*d,o.vx-=p*(d=1-d),o.vy-=g*d)}}}function o(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function s(){if(e){var r,i,a=e.length;for(n=new Array(a),r=0;r<a;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!=typeof t&&(t=Ka(null==t?1:+t)),a.initialize=function(t){e=t,s()},a.iterations=function(t){return arguments.length?(i=+t,a):i},a.strength=function(t){return arguments.length?(r=+t,a):r},a.radius=function(e){return arguments.length?(t="function"==typeof e?e:Ka(+e),s(),a):t},a},t.forceLink=function(t){var e,n,r,i,a,o=co,s=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},u=Ka(30),c=1;function l(r){for(var i=0,o=t.length;i<c;++i)for(var s,u,l,f,h,d,p,g=0;g<o;++g)u=(s=t[g]).source,f=(l=s.target).x+l.vx-u.x-u.vx||Za(),h=l.y+l.vy-u.y-u.vy||Za(),f*=d=((d=Math.sqrt(f*f+h*h))-n[g])/d*r*e[g],h*=d,l.vx-=f*(p=a[g]),l.vy-=h*p,u.vx+=f*(p=1-p),u.vy+=h*p}function f(){if(r){var s,u,c=r.length,l=t.length,f=Ji(r,o);for(s=0,i=new Array(c);s<l;++s)(u=t[s]).index=s,"object"!=typeof u.source&&(u.source=lo(f,u.source)),"object"!=typeof u.target&&(u.target=lo(f,u.target)),i[u.source.index]=(i[u.source.index]||0)+1,i[u.target.index]=(i[u.target.index]||0)+1;for(s=0,a=new Array(l);s<l;++s)u=t[s],a[s]=i[u.source.index]/(i[u.source.index]+i[u.target.index]);e=new Array(l),h(),n=new Array(l),d()}}function h(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+s(t[n],n,t)}function d(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+u(t[e],e,t)}return null==t&&(t=[]),l.initialize=function(t){r=t,f()},l.links=function(e){return arguments.length?(t=e,f(),l):t},l.id=function(t){return arguments.length?(o=t,l):o},l.iterations=function(t){return arguments.length?(c=+t,l):c},l.strength=function(t){return arguments.length?(s="function"==typeof t?t:Ka(+t),h(),l):s},l.distance=function(t){return arguments.length?(u="function"==typeof t?t:Ka(+t),d(),l):u},l},t.forceManyBody=function(){var t,e,n,r,i=Ka(-30),a=1,o=1/0,s=.81;function u(r){var i,a=t.length,o=ro(t,fo,ho).visitAfter(l);for(n=r,i=0;i<a;++i)e=t[i],o.visit(f)}function c(){if(t){var e,n,a=t.length;for(r=new Array(a),e=0;e<a;++e)n=t[e],r[n.index]=+i(n,e,t)}}function l(t){var e,n,i,a,o,s=0,u=0;if(t.length){for(i=a=o=0;o<4;++o)(e=t[o])&&(n=Math.abs(e.value))&&(s+=e.value,u+=n,i+=n*e.x,a+=n*e.y);t.x=i/u,t.y=a/u}else{(e=t).x=e.data.x,e.y=e.data.y;do{s+=r[e.data.index]}while(e=e.next)}t.value=s}function f(t,i,u,c){if(!t.value)return!0;var l=t.x-e.x,f=t.y-e.y,h=c-i,d=l*l+f*f;if(h*h/s<d)return d<o&&(0===l&&(d+=(l=Za())*l),0===f&&(d+=(f=Za())*f),d<a&&(d=Math.sqrt(a*d)),e.vx+=l*t.value*n/d,e.vy+=f*t.value*n/d),!0;if(!(t.length||d>=o)){(t.data!==e||t.next)&&(0===l&&(d+=(l=Za())*l),0===f&&(d+=(f=Za())*f),d<a&&(d=Math.sqrt(a*d)));do{t.data!==e&&(h=r[t.data.index]*n/d,e.vx+=l*h,e.vy+=f*h)}while(t=t.next)}}return u.initialize=function(e){t=e,c()},u.strength=function(t){return arguments.length?(i="function"==typeof t?t:Ka(+t),c(),u):i},u.distanceMin=function(t){return arguments.length?(a=t*t,u):Math.sqrt(a)},u.distanceMax=function(t){return arguments.length?(o=t*t,u):Math.sqrt(o)},u.theta=function(t){return arguments.length?(s=t*t,u):Math.sqrt(s)},u},t.forceRadial=function(t,e,n){var r,i,a,o=Ka(.1);function s(t){for(var o=0,s=r.length;o<s;++o){var u=r[o],c=u.x-e||1e-6,l=u.y-n||1e-6,f=Math.sqrt(c*c+l*l),h=(a[o]-f)*i[o]*t/f;u.vx+=c*h,u.vy+=l*h}}function u(){if(r){var e,n=r.length;for(i=new Array(n),a=new Array(n),e=0;e<n;++e)a[e]=+t(r[e],e,r),i[e]=isNaN(a[e])?0:+o(r[e],e,r)}}return"function"!=typeof t&&(t=Ka(+t)),null==e&&(e=0),null==n&&(n=0),s.initialize=function(t){r=t,u()},s.strength=function(t){return arguments.length?(o="function"==typeof t?t:Ka(+t),u(),s):o},s.radius=function(e){return arguments.length?(t="function"==typeof e?e:Ka(+e),u(),s):t},s.x=function(t){return arguments.length?(e=+t,s):e},s.y=function(t){return arguments.length?(n=+t,s):n},s},t.forceSimulation=function(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,s=Ji(),u=rr(l),c=U("tick","end");function l(){f(),c.call("tick",e),n<r&&(u.stop(),c.call("end",e))}function f(r){var u,c,l=t.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(a-n)*i,s.each(function(t){t(n)}),u=0;u<l;++u)null==(c=t[u]).fx?c.x+=c.vx*=o:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=o:(c.y=c.fy,c.vy=0);return e}function h(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=po*Math.sqrt(n),a=n*go;e.x=i*Math.cos(a),e.y=i*Math.sin(a)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function d(e){return e.initialize&&e.initialize(t),e}return null==t&&(t=[]),h(),e={tick:f,restart:function(){return u.restart(l),e},stop:function(){return u.stop(),e},nodes:function(n){return arguments.length?(t=n,h(),s.each(d),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(a=+t,e):a},velocityDecay:function(t){return arguments.length?(o=1-t,e):1-o},force:function(t,n){return arguments.length>1?(null==n?s.remove(t):s.set(t,d(n)),e):s.get(t)},find:function(e,n,r){var i,a,o,s,u,c=0,l=t.length;for(null==r?r=1/0:r*=r,c=0;c<l;++c)(o=(i=e-(s=t[c]).x)*i+(a=n-s.y)*a)<r&&(u=s,r=o);return u},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}},t.forceX=function(t){var e,n,r,i=Ka(.1);function a(t){for(var i,a=0,o=e.length;a<o;++a)(i=e[a]).vx+=(r[a]-i.x)*n[a]*t}function o(){if(e){var a,o=e.length;for(n=new Array(o),r=new Array(o),a=0;a<o;++a)n[a]=isNaN(r[a]=+t(e[a],a,e))?0:+i(e[a],a,e)}}return"function"!=typeof t&&(t=Ka(null==t?0:+t)),a.initialize=function(t){e=t,o()},a.strength=function(t){return arguments.length?(i="function"==typeof t?t:Ka(+t),o(),a):i},a.x=function(e){return arguments.length?(t="function"==typeof e?e:Ka(+e),o(),a):t},a},t.forceY=function(t){var e,n,r,i=Ka(.1);function a(t){for(var i,a=0,o=e.length;a<o;++a)(i=e[a]).vy+=(r[a]-i.y)*n[a]*t}function o(){if(e){var a,o=e.length;for(n=new Array(o),r=new Array(o),a=0;a<o;++a)n[a]=isNaN(r[a]=+t(e[a],a,e))?0:+i(e[a],a,e)}}return"function"!=typeof t&&(t=Ka(null==t?0:+t)),a.initialize=function(t){e=t,o()},a.strength=function(t){return arguments.length?(i="function"==typeof t?t:Ka(+t),o(),a):i},a.y=function(e){return arguments.length?(t="function"==typeof e?e:Ka(+e),o(),a):t},a},t.formatDefaultLocale=Co,t.formatLocale=Eo,t.formatSpecifier=xo,t.precisionFixed=So,t.precisionPrefix=No,t.precisionRound=Ro,t.geoArea=function(t){return ms.reset(),fs(t,bs),2*ms},t.geoBounds=function(t){var e,n,r,i,a,o,s;if(Os=zs=-(Rs=Ps=1/0),Ys=[],fs(t,iu),n=Ys.length){for(Ys.sort(du),e=1,a=[r=Ys[0]];e<n;++e)pu(r,(i=Ys[e])[0])||pu(r,i[1])?(hu(r[0],i[1])>hu(r[0],r[1])&&(r[1]=i[1]),hu(i[0],r[1])>hu(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-1/0,e=0,r=a[n=a.length-1];e<=n;r=i,++e)i=a[e],(s=hu(r[1],i[0]))>o&&(o=s,Rs=i[0],zs=r[1])}return Ys=Bs=null,Rs===1/0||Ps===1/0?[[NaN,NaN],[NaN,NaN]]:[[Rs,Ps],[zs,Os]]},t.geoCentroid=function(t){Hs=Us=Fs=qs=$s=Ws=Gs=Vs=Xs=Js=Ks=0,fs(t,gu);var e=Xs,n=Js,r=Ks,i=e*e+n*n+r*r;return i<Io&&(e=Ws,n=Gs,r=Vs,Us<Do&&(e=Fs,n=qs,r=$s),(i=e*e+n*n+r*r)<Io)?[NaN,NaN]:[Wo(n,e)*Uo,rs(r/ts(i))*Uo]},t.geoCircle=function(){var t,e,n=Tu([0,0]),r=Tu(90),i=Tu(6),a={point:function(n,r){t.push(n=e(n,r)),n[0]*=Uo,n[1]*=Uo}};function o(){var o=n.apply(this,arguments),s=r.apply(this,arguments)*Fo,u=i.apply(this,arguments)*Fo;return t=[],e=Su(-o[0]*Fo,-o[1]*Fo,0).invert,Ou(a,s,u,1),o={type:"Polygon",coordinates:[t]},t=e=null,o}return o.center=function(t){return arguments.length?(n="function"==typeof t?t:Tu([+t[0],+t[1]]),o):n},o.radius=function(t){return arguments.length?(r="function"==typeof t?t:Tu(+t),o):r},o.precision=function(t){return arguments.length?(i="function"==typeof t?t:Tu(+t),o):i},o},t.geoClipAntimeridian=Gu,t.geoClipCircle=Vu,t.geoClipExtent=function(){var t,e,n,r=0,i=0,a=960,o=500;return n={stream:function(n){return t&&e===n?t:t=Ku(r,i,a,o)(e=n)},extent:function(s){return arguments.length?(r=+s[0][0],i=+s[0][1],a=+s[1][0],o=+s[1][1],t=e=null,n):[[r,i],[a,o]]}}},t.geoClipRectangle=Ku,t.geoContains=function(t,e){return(t&&lc.hasOwnProperty(t.type)?lc[t.type]:hc)(t,e)},t.geoDistance=cc,t.geoGraticule=xc,t.geoGraticule10=function(){return xc()()},t.geoInterpolate=function(t,e){var n=t[0]*Fo,r=t[1]*Fo,i=e[0]*Fo,a=e[1]*Fo,o=Go(r),s=Zo(r),u=Go(a),c=Zo(a),l=o*Go(n),f=o*Zo(n),h=u*Go(i),d=u*Zo(i),p=2*rs(ts(is(a-r)+o*u*is(i-n))),g=Zo(p),y=p?function(t){var e=Zo(t*=p)/g,n=Zo(p-t)/g,r=n*l+e*h,i=n*f+e*d,a=n*s+e*c;return[Wo(i,r)*Uo,Wo(a,ts(r*r+i*i))*Uo]}:function(){return[n*Uo,r*Uo]};return y.distance=p,y},t.geoLength=oc,t.geoPath=function(t,e){var n,r,i=4.5;function a(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),fs(t,n(r))),r.result()}return a.area=function(t){return fs(t,n(Cc)),Cc.result()},a.measure=function(t){return fs(t,n(pl)),pl.result()},a.bounds=function(t){return fs(t,n(Hc)),Hc.result()},a.centroid=function(t){return fs(t,n(Kc)),Kc.result()},a.projection=function(e){return arguments.length?(n=null==e?(t=null,_c):(t=e).stream,a):t},a.context=function(t){return arguments.length?(r=null==t?(e=null,new vl):new sl(e=t),"function"!=typeof i&&r.pointRadius(i),a):e},a.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),a):i},a.projection(t).context(e)},t.geoAlbers=Dl,t.geoAlbersUsa=function(){var t,e,n,r,i,a,o=Dl(),s=Ll().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=Ll().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){a=[t,e]}};function l(t){var e=t[0],o=t[1];return a=null,n.point(e,o),a||(r.point(e,o),a)||(i.point(e,o),a)}function f(){return t=e=null,l}return l.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?u:o).invert(t)},l.stream=function(n){return t&&e===n?t:(r=[o.stream(e=n),s.stream(n),u.stream(n)],i=r.length,t={point:function(t,e){for(var n=-1;++n<i;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},l.precision=function(t){return arguments.length?(o.precision(t),s.precision(t),u.precision(t),f()):o.precision()},l.scale=function(t){return arguments.length?(o.scale(t),s.scale(.35*t),u.scale(t),l.translate(o.translate())):o.scale()},l.translate=function(t){if(!arguments.length)return o.translate();var e=o.scale(),a=+t[0],l=+t[1];return n=o.translate(t).clipExtent([[a-.455*e,l-.238*e],[a+.455*e,l+.238*e]]).stream(c),r=s.translate([a-.307*e,l+.201*e]).clipExtent([[a-.425*e+Do,l+.12*e+Do],[a-.214*e-Do,l+.234*e-Do]]).stream(c),i=u.translate([a-.205*e,l+.212*e]).clipExtent([[a-.214*e+Do,l+.166*e+Do],[a-.115*e-Do,l+.234*e-Do]]).stream(c),f()},l.fitExtent=function(t,e){return wl(l,t,e)},l.fitSize=function(t,e){return kl(l,t,e)},l.fitWidth=function(t,e){return Ml(l,t,e)},l.fitHeight=function(t,e){return Al(l,t,e)},l.scale(1070)},t.geoAzimuthalEqualArea=function(){return Rl(Yl).scale(124.75).clipAngle(179.999)},t.geoAzimuthalEqualAreaRaw=Yl,t.geoAzimuthalEquidistant=function(){return Rl(Bl).scale(79.4188).clipAngle(179.999)},t.geoAzimuthalEquidistantRaw=Bl,t.geoConicConformal=function(){return zl(ql).scale(109.5).parallels([30,30])},t.geoConicConformalRaw=ql,t.geoConicEqualArea=Ll,t.geoConicEqualAreaRaw=Ol,t.geoConicEquidistant=function(){return zl(Wl).scale(131.154).center([0,13.9389])},t.geoConicEquidistantRaw=Wl,t.geoEqualEarth=function(){return Rl(Zl).scale(177.158)},t.geoEqualEarthRaw=Zl,t.geoEquirectangular=function(){return Rl($l).scale(152.63)},t.geoEquirectangularRaw=$l,t.geoGnomonic=function(){return Rl(Ql).scale(144.049).clipAngle(60)},t.geoGnomonicRaw=Ql,t.geoIdentity=function(){var t,e,n,r,i,a,o=1,s=0,u=0,c=1,l=1,f=_c,h=null,d=_c;function p(){return r=i=null,a}return a={stream:function(t){return r&&i===t?r:r=f(d(i=t))},postclip:function(r){return arguments.length?(d=r,h=t=e=n=null,p()):d},clipExtent:function(r){return arguments.length?(d=null==r?(h=t=e=n=null,_c):Ku(h=+r[0][0],t=+r[0][1],e=+r[1][0],n=+r[1][1]),p()):null==h?null:[[h,t],[e,n]]},scale:function(t){return arguments.length?(f=tf((o=+t)*c,o*l,s,u),p()):o},translate:function(t){return arguments.length?(f=tf(o*c,o*l,s=+t[0],u=+t[1]),p()):[s,u]},reflectX:function(t){return arguments.length?(f=tf(o*(c=t?-1:1),o*l,s,u),p()):c<0},reflectY:function(t){return arguments.length?(f=tf(o*c,o*(l=t?-1:1),s,u),p()):l<0},fitExtent:function(t,e){return wl(a,t,e)},fitSize:function(t,e){return kl(a,t,e)},fitWidth:function(t,e){return Ml(a,t,e)},fitHeight:function(t,e){return Al(a,t,e)}}},t.geoProjection=Rl,t.geoProjectionMutator=Pl,t.geoMercator=function(){return Ul(Hl).scale(961/Ho)},t.geoMercatorRaw=Hl,t.geoNaturalEarth1=function(){return Rl(ef).scale(175.295)},t.geoNaturalEarth1Raw=ef,t.geoOrthographic=function(){return Rl(nf).scale(249.5).clipAngle(90+Do)},t.geoOrthographicRaw=nf,t.geoStereographic=function(){return Rl(rf).scale(250).clipAngle(142)},t.geoStereographicRaw=rf,t.geoTransverseMercator=function(){var t=Ul(af),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)},t.geoTransverseMercatorRaw=af,t.geoRotation=zu,t.geoStream=fs,t.geoTransform=function(t){return{stream:bl(t)}},t.cluster=function(){var t=of,e=1,n=1,r=!1;function i(i){var a,o=0;i.eachAfter(function(e){var n=e.children;n?(e.x=function(t){return t.reduce(sf,0)/t.length}(n),e.y=1+n.reduce(uf,0)):(e.x=a?o+=t(e,a):0,e.y=0,a=e)});var s=function(t){for(var e;e=t.children;)t=e[0];return t}(i),u=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(i),c=s.x-t(s,u)/2,l=u.x+t(u,s)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*e,t.y=(i.y-t.y)*n}:function(t){t.x=(t.x-c)/(l-c)*e,t.y=(1-(i.y?t.y/i.y:1))*n})}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i},t.hierarchy=lf,t.pack=function(){var t=null,e=1,n=1,r=Nf;function i(i){return i.x=e/2,i.y=n/2,t?i.eachBefore(zf(t)).eachAfter(Of(r,.5)).eachBefore(Lf(1)):i.eachBefore(zf(Pf)).eachAfter(Of(Nf,1)).eachAfter(Of(r,i.r/Math.min(e,n))).eachBefore(Lf(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=null==(n=e)?null:Sf(n),i):t;var n},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:Rf(+t),i):r},i},t.packSiblings=function(t){return Cf(t),t},t.packEnclose=yf,t.partition=function(){var t=1,e=1,n=0,r=!1;function i(i){var a=i.height+1;return i.x0=i.y0=n,i.x1=t,i.y1=e/a,i.eachBefore(function(t,e){return function(r){r.children&&If(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var i=r.x0,a=r.y0,o=r.x1-n,s=r.y1-n;o<i&&(i=o=(i+o)/2),s<a&&(a=s=(a+s)/2),r.x0=i,r.y0=a,r.x1=o,r.y1=s}}(e,a)),r&&i.eachBefore(Df),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]},i.padding=function(t){return arguments.length?(n=+t,i):n},i},t.stratify=function(){var t=Hf,e=Uf;function n(n){var r,i,a,o,s,u,c,l=n.length,f=new Array(l),h={};for(i=0;i<l;++i)r=n[i],s=f[i]=new pf(r),null!=(u=t(r,i,n))&&(u+="")&&(h[c=jf+(s.id=u)]=c in h?Bf:s);for(i=0;i<l;++i)if(s=f[i],null!=(u=e(n[i],i,n))&&(u+="")){if(!(o=h[jf+u]))throw new Error("missing: "+u);if(o===Bf)throw new Error("ambiguous: "+u);o.children?o.children.push(s):o.children=[s],s.parent=o}else{if(a)throw new Error("multiple roots");a=s}if(!a)throw new Error("no root");if(a.parent=Yf,a.eachBefore(function(t){t.depth=t.parent.depth+1,--l}).eachBefore(df),a.parent=null,l>0)throw new Error("cycle");return a}return n.id=function(e){return arguments.length?(t=Sf(e),n):t},n.parentId=function(t){return arguments.length?(e=Sf(t),n):e},n},t.tree=function(){var t=Ff,e=1,n=1,r=null;function i(i){var u=function(t){for(var e,n,r,i,a,o=new Vf(t,0),s=[o];e=s.pop();)if(r=e._.children)for(e.children=new Array(a=r.length),i=a-1;i>=0;--i)s.push(n=e.children[i]=new Vf(r[i],i)),n.parent=e;return(o.parent=new Vf(null,0)).children=[o],o}(i);if(u.eachAfter(a),u.parent.m=-u.z,u.eachBefore(o),r)i.eachBefore(s);else{var c=i,l=i,f=i;i.eachBefore(function(t){t.x<c.x&&(c=t),t.x>l.x&&(l=t),t.depth>f.depth&&(f=t)});var h=c===l?1:t(c,l)/2,d=h-c.x,p=e/(l.x+h+d),g=n/(f.depth||1);i.eachBefore(function(t){t.x=(t.x+d)*p,t.y=t.depth*g})}return i}function a(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,i=t.children,a=i.length;--a>=0;)(e=i[a]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var a=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-a):e.z=a}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,a=e,o=e,s=n,u=a.parent.children[0],c=a.m,l=o.m,f=s.m,h=u.m;s=$f(s),a=qf(a),s&&a;)u=qf(u),(o=$f(o)).a=e,(i=s.z+f-a.z-c+t(s._,a._))>0&&(Wf(Gf(s,e,r),e,i),c+=i,l+=i),f+=s.m,c+=a.m,h+=u.m,l+=o.m;s&&!$f(o)&&(o.t=s,o.m+=f-l),a&&!qf(u)&&(u.t=a,u.m+=c-h,r=e)}return r}(e,i,e.parent.A||r[0])}function o(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function s(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i},t.treemap=function(){var t=Zf,e=!1,n=1,r=1,i=[0],a=Nf,o=Nf,s=Nf,u=Nf,c=Nf;function l(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(f),i=[0],e&&t.eachBefore(Df),t}function f(e){var n=i[e.depth],r=e.x0+n,l=e.y0+n,f=e.x1-n,h=e.y1-n;f<r&&(r=f=(r+f)/2),h<l&&(l=h=(l+h)/2),e.x0=r,e.y0=l,e.x1=f,e.y1=h,e.children&&(n=i[e.depth+1]=a(e)/2,r+=c(e)-n,l+=o(e)-n,(f-=s(e)-n)<r&&(r=f=(r+f)/2),(h-=u(e)-n)<l&&(l=h=(l+h)/2),t(e,r,l,f,h))}return l.round=function(t){return arguments.length?(e=!!t,l):e},l.size=function(t){return arguments.length?(n=+t[0],r=+t[1],l):[n,r]},l.tile=function(e){return arguments.length?(t=Sf(e),l):t},l.padding=function(t){return arguments.length?l.paddingInner(t).paddingOuter(t):l.paddingInner()},l.paddingInner=function(t){return arguments.length?(a="function"==typeof t?t:Rf(+t),l):a},l.paddingOuter=function(t){return arguments.length?l.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):l.paddingTop()},l.paddingTop=function(t){return arguments.length?(o="function"==typeof t?t:Rf(+t),l):o},l.paddingRight=function(t){return arguments.length?(s="function"==typeof t?t:Rf(+t),l):s},l.paddingBottom=function(t){return arguments.length?(u="function"==typeof t?t:Rf(+t),l):u},l.paddingLeft=function(t){return arguments.length?(c="function"==typeof t?t:Rf(+t),l):c},l},t.treemapBinary=function(t,e,n,r,i){var a,o,s=t.children,u=s.length,c=new Array(u+1);for(c[0]=o=a=0;a<u;++a)c[a+1]=o+=s[a].value;!function t(e,n,r,i,a,o,u){if(e>=n-1){var l=s[e];return l.x0=i,l.y0=a,l.x1=o,void(l.y1=u)}for(var f=c[e],h=r/2+f,d=e+1,p=n-1;d<p;){var g=d+p>>>1;c[g]<h?d=g+1:p=g}h-c[d-1]<c[d]-h&&e+1<d&&--d;var y=c[d]-f,v=r-y;if(o-i>u-a){var m=(i*v+o*y)/r;t(e,d,y,i,a,m,u),t(d,n,v,m,a,o,u)}else{var b=(a*v+u*y)/r;t(e,d,y,i,a,o,b),t(d,n,v,i,b,o,u)}}(0,u,t.value,e,n,r,i)},t.treemapDice=If,t.treemapSlice=Xf,t.treemapSliceDice=function(t,e,n,r,i){(1&t.depth?Xf:If)(t,e,n,r,i)},t.treemapSquarify=Zf,t.treemapResquarify=Qf,t.interpolate=yn,t.interpolateArray=cn,t.interpolateBasis=Ze,t.interpolateBasisClosed=Qe,t.interpolateDate=ln,t.interpolateDiscrete=function(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}},t.interpolateHue=function(t,e){var n=nn(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}},t.interpolateNumber=fn,t.interpolateObject=hn,t.interpolateRound=vn,t.interpolateString=gn,t.interpolateTransformCss=Tn,t.interpolateTransformSvg=En,t.interpolateZoom=zn,t.interpolateRgb=an,t.interpolateRgbBasis=sn,t.interpolateRgbBasisClosed=un,t.interpolateHsl=Ln,t.interpolateHslLong=Dn,t.interpolateLab=function(t,e){var n=rn((t=Pe(t)).l,(e=Pe(e)).l),r=rn(t.a,e.a),i=rn(t.b,e.b),a=rn(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=a(e),t+""}},t.interpolateHcl=jn,t.interpolateHclLong=Yn,t.interpolateCubehelix=Fn,t.interpolateCubehelixLong=qn,t.piecewise=function(t,e){for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return a[e](t-e)}},t.quantize=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n},t.path=Fi,t.polygonArea=function(t){for(var e,n=-1,r=t.length,i=t[r-1],a=0;++n<r;)e=i,i=t[n],a+=e[1]*i[0]-e[0]*i[1];return a/2},t.polygonCentroid=function(t){for(var e,n,r=-1,i=t.length,a=0,o=0,s=t[i-1],u=0;++r<i;)e=s,s=t[r],u+=n=e[0]*s[1]-s[0]*e[1],a+=(e[0]+s[0])*n,o+=(e[1]+s[1])*n;return[a/(u*=3),o/u]},t.polygonHull=function(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(th),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var a=eh(r),o=eh(i),s=o[0]===a[0],u=o[o.length-1]===a[a.length-1],c=[];for(e=a.length-1;e>=0;--e)c.push(t[r[a[e]][2]]);for(e=+s;e<o.length-u;++e)c.push(t[r[o[e]][2]]);return c},t.polygonContains=function(t,e){for(var n,r,i=t.length,a=t[i-1],o=e[0],s=e[1],u=a[0],c=a[1],l=!1,f=0;f<i;++f)n=(a=t[f])[0],(r=a[1])>s!=c>s&&o<(u-n)*(s-r)/(c-r)+n&&(l=!l),u=n,c=r;return l},t.polygonLength=function(t){for(var e,n,r=-1,i=t.length,a=t[i-1],o=a[0],s=a[1],u=0;++r<i;)e=o,n=s,e-=o=(a=t[r])[0],n-=s=a[1],u+=Math.sqrt(e*e+n*n);return u},t.quadtree=ro,t.randomUniform=rh,t.randomNormal=ih,t.randomLogNormal=ah,t.randomBates=sh,t.randomIrwinHall=oh,t.randomExponential=uh,t.scaleBand=yh,t.scalePoint=function(){return function t(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t(n())},e}(yh.apply(null,arguments).paddingInner(1))},t.scaleIdentity=function t(e){var n;function r(t){return isNaN(t=+t)?n:t}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(e=hh.call(t,vh),r):e.slice()},r.unknown=function(t){return arguments.length?(n=t,r):n},r.copy=function(){return t(e).unknown(n)},e=arguments.length?hh.call(e,vh):[0,1],Ch(r)},t.scaleLinear=function t(){var e=Th(bh,bh);return e.copy=function(){return Mh(e,t())},ch.apply(e,arguments),Ch(e)},t.scaleLog=function t(){var e=Dh(Ah()).domain([1,10]);return e.copy=function(){return Mh(e,t()).base(e.base())},ch.apply(e,arguments),e},t.scaleSymlog=function t(){var e=Yh(Ah());return e.copy=function(){return Mh(e,t()).constant(e.constant())},ch.apply(e,arguments)},t.scaleOrdinal=gh,t.scaleImplicit=ph,t.scalePow=qh,t.scaleSqrt=function(){return qh.apply(null,arguments).exponent(.5)},t.scaleQuantile=function t(){var n,r=[],a=[],o=[];function s(){var t=0,e=Math.max(1,a.length);for(o=new Array(e-1);++t<e;)o[t-1]=M(r,t/e);return u}function u(t){return isNaN(t=+t)?n:a[i(o,t)]}return u.invertExtent=function(t){var e=a.indexOf(t);return e<0?[NaN,NaN]:[e>0?o[e-1]:r[0],e<o.length?o[e]:r[r.length-1]]},u.domain=function(t){if(!arguments.length)return r.slice();r=[];for(var n,i=0,a=t.length;i<a;++i)null==(n=t[i])||isNaN(n=+n)||r.push(n);return r.sort(e),s()},u.range=function(t){return arguments.length?(a=dh.call(t),s()):a.slice()},u.unknown=function(t){return arguments.length?(n=t,u):n},u.quantiles=function(){return o.slice()},u.copy=function(){return t().domain(r).range(a).unknown(n)},ch.apply(u,arguments)},t.scaleQuantize=function t(){var e,n=0,r=1,a=1,o=[.5],s=[0,1];function u(t){return t<=t?s[i(o,t,0,a)]:e}function c(){var t=-1;for(o=new Array(a);++t<a;)o[t]=((t+1)*r-(t-a)*n)/(a+1);return u}return u.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],c()):[n,r]},u.range=function(t){return arguments.length?(a=(s=dh.call(t)).length-1,c()):s.slice()},u.invertExtent=function(t){var e=s.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,o[0]]:e>=a?[o[a-1],r]:[o[e-1],o[e]]},u.unknown=function(t){return arguments.length?(e=t,u):u},u.thresholds=function(){return o.slice()},u.copy=function(){return t().domain([n,r]).range(s).unknown(e)},ch.apply(Ch(u),arguments)},t.scaleThreshold=function t(){var e,n=[.5],r=[0,1],a=1;function o(t){return t<=t?r[i(n,t,0,a)]:e}return o.domain=function(t){return arguments.length?(n=dh.call(t),a=Math.min(n.length,r.length-1),o):n.slice()},o.range=function(t){return arguments.length?(r=dh.call(t),a=Math.min(n.length,r.length-1),o):r.slice()},o.invertExtent=function(t){var e=r.indexOf(t);return[n[e-1],n[e]]},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return t().domain(n).range(r).unknown(e)},ch.apply(o,arguments)},t.scaleTime=function(){return ch.apply(kg(kd,_d,sd,id,nd,td,Zh,Vh,t.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},t.scaleUtc=function(){return ch.apply(kg(Vd,Wd,Pd,Sd,Ed,Ad,Zh,Vh,t.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},t.scaleSequential=function t(){var e=Ch(Mg()(bh));return e.copy=function(){return Ag(e,t())},lh.apply(e,arguments)},t.scaleSequentialLog=function t(){var e=Dh(Mg()).domain([1,10]);return e.copy=function(){return Ag(e,t()).base(e.base())},lh.apply(e,arguments)},t.scaleSequentialPow=Tg,t.scaleSequentialSqrt=function(){return Tg.apply(null,arguments).exponent(.5)},t.scaleSequentialSymlog=function t(){var e=Yh(Mg());return e.copy=function(){return Ag(e,t()).constant(e.constant())},lh.apply(e,arguments)},t.scaleSequentialQuantile=function t(){var n=[],r=bh;function a(t){if(!isNaN(t=+t))return r((i(n,t)-1)/(n.length-1))}return a.domain=function(t){if(!arguments.length)return n.slice();n=[];for(var r,i=0,o=t.length;i<o;++i)null==(r=t[i])||isNaN(r=+r)||n.push(r);return n.sort(e),a},a.interpolator=function(t){return arguments.length?(r=t,a):r},a.copy=function(){return t(r).domain(n)},lh.apply(a,arguments)},t.scaleDiverging=function t(){var e=Ch(Eg()(bh));return e.copy=function(){return Ag(e,t())},lh.apply(e,arguments)},t.scaleDivergingLog=function t(){var e=Dh(Eg()).domain([.1,1,10]);return e.copy=function(){return Ag(e,t()).base(e.base())},lh.apply(e,arguments)},t.scaleDivergingPow=Cg,t.scaleDivergingSqrt=function(){return Cg.apply(null,arguments).exponent(.5)},t.scaleDivergingSymlog=function t(){var e=Yh(Eg());return e.copy=function(){return Ag(e,t()).constant(e.constant())},lh.apply(e,arguments)},t.tickFormat=Eh,t.schemeCategory10=Ng,t.schemeAccent=Rg,t.schemeDark2=Pg,t.schemePaired=zg,t.schemePastel1=Og,t.schemePastel2=Lg,t.schemeSet1=Dg,t.schemeSet2=Ig,t.schemeSet3=jg,t.interpolateBrBG=Hg,t.schemeBrBG=Bg,t.interpolatePRGn=Fg,t.schemePRGn=Ug,t.interpolatePiYG=$g,t.schemePiYG=qg,t.interpolatePuOr=Gg,t.schemePuOr=Wg,t.interpolateRdBu=Xg,t.schemeRdBu=Vg,t.interpolateRdGy=Kg,t.schemeRdGy=Jg,t.interpolateRdYlBu=Qg,t.schemeRdYlBu=Zg,t.interpolateRdYlGn=ey,t.schemeRdYlGn=ty,t.interpolateSpectral=ry,t.schemeSpectral=ny,t.interpolateBuGn=ay,t.schemeBuGn=iy,t.interpolateBuPu=sy,t.schemeBuPu=oy,t.interpolateGnBu=cy,t.schemeGnBu=uy,t.interpolateOrRd=fy,t.schemeOrRd=ly,t.interpolatePuBuGn=dy,t.schemePuBuGn=hy,t.interpolatePuBu=gy,t.schemePuBu=py,t.interpolatePuRd=vy,t.schemePuRd=yy,t.interpolateRdPu=by,t.schemeRdPu=my,t.interpolateYlGnBu=_y,t.schemeYlGnBu=xy,t.interpolateYlGn=ky,t.schemeYlGn=wy,t.interpolateYlOrBr=Ay,t.schemeYlOrBr=My,t.interpolateYlOrRd=Ey,t.schemeYlOrRd=Ty,t.interpolateBlues=Sy,t.schemeBlues=Cy,t.interpolateGreens=Ry,t.schemeGreens=Ny,t.interpolateGreys=zy,t.schemeGreys=Py,t.interpolatePurples=Ly,t.schemePurples=Oy,t.interpolateReds=Iy,t.schemeReds=Dy,t.interpolateOranges=Yy,t.schemeOranges=jy,t.interpolateCubehelixDefault=By,t.interpolateRainbow=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Fy.h=360*t-100,Fy.s=1.5-1.5*e,Fy.l=.8-.9*e,Fy+""},t.interpolateWarm=Hy,t.interpolateCool=Uy,t.interpolateSinebow=function(t){var e;return t=(.5-t)*Math.PI,qy.r=255*(e=Math.sin(t))*e,qy.g=255*(e=Math.sin(t+$y))*e,qy.b=255*(e=Math.sin(t+Wy))*e,qy+""},t.interpolateViridis=Vy,t.interpolateMagma=Xy,t.interpolateInferno=Jy,t.interpolatePlasma=Ky,t.create=function(t){return Pt(X(t).call(document.documentElement))},t.creator=X,t.local=Ot,t.matcher=tt,t.mouse=jt,t.namespace=V,t.namespaces=G,t.clientPoint=It,t.select=Pt,t.selectAll=function(t){return"string"==typeof t?new Nt([document.querySelectorAll(t)],[document.documentElement]):new Nt([null==t?[]:t],St)},t.selection=Rt,t.selector=K,t.selectorAll=Q,t.style=ut,t.touch=Yt,t.touches=function(t,e){null==e&&(e=Dt().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=It(t,e[n]);return i},t.window=st,t.customEvent=Et,t.arc=function(){var t=fv,e=hv,n=Zy(0),r=null,i=dv,a=pv,o=gv,s=null;function u(){var u,c,l,f=+t.apply(this,arguments),h=+e.apply(this,arguments),d=i.apply(this,arguments)-uv,p=a.apply(this,arguments)-uv,g=Qy(p-d),y=p>d;if(s||(s=u=Fi()),h<f&&(c=h,h=f,f=c),h>ov)if(g>cv-ov)s.moveTo(h*ev(d),h*iv(d)),s.arc(0,0,h,d,p,!y),f>ov&&(s.moveTo(f*ev(p),f*iv(p)),s.arc(0,0,f,p,d,y));else{var v,m,b=d,x=p,_=d,w=p,k=g,M=g,A=o.apply(this,arguments)/2,T=A>ov&&(r?+r.apply(this,arguments):av(f*f+h*h)),E=rv(Qy(h-f)/2,+n.apply(this,arguments)),C=E,S=E;if(T>ov){var N=lv(T/f*iv(A)),R=lv(T/h*iv(A));(k-=2*N)>ov?(_+=N*=y?1:-1,w-=N):(k=0,_=w=(d+p)/2),(M-=2*R)>ov?(b+=R*=y?1:-1,x-=R):(M=0,b=x=(d+p)/2)}var P=h*ev(b),z=h*iv(b),O=f*ev(w),L=f*iv(w);if(E>ov){var D,I=h*ev(x),j=h*iv(x),Y=f*ev(_),B=f*iv(_);if(g<sv&&(D=function(t,e,n,r,i,a,o,s){var u=Y-P,c=B-z,l=O-I,f=L-j,h=f*u-l*c;if(!(h*h<ov))return[P+(h=(l*(z-j)-f*(P-I))/h)*u,z+h*c]}())){var H=P-D[0],U=z-D[1],F=I-D[0],q=j-D[1],$=1/iv(((l=(H*F+U*q)/(av(H*H+U*U)*av(F*F+q*q)))>1?0:l<-1?sv:Math.acos(l))/2),W=av(D[0]*D[0]+D[1]*D[1]);C=rv(E,(f-W)/($-1)),S=rv(E,(h-W)/($+1))}}M>ov?S>ov?(v=yv(Y,B,P,z,h,S,y),m=yv(I,j,O,L,h,S,y),s.moveTo(v.cx+v.x01,v.cy+v.y01),S<E?s.arc(v.cx,v.cy,S,tv(v.y01,v.x01),tv(m.y01,m.x01),!y):(s.arc(v.cx,v.cy,S,tv(v.y01,v.x01),tv(v.y11,v.x11),!y),s.arc(0,0,h,tv(v.cy+v.y11,v.cx+v.x11),tv(m.cy+m.y11,m.cx+m.x11),!y),s.arc(m.cx,m.cy,S,tv(m.y11,m.x11),tv(m.y01,m.x01),!y))):(s.moveTo(P,z),s.arc(0,0,h,b,x,!y)):s.moveTo(P,z),f>ov&&k>ov?C>ov?(v=yv(O,L,I,j,f,-C,y),m=yv(P,z,Y,B,f,-C,y),s.lineTo(v.cx+v.x01,v.cy+v.y01),C<E?s.arc(v.cx,v.cy,C,tv(v.y01,v.x01),tv(m.y01,m.x01),!y):(s.arc(v.cx,v.cy,C,tv(v.y01,v.x01),tv(v.y11,v.x11),!y),s.arc(0,0,f,tv(v.cy+v.y11,v.cx+v.x11),tv(m.cy+m.y11,m.cx+m.x11),y),s.arc(m.cx,m.cy,C,tv(m.y11,m.x11),tv(m.y01,m.x01),!y))):s.arc(0,0,f,w,_,y):s.lineTo(O,L)}else s.moveTo(0,0);if(s.closePath(),u)return s=null,u+""||null}return u.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-sv/2;return[ev(r)*n,iv(r)*n]},u.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:Zy(+e),u):t},u.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:Zy(+t),u):e},u.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:Zy(+t),u):n},u.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Zy(+t),u):r},u.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:Zy(+t),u):i},u.endAngle=function(t){return arguments.length?(a="function"==typeof t?t:Zy(+t),u):a},u.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:Zy(+t),u):o},u.context=function(t){return arguments.length?(s=null==t?null:t,u):s},u},t.area=wv,t.line=_v,t.pie=function(){var t=Mv,e=kv,n=null,r=Zy(0),i=Zy(cv),a=Zy(0);function o(o){var s,u,c,l,f,h=o.length,d=0,p=new Array(h),g=new Array(h),y=+r.apply(this,arguments),v=Math.min(cv,Math.max(-cv,i.apply(this,arguments)-y)),m=Math.min(Math.abs(v)/h,a.apply(this,arguments)),b=m*(v<0?-1:1);for(s=0;s<h;++s)(f=g[p[s]=s]=+t(o[s],s,o))>0&&(d+=f);for(null!=e?p.sort(function(t,n){return e(g[t],g[n])}):null!=n&&p.sort(function(t,e){return n(o[t],o[e])}),s=0,c=d?(v-h*b)/d:0;s<h;++s,y=l)u=p[s],l=y+((f=g[u])>0?f*c:0)+b,g[u]={data:o[u],index:s,value:f,startAngle:y,endAngle:l,padAngle:m};return g}return o.value=function(e){return arguments.length?(t="function"==typeof e?e:Zy(+e),o):t},o.sortValues=function(t){return arguments.length?(e=t,n=null,o):e},o.sort=function(t){return arguments.length?(n=t,e=null,o):n},o.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:Zy(+t),o):r},o.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:Zy(+t),o):i},o.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:Zy(+t),o):a},o},t.areaRadial=Nv,t.radialArea=Nv,t.lineRadial=Sv,t.radialLine=Sv,t.pointRadial=Rv,t.linkHorizontal=function(){return Lv(Dv)},t.linkVertical=function(){return Lv(Iv)},t.linkRadial=function(){var t=Lv(jv);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},t.symbol=function(){var t=Zy(Yv),e=Zy(64),n=null;function r(){var r;if(n||(n=r=Fi()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),r)return n=null,r+""||null}return r.type=function(e){return arguments.length?(t="function"==typeof e?e:Zy(e),r):t},r.size=function(t){return arguments.length?(e="function"==typeof t?t:Zy(+t),r):e},r.context=function(t){return arguments.length?(n=null==t?null:t,r):n},r},t.symbols=em,t.symbolCircle=Yv,t.symbolCross=Bv,t.symbolDiamond=Fv,t.symbolSquare=Vv,t.symbolStar=Gv,t.symbolTriangle=Jv,t.symbolWye=tm,t.curveBasisClosed=function(t){return new am(t)},t.curveBasisOpen=function(t){return new om(t)},t.curveBasis=function(t){return new im(t)},t.curveBundle=um,t.curveCardinalClosed=dm,t.curveCardinalOpen=gm,t.curveCardinal=fm,t.curveCatmullRomClosed=xm,t.curveCatmullRomOpen=wm,t.curveCatmullRom=mm,t.curveLinearClosed=function(t){return new km(t)},t.curveLinear=mv,t.curveMonotoneX=function(t){return new Cm(t)},t.curveMonotoneY=function(t){return new Sm(t)},t.curveNatural=function(t){return new Rm(t)},t.curveStep=function(t){return new zm(t,.5)},t.curveStepAfter=function(t){return new zm(t,1)},t.curveStepBefore=function(t){return new zm(t,0)},t.stack=function(){var t=Zy([]),e=Lm,n=Om,r=Dm;function i(i){var a,o,s=t.apply(this,arguments),u=i.length,c=s.length,l=new Array(c);for(a=0;a<c;++a){for(var f,h=s[a],d=l[a]=new Array(u),p=0;p<u;++p)d[p]=f=[0,+r(i[p],h,p,i)],f.data=i[p];d.key=h}for(a=0,o=e(l);a<c;++a)l[o[a]].index=a;return n(l,o),l}return i.keys=function(e){return arguments.length?(t="function"==typeof e?e:Zy(Pv.call(e)),i):t},i.value=function(t){return arguments.length?(r="function"==typeof t?t:Zy(+t),i):r},i.order=function(t){return arguments.length?(e=null==t?Lm:"function"==typeof t?t:Zy(Pv.call(t)),i):e},i.offset=function(t){return arguments.length?(n=null==t?Om:t,i):n},i},t.stackOffsetExpand=function(t,e){if((r=t.length)>0){for(var n,r,i,a=0,o=t[0].length;a<o;++a){for(i=n=0;n<r;++n)i+=t[n][a][1]||0;if(i)for(n=0;n<r;++n)t[n][a][1]/=i}Om(t,e)}},t.stackOffsetDiverging=function(t,e){if((s=t.length)>0)for(var n,r,i,a,o,s,u=0,c=t[e[0]].length;u<c;++u)for(a=o=0,n=0;n<s;++n)(i=(r=t[e[n]][u])[1]-r[0])>=0?(r[0]=a,r[1]=a+=i):i<0?(r[1]=o,r[0]=o+=i):r[0]=a},t.stackOffsetNone=Om,t.stackOffsetSilhouette=function(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],a=i.length;r<a;++r){for(var o=0,s=0;o<n;++o)s+=t[o][r][1]||0;i[r][1]+=i[r][0]=-s/2}Om(t,e)}},t.stackOffsetWiggle=function(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,a=0,o=1;o<r;++o){for(var s=0,u=0,c=0;s<i;++s){for(var l=t[e[s]],f=l[o][1]||0,h=(f-(l[o-1][1]||0))/2,d=0;d<s;++d){var p=t[e[d]];h+=(p[o][1]||0)-(p[o-1][1]||0)}u+=f,c+=h*f}n[o-1][1]+=n[o-1][0]=a,u&&(a-=c/u)}n[o-1][1]+=n[o-1][0]=a,Om(t,e)}},t.stackOrderAppearance=Im,t.stackOrderAscending=Ym,t.stackOrderDescending=function(t){return Ym(t).reverse()},t.stackOrderInsideOut=function(t){var e,n,r=t.length,i=t.map(Bm),a=Im(t),o=0,s=0,u=[],c=[];for(e=0;e<r;++e)n=a[e],o<s?(o+=i[n],u.push(n)):(s+=i[n],c.push(n));return c.reverse().concat(u)},t.stackOrderNone=Lm,t.stackOrderReverse=function(t){return Lm(t).reverse()},t.timeInterval=Gh,t.timeMillisecond=Vh,t.timeMilliseconds=Xh,t.utcMillisecond=Vh,t.utcMilliseconds=Xh,t.timeSecond=Zh,t.timeSeconds=Qh,t.utcSecond=Zh,t.utcSeconds=Qh,t.timeMinute=td,t.timeMinutes=ed,t.timeHour=nd,t.timeHours=rd,t.timeDay=id,t.timeDays=ad,t.timeWeek=sd,t.timeWeeks=pd,t.timeSunday=sd,t.timeSundays=pd,t.timeMonday=ud,t.timeMondays=gd,t.timeTuesday=cd,t.timeTuesdays=yd,t.timeWednesday=ld,t.timeWednesdays=vd,t.timeThursday=fd,t.timeThursdays=md,t.timeFriday=hd,t.timeFridays=bd,t.timeSaturday=dd,t.timeSaturdays=xd,t.timeMonth=_d,t.timeMonths=wd,t.timeYear=kd,t.timeYears=Md,t.utcMinute=Ad,t.utcMinutes=Td,t.utcHour=Ed,t.utcHours=Cd,t.utcDay=Sd,t.utcDays=Nd,t.utcWeek=Pd,t.utcWeeks=Yd,t.utcSunday=Pd,t.utcSundays=Yd,t.utcMonday=zd,t.utcMondays=Bd,t.utcTuesday=Od,t.utcTuesdays=Hd,t.utcWednesday=Ld,t.utcWednesdays=Ud,t.utcThursday=Dd,t.utcThursdays=Fd,t.utcFriday=Id,t.utcFridays=qd,t.utcSaturday=jd,t.utcSaturdays=$d,t.utcMonth=Wd,t.utcMonths=Gd,t.utcYear=Vd,t.utcYears=Xd,t.timeFormatDefaultLocale=fg,t.timeFormatLocale=Qd,t.isoFormat=hg,t.isoParse=dg,t.now=tr,t.timer=rr,t.timerFlush=ir,t.timeout=ur,t.interval=function(t,e,n){var r=new nr,i=e;return null==e?(r.restart(t,e,n),r):(e=+e,n=null==n?tr():+n,r.restart(function a(o){o+=i,r.restart(a,i+=e,n),t(o)},e,n),r)},t.transition=Sr,t.active=function(t,e){var n,r,i=t.__transition;if(i)for(r in e=null==e?null:e+"",i)if((n=i[r]).state>hr&&n.name===e)return new Cr([[t]],ui,e,+r);return null},t.interrupt=wr,t.voronoi=function(){var t=Um,e=Fm,n=null;function r(r){return new kb(r.map(function(n,i){var a=[Math.round(t(n,i,r)/xb)*xb,Math.round(e(n,i,r)/xb)*xb];return a.index=i,a.data=n,a}),n)}return r.polygons=function(t){return r(t).polygons()},r.links=function(t){return r(t).links()},r.triangles=function(t){return r(t).triangles()},r.x=function(e){return arguments.length?(t="function"==typeof e?e:Hm(+e),r):t},r.y=function(t){return arguments.length?(e="function"==typeof t?t:Hm(+t),r):e},r.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],r):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},r.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],r):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},r},t.zoom=function(){var e,n,r=Rb,i=Pb,a=Db,o=Ob,s=Lb,u=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],l=250,f=zn,h=[],d=U("start","zoom","end"),p=500,g=150,y=0;function v(t){t.property("__zoom",zb).on("wheel.zoom",M).on("mousedown.zoom",A).on("dblclick.zoom",T).filter(s).on("touchstart.zoom",E).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(t,e){return(e=Math.max(u[0],Math.min(u[1],e)))===t.k?t:new Tb(e,t.x,t.y)}function b(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new Tb(t.k,r,i)}function x(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function _(t,e,n){t.on("start.zoom",function(){w(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){w(this,arguments).end()}).tween("zoom",function(){var t=arguments,r=w(this,t),a=i.apply(this,t),o=n||x(a),s=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),u=this.__zoom,c="function"==typeof e?e.apply(this,t):e,l=f(u.invert(o).concat(s/u.k),c.invert(o).concat(s/c.k));return function(t){if(1===t)t=c;else{var e=l(t),n=s/e[2];t=new Tb(n,o[0]-e[0]*n,o[1]-e[1]*n)}r.zoom(null,t)}})}function w(t,e){for(var n,r=0,i=h.length;r<i;++r)if((n=h[r]).that===t)return n;return new k(t,e)}function k(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=i.apply(t,e)}function M(){if(r.apply(this,arguments)){var t=w(this,arguments),e=this.__zoom,n=Math.max(u[0],Math.min(u[1],e.k*Math.pow(2,o.apply(this,arguments)))),i=jt(this);if(t.wheel)t.mouse[0][0]===i[0]&&t.mouse[0][1]===i[1]||(t.mouse[1]=e.invert(t.mouse[0]=i)),clearTimeout(t.wheel);else{if(e.k===n)return;t.mouse=[i,e.invert(i)],wr(this),t.start()}Nb(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},g),t.zoom("mouse",a(b(m(e,n),t.mouse[0],t.mouse[1]),t.extent,c))}}function A(){if(!n&&r.apply(this,arguments)){var e=w(this,arguments),i=Pt(t.event.view).on("mousemove.zoom",function(){if(Nb(),!e.moved){var n=t.event.clientX-s,r=t.event.clientY-u;e.moved=n*n+r*r>y}e.zoom("mouse",a(b(e.that.__zoom,e.mouse[0]=jt(e.that),e.mouse[1]),e.extent,c))},!0).on("mouseup.zoom",function(){i.on("mousemove.zoom mouseup.zoom",null),Ft(t.event.view,e.moved),Nb(),e.end()},!0),o=jt(this),s=t.event.clientX,u=t.event.clientY;Ut(t.event.view),Sb(),e.mouse=[o,this.__zoom.invert(o)],wr(this),e.start()}}function T(){if(r.apply(this,arguments)){var e=this.__zoom,n=jt(this),o=e.invert(n),s=e.k*(t.event.shiftKey?.5:2),u=a(b(m(e,s),n,o),i.apply(this,arguments),c);Nb(),l>0?Pt(this).transition().duration(l).call(_,u,n):Pt(this).call(v.transform,u)}}function E(){if(r.apply(this,arguments)){var n,i,a,o,s=w(this,arguments),u=t.event.changedTouches,c=u.length;for(Sb(),i=0;i<c;++i)o=[o=Yt(this,u,(a=u[i]).identifier),this.__zoom.invert(o),a.identifier],s.touch0?s.touch1||(s.touch1=o):(s.touch0=o,n=!0);if(e&&(e=clearTimeout(e),!s.touch1))return s.end(),void((o=Pt(this).on("dblclick.zoom"))&&o.apply(this,arguments));n&&(e=setTimeout(function(){e=null},p),wr(this),s.start())}}function C(){var n,r,i,o,s=w(this,arguments),u=t.event.changedTouches,l=u.length;for(Nb(),e&&(e=clearTimeout(e)),n=0;n<l;++n)i=Yt(this,u,(r=u[n]).identifier),s.touch0&&s.touch0[2]===r.identifier?s.touch0[0]=i:s.touch1&&s.touch1[2]===r.identifier&&(s.touch1[0]=i);if(r=s.that.__zoom,s.touch1){var f=s.touch0[0],h=s.touch0[1],d=s.touch1[0],p=s.touch1[1],g=(g=d[0]-f[0])*g+(g=d[1]-f[1])*g,y=(y=p[0]-h[0])*y+(y=p[1]-h[1])*y;r=m(r,Math.sqrt(g/y)),i=[(f[0]+d[0])/2,(f[1]+d[1])/2],o=[(h[0]+p[0])/2,(h[1]+p[1])/2]}else{if(!s.touch0)return;i=s.touch0[0],o=s.touch0[1]}s.zoom("touch",a(b(r,i,o),s.extent,c))}function S(){var e,r,i=w(this,arguments),a=t.event.changedTouches,o=a.length;for(Sb(),n&&clearTimeout(n),n=setTimeout(function(){n=null},p),e=0;e<o;++e)r=a[e],i.touch0&&i.touch0[2]===r.identifier?delete i.touch0:i.touch1&&i.touch1[2]===r.identifier&&delete i.touch1;i.touch1&&!i.touch0&&(i.touch0=i.touch1,delete i.touch1),i.touch0?i.touch0[1]=this.__zoom.invert(i.touch0[0]):i.end()}return v.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",zb),t!==n?_(t,e):n.interrupt().each(function(){w(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},v.scaleBy=function(t,e){v.scaleTo(t,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)})},v.scaleTo=function(t,e){v.transform(t,function(){var t=i.apply(this,arguments),n=this.__zoom,r=x(t),o=n.invert(r),s="function"==typeof e?e.apply(this,arguments):e;return a(b(m(n,s),r,o),t,c)})},v.translateBy=function(t,e,n){v.transform(t,function(){return a(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),c)})},v.translateTo=function(t,e,n){v.transform(t,function(){var t=i.apply(this,arguments),r=this.__zoom,o=x(t);return a(Eb.translate(o[0],o[1]).scale(r.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,c)})},k.prototype={start:function(){return 1==++this.active&&(this.index=h.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(h.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){Et(new Ab(v,t,this.that.__zoom),d.apply,d,[t,this.that,this.args])}},v.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:Mb(+t),v):o},v.filter=function(t){return arguments.length?(r="function"==typeof t?t:Mb(!!t),v):r},v.touchable=function(t){return arguments.length?(s="function"==typeof t?t:Mb(!!t),v):s},v.extent=function(t){return arguments.length?(i="function"==typeof t?t:Mb([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),v):i},v.scaleExtent=function(t){return arguments.length?(u[0]=+t[0],u[1]=+t[1],v):[u[0],u[1]]},v.translateExtent=function(t){return arguments.length?(c[0][0]=+t[0][0],c[1][0]=+t[1][0],c[0][1]=+t[0][1],c[1][1]=+t[1][1],v):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},v.constrain=function(t){return arguments.length?(a=t,v):a},v.duration=function(t){return arguments.length?(l=+t,v):l},v.interpolate=function(t){return arguments.length?(f=t,v):f},v.on=function(){var t=d.on.apply(d,arguments);return t===d?v:t},v.clickDistance=function(t){return arguments.length?(y=(t=+t)*t,v):Math.sqrt(y)},v},t.zoomTransform=Cb,t.zoomIdentity=Eb,Object.defineProperty(t,"__esModule",{value:!0})}),function(t,e){t.Papa=function(){"use strict";function t(t){this._handle=null,this._paused=!1,this._finished=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var e=l(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new a(e),this._handle.streamer=this,this._config=e}.call(this,t),this.parseChunk=function(t){if(this.isFirstChunk&&h(this._config.beforeFirstChunk)){var e=this._config.beforeFirstChunk(t);void 0!==e&&(t=e)}this.isFirstChunk=!1;var n=this._partialLine+t;this._partialLine="";var r=this._handle.parse(n,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var i=r.meta.cursor;this._finished||(this._partialLine=n.substring(i-this._baseIndex),this._baseIndex=i),r&&r.data&&(this._rowCount+=r.data.length);var a=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(y)p.postMessage({results:r,workerId:x.WORKER_ID,finished:a});else if(h(this._config.chunk)){if(this._config.chunk(r,this._handle),this._paused)return;r=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(r.data),this._completeResults.errors=this._completeResults.errors.concat(r.errors),this._completeResults.meta=r.meta),!a||!h(this._config.complete)||r&&r.meta.aborted||this._config.complete(this._completeResults,this._input),a||r&&r.meta.paused||this._nextChunk(),r}},this._sendError=function(t){h(this._config.error)?this._config.error(t):y&&this._config.error&&p.postMessage({workerId:x.WORKER_ID,error:t,finished:!1})}}function e(e){var n;(e=e||{}).chunkSize||(e.chunkSize=x.RemoteChunkSize),t.call(this,e),this._nextChunk=g?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(n=new XMLHttpRequest,this._config.withCredentials&&(n.withCredentials=this._config.withCredentials),g||(n.onload=f(this._chunkLoaded,this),n.onerror=f(this._chunkError,this)),n.open("GET",this._input,!g),this._config.chunkSize){var t=this._start+this._config.chunkSize-1;n.setRequestHeader("Range","bytes="+this._start+"-"+t),n.setRequestHeader("If-None-Match","webkit-no-cache")}try{n.send()}catch(t){this._chunkError(t.message)}g&&0===n.status?this._chunkError():this._start+=this._config.chunkSize}},this._chunkLoaded=function(){if(4==n.readyState){if(n.status<200||n.status>=400)return void this._chunkError();this._finished=!this._config.chunkSize||this._start>(null===(t=n.getResponseHeader("Content-Range"))?-1:parseInt(t.substr(t.lastIndexOf("/")+1))),this.parseChunk(n.responseText)}var t},this._chunkError=function(t){var e=n.statusText||t;this._sendError(e)}}function n(e){(e=e||{}).chunkSize||(e.chunkSize=x.LocalChunkSize),t.call(this,e);var n,r,i="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,r=t.slice||t.webkitSlice||t.mozSlice,i?((n=new FileReader).onload=f(this._chunkLoaded,this),n.onerror=f(this._chunkError,this)):n=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var e=Math.min(this._start+this._config.chunkSize,this._input.size);t=r.call(t,this._start,e)}var a=n.readAsText(t,this._config.encoding);i||this._chunkLoaded({target:{result:a}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(n.error)}}function r(e){var n;e=e||{},t.call(this,e),this.stream=function(t){return n=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t=this._config.chunkSize,e=t?n.substr(0,t):n;return n=t?n.substr(t):"",this._finished=!n,this.parseChunk(e)}}}function i(e){e=e||{},t.call(this,e);var n=[],r=!0;this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._nextChunk=function(){n.length?this.parseChunk(n.shift()):r=!0},this._streamData=f(function(t){try{n.push("string"==typeof t?t:t.toString(this._config.encoding)),r&&(r=!1,this.parseChunk(n.shift()))}catch(t){this._streamError(t)}},this),this._streamError=f(function(t){this._streamCleanUp(),this._sendError(t.message)},this),this._streamEnd=f(function(){this._streamCleanUp(),this._finished=!0,this._streamData("")},this),this._streamCleanUp=f(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function a(t){function e(){if(v&&u&&(i("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+x.DefaultDelimiter+"'"),u=!1),t.skipEmptyLines)for(var e=0;e<v.data.length;e++)1===v.data[e].length&&""===v.data[e][0]&&v.data.splice(e--,1);return n()&&function(){if(v){for(var t=0;n()&&t<v.data.length;t++)for(var e=0;e<v.data[t].length;e++)y.push(v.data[t][e]);v.data.splice(0,1)}}(),function(){if(!v||!t.header&&!t.dynamicTyping)return v;for(var e=0;e<v.data.length;e++){for(var n=t.header?{}:[],a=0;a<v.data[e].length;a++){var o=a,s=v.data[e][a];t.header&&(o=a>=y.length?"__parsed_extra":y[a]),s=r(o,s),"__parsed_extra"===o?(n[o]=n[o]||[],n[o].push(s)):n[o]=s}v.data[e]=n,t.header&&(a>y.length?i("FieldMismatch","TooManyFields","Too many fields: expected "+y.length+" fields but parsed "+a,e):a<y.length&&i("FieldMismatch","TooFewFields","Too few fields: expected "+y.length+" fields but parsed "+a,e))}return t.header&&v.meta&&(v.meta.fields=y),v}()}function n(){return t.header&&0===y.length}function r(e,n){return!0===(t.dynamicTyping[e]||t.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&function(t){return c.test(t)?parseFloat(t):t}(n):n}function i(t,e,n,r){v.errors.push({type:t,code:e,message:n,row:r})}var a,s,u,c=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,f=this,d=0,p=!1,g=!1,y=[],v={data:[],errors:[],meta:{}};if(h(t.step)){var m=t.step;t.step=function(r){if(v=r,n())e();else{if(e(),0===v.data.length)return;d+=r.data.length,t.preview&&d>t.preview?s.abort():m(v,f)}}}this.parse=function(n,r,i){if(t.newline||(t.newline=function(t){var e=(t=t.substr(0,1048576)).split("\r"),n=t.split("\n"),r=n.length>1&&n[0].length<e[0].length;if(1===e.length||r)return"\n";for(var i=0,a=0;a<e.length;a++)"\n"===e[a][0]&&i++;return i>=e.length/2?"\r\n":"\r"}(n)),u=!1,t.delimiter)"function"==typeof t.delimiter&&(t.delimiter=t.delimiter(n),v.meta.delimiter=t.delimiter);else{var c=function(e,n){for(var r,i,a,s=[",","\t","|",";",x.RECORD_SEP,x.UNIT_SEP],u=0;u<s.length;u++){var c=s[u],l=0,f=0;a=void 0;for(var h=new o({delimiter:c,newline:n,preview:10}).parse(e),d=0;d<h.data.length;d++){var p=h.data[d].length;f+=p,void 0!==a?p>1&&(l+=Math.abs(p-a),a=p):a=p}h.data.length>0&&(f/=h.data.length),(void 0===i||l<i)&&f>1.99&&(i=l,r=c)}return t.delimiter=r,{successful:!!r,bestDelimiter:r}}(n,t.newline);c.successful?t.delimiter=c.bestDelimiter:(u=!0,t.delimiter=x.DefaultDelimiter),v.meta.delimiter=t.delimiter}var f=l(t);return t.preview&&t.header&&f.preview++,a=n,s=new o(f),v=s.parse(a,r,i),e(),p?{meta:{paused:!0}}:v||{meta:{paused:!1}}},this.paused=function(){return p},this.pause=function(){p=!0,s.abort(),a=a.substr(s.getCharIndex())},this.resume=function(){p=!1,f.streamer.parseChunk(a)},this.aborted=function(){return g},this.abort=function(){g=!0,s.abort(),v.meta.aborted=!0,h(t.complete)&&t.complete(v),a=""}}function o(t){var e=(t=t||{}).delimiter,n=t.newline,r=t.comments,i=t.step,a=t.preview,o=t.fastMode,s=t.quoteChar||'"';if(("string"!=typeof e||x.BAD_DELIMITERS.indexOf(e)>-1)&&(e=","),r===e)throw"Comment character same as delimiter";!0===r?r="#":("string"!=typeof r||x.BAD_DELIMITERS.indexOf(r)>-1)&&(r=!1),"\n"!=n&&"\r"!=n&&"\r\n"!=n&&(n="\n");var u=0,c=!1;this.parse=function(t,l,f){function h(t){w.push(t),A=u}function d(e){return f?g():(void 0===e&&(e=t.substr(u)),M.push(e),u=v,h(M),_&&y(),g())}function p(e){u=e,h(M),M=[],S=t.indexOf(n,u)}function g(t){return{data:w,errors:k,meta:{delimiter:e,linebreak:n,aborted:c,truncated:!!t,cursor:A+(l||0)}}}function y(){i(g()),w=[],k=[]}if("string"!=typeof t)throw"Input must be a string";var v=t.length,m=e.length,b=n.length,x=r.length,_="function"==typeof i;u=0;var w=[],k=[],M=[],A=0;if(!t)return g();if(o||!1!==o&&-1===t.indexOf(s)){for(var T=t.split(n),E=0;E<T.length;E++){M=T[E];if(u+=M.length,E!==T.length-1)u+=n.length;else if(f)return g();if(!r||M.substr(0,x)!==r){if(_){if(w=[],h(M.split(e)),y(),c)return g()}else h(M.split(e));if(a&&E>=a)return w=w.slice(0,a),g(!0)}}return g()}for(var C=t.indexOf(e,u),S=t.indexOf(n,u),N=new RegExp(s+s,"g");;)if(t[u]!==s)if(r&&0===M.length&&t.substr(u,x)===r){if(-1===S)return g();u=S+b,S=t.indexOf(n,u),C=t.indexOf(e,u)}else if(-1!==C&&(C<S||-1===S))M.push(t.substring(u,C)),u=C+m,C=t.indexOf(e,u);else{if(-1===S)break;if(M.push(t.substring(u,S)),p(S+b),_&&(y(),c))return g();if(a&&w.length>=a)return g(!0)}else{var R=u;for(u++;;){if(-1===(R=t.indexOf(s,R+1)))return f||k.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:w.length,index:u}),d();if(R===v-1)return d(t.substring(u,R).replace(N,s));if(t[R+1]!==s){if(t[R+1]===e){M.push(t.substring(u,R).replace(N,s)),u=R+1+m,C=t.indexOf(e,u),S=t.indexOf(n,u);break}if(t.substr(R+1,b)===n){if(M.push(t.substring(u,R).replace(N,s)),p(R+1+b),C=t.indexOf(e,u),_&&(y(),c))return g();if(a&&w.length>=a)return g(!0);break}}else R++}}return d()},this.abort=function(){c=!0},this.getCharIndex=function(){return u}}function s(t){var e=t.data,n=m[e.workerId],r=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var i={abort:function(){r=!0,u(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:c,resume:c};if(h(n.userStep)){for(var a=0;a<e.results.data.length&&(n.userStep({data:[e.results.data[a]],errors:e.results.errors,meta:e.results.meta},i),!r);a++);delete e.results}else h(n.userChunk)&&(n.userChunk(e.results,i,e.file),delete e.results)}e.finished&&!r&&u(e.workerId,e.results)}function u(t,e){var n=m[t];h(n.userComplete)&&n.userComplete(e),n.terminate(),delete m[t]}function c(){throw"Not implemented."}function l(t){if("object"!=typeof t)return t;var e=t instanceof Array?[]:{};for(var n in t)e[n]=l(t[n]);return e}function f(t,e){return function(){t.apply(e,arguments)}}function h(t){return"function"==typeof t}var d,p="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==p?p:{},g=!p.document&&!!p.postMessage,y=g&&/(\?|&)papaworker(=|&|$)/.test(p.location.search),v=!1,m={},b=0,x={parse:function(t,a){if((a=a||{}).dynamicTyping=a.dynamicTyping||!1,a.worker&&x.WORKERS_SUPPORTED){var o=function(){if(!x.WORKERS_SUPPORTED)return!1;if(!v&&null===x.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var t=x.SCRIPT_PATH||d;t+=(-1!==t.indexOf("?")?"&":"?")+"papaworker";var e=new p.Worker(t);return e.onmessage=s,e.id=b++,m[e.id]=e,e}();return o.userStep=a.step,o.userChunk=a.chunk,o.userComplete=a.complete,o.userError=a.error,a.step=h(a.step),a.chunk=h(a.chunk),a.complete=h(a.complete),a.error=h(a.error),delete a.worker,void o.postMessage({input:t,config:a,workerId:o.id})}var u=null;return"string"==typeof t?u=a.download?new e(a):new r(a):!0===t.readable&&"function"==typeof t.read&&"function"==typeof t.on?u=new i(a):(p.File&&t instanceof File||t instanceof Object)&&(u=new n(a)),u.stream(t)},unparse:function(t,e){function n(t){if("object"!=typeof t)return[];var e=[];for(var n in t)e.push(n);return e}function r(t,e){var n="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var r=t instanceof Array&&t.length>0,a=!(e[0]instanceof Array);if(r&&o){for(var c=0;c<t.length;c++)c>0&&(n+=s),n+=i(t[c],c);e.length>0&&(n+=u)}for(var l=0;l<e.length;l++){for(var f=r?t.length:e[l].length,h=0;h<f;h++){h>0&&(n+=s);var d=r&&a?t[h]:h;n+=i(e[l][d],h)}l<e.length-1&&(n+=u)}return n}function i(t,e){return null==t?"":(t=t.toString().replace(l,c+c),"boolean"==typeof a&&a||a instanceof Array&&a[e]||function(t,e){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return!0;return!1}(t,x.BAD_DELIMITERS)||t.indexOf(s)>-1||" "===t.charAt(0)||" "===t.charAt(t.length-1)?c+t+c:t)}var a=!1,o=!0,s=",",u="\r\n",c='"';"object"==typeof e&&("string"==typeof e.delimiter&&1===e.delimiter.length&&-1===x.BAD_DELIMITERS.indexOf(e.delimiter)&&(s=e.delimiter),("boolean"==typeof e.quotes||e.quotes instanceof Array)&&(a=e.quotes),"string"==typeof e.newline&&(u=e.newline),"string"==typeof e.quoteChar&&(c=e.quoteChar),"boolean"==typeof e.header&&(o=e.header));var l=new RegExp(c,"g");if("string"==typeof t&&(t=JSON.parse(t)),t instanceof Array){if(!t.length||t[0]instanceof Array)return r(null,t);if("object"==typeof t[0])return r(n(t[0]),t)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),t.data instanceof Array&&(t.fields||(t.fields=t.meta&&t.meta.fields),t.fields||(t.fields=t.data[0]instanceof Array?t.fields:n(t.data[0])),t.data[0]instanceof Array||"object"==typeof t.data[0]||(t.data=[t.data])),r(t.fields||[],t.data||[]);throw"exception: Unable to serialize unrecognized input"}};if(x.RECORD_SEP=String.fromCharCode(30),x.UNIT_SEP=String.fromCharCode(31),x.BYTE_ORDER_MARK="\ufeff",x.BAD_DELIMITERS=["\r","\n",'"',x.BYTE_ORDER_MARK],x.WORKERS_SUPPORTED=!g&&!!p.Worker,x.SCRIPT_PATH=null,x.LocalChunkSize=10485760,x.RemoteChunkSize=5242880,x.DefaultDelimiter=",",x.Parser=o,x.ParserHandle=a,x.NetworkStreamer=e,x.FileStreamer=n,x.StringStreamer=r,x.ReadableStreamStreamer=i,p.jQuery){var _=p.jQuery;_.fn.parse=function(t){function e(){if(0!==i.length){var e=i[0];if(h(t.before)){var r=t.before(e.file,e.inputElem);if("object"==typeof r){if("abort"===r.action)return void function(e,n,r,i){h(t.error)&&t.error({name:"AbortError"},n,r,i)}(0,e.file,e.inputElem,r.reason);if("skip"===r.action)return void n();"object"==typeof r.config&&(e.instanceConfig=_.extend(e.instanceConfig,r.config))}else if("skip"===r)return void n()}var a=e.instanceConfig.complete;e.instanceConfig.complete=function(t){h(a)&&a(t,e.file,e.inputElem),n()},x.parse(e.file,e.instanceConfig)}else h(t.complete)&&t.complete()}function n(){i.splice(0,1),e()}var r=t.config||{},i=[];return this.each(function(t){if(!("INPUT"===_(this).prop("tagName").toUpperCase()&&"file"===_(this).attr("type").toLowerCase()&&p.FileReader)||!this.files||0===this.files.length)return!0;for(var e=0;e<this.files.length;e++)i.push({file:this.files[e],inputElem:this,instanceConfig:_.extend({},r)})}),e(),this}}return y?p.onmessage=function(t){var e=t.data;if(void 0===x.WORKER_ID&&e&&(x.WORKER_ID=e.workerId),"string"==typeof e.input)p.postMessage({workerId:x.WORKER_ID,results:x.parse(e.input,e.config),finished:!0});else if(p.File&&e.input instanceof File||e.input instanceof Object){var n=x.parse(e.input,e.config);n&&p.postMessage({workerId:x.WORKER_ID,results:n,finished:!0})}}:x.WORKERS_SUPPORTED&&(d=function(){var t=document.getElementsByTagName("script");return t.length?t[t.length-1].src:""}(),document.body?document.addEventListener("DOMContentLoaded",function(){v=!0},!0):v=!0),e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n.prototype=Object.create(t.prototype),n.prototype.constructor=n,r.prototype=Object.create(r.prototype),r.prototype.constructor=r,i.prototype=Object.create(t.prototype),i.prototype.constructor=i,x}()}(this),function(t,e){t.Papa=function(){"use strict";function t(t){this._handle=null,this._paused=!1,this._finished=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var e=l(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new a(e),this._handle.streamer=this,this._config=e}.call(this,t),this.parseChunk=function(t){if(this.isFirstChunk&&h(this._config.beforeFirstChunk)){var e=this._config.beforeFirstChunk(t);void 0!==e&&(t=e)}this.isFirstChunk=!1;var n=this._partialLine+t;this._partialLine="";var r=this._handle.parse(n,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var i=r.meta.cursor;this._finished||(this._partialLine=n.substring(i-this._baseIndex),this._baseIndex=i),r&&r.data&&(this._rowCount+=r.data.length);var a=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(y)p.postMessage({results:r,workerId:x.WORKER_ID,finished:a});else if(h(this._config.chunk)){if(this._config.chunk(r,this._handle),this._paused)return;r=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(r.data),this._completeResults.errors=this._completeResults.errors.concat(r.errors),this._completeResults.meta=r.meta),!a||!h(this._config.complete)||r&&r.meta.aborted||this._config.complete(this._completeResults,this._input),a||r&&r.meta.paused||this._nextChunk(),r}},this._sendError=function(t){h(this._config.error)?this._config.error(t):y&&this._config.error&&p.postMessage({workerId:x.WORKER_ID,error:t,finished:!1})}}function e(e){var n;(e=e||{}).chunkSize||(e.chunkSize=x.RemoteChunkSize),t.call(this,e),this._nextChunk=g?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(n=new XMLHttpRequest,this._config.withCredentials&&(n.withCredentials=this._config.withCredentials),g||(n.onload=f(this._chunkLoaded,this),n.onerror=f(this._chunkError,this)),n.open("GET",this._input,!g),this._config.chunkSize){var t=this._start+this._config.chunkSize-1;n.setRequestHeader("Range","bytes="+this._start+"-"+t),n.setRequestHeader("If-None-Match","webkit-no-cache")}try{n.send()}catch(t){this._chunkError(t.message)}g&&0===n.status?this._chunkError():this._start+=this._config.chunkSize}},this._chunkLoaded=function(){if(4==n.readyState){if(n.status<200||n.status>=400)return void this._chunkError();this._finished=!this._config.chunkSize||this._start>function(t){var e=t.getResponseHeader("Content-Range");return null===e?-1:parseInt(e.substr(e.lastIndexOf("/")+1))}(n),this.parseChunk(n.responseText)}},this._chunkError=function(t){var e=n.statusText||t;this._sendError(e)}}function n(e){(e=e||{}).chunkSize||(e.chunkSize=x.LocalChunkSize),t.call(this,e);var n,r,i="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,r=t.slice||t.webkitSlice||t.mozSlice,i?((n=new FileReader).onload=f(this._chunkLoaded,this),n.onerror=f(this._chunkError,this)):n=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var e=Math.min(this._start+this._config.chunkSize,this._input.size);t=r.call(t,this._start,e)}var a=n.readAsText(t,this._config.encoding);i||this._chunkLoaded({target:{result:a}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(n.error)}}function r(e){var n;e=e||{},t.call(this,e),this.stream=function(t){return t,n=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t=this._config.chunkSize,e=t?n.substr(0,t):n;return n=t?n.substr(t):"",this._finished=!n,this.parseChunk(e)}}}function i(e){e=e||{},t.call(this,e);var n=[],r=!0;this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._nextChunk=function(){n.length?this.parseChunk(n.shift()):r=!0},this._streamData=f(function(t){try{n.push("string"==typeof t?t:t.toString(this._config.encoding)),r&&(r=!1,this.parseChunk(n.shift()))}catch(t){this._streamError(t)}},this),this._streamError=f(function(t){this._streamCleanUp(),this._sendError(t.message)},this),this._streamEnd=f(function(){this._streamCleanUp(),this._finished=!0,this._streamData("")},this),this._streamCleanUp=f(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function a(t){function e(){if(v&&u&&(i("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+x.DefaultDelimiter+"'"),u=!1),t.skipEmptyLines)for(var e=0;e<v.data.length;e++)1===v.data[e].length&&""===v.data[e][0]&&v.data.splice(e--,1);return n()&&function(){if(v){for(var t=0;n()&&t<v.data.length;t++)for(var e=0;e<v.data[t].length;e++)y.push(v.data[t][e]);v.data.splice(0,1)}}(),function(){if(!v||!t.header&&!t.dynamicTyping)return v;for(var e=0;e<v.data.length;e++){for(var n=t.header?{}:[],a=0;a<v.data[e].length;a++){var o=a,s=v.data[e][a];t.header&&(o=a>=y.length?"__parsed_extra":y[a]),s=r(o,s),"__parsed_extra"===o?(n[o]=n[o]||[],n[o].push(s)):n[o]=s}v.data[e]=n,t.header&&(a>y.length?i("FieldMismatch","TooManyFields","Too many fields: expected "+y.length+" fields but parsed "+a,e):a<y.length&&i("FieldMismatch","TooFewFields","Too few fields: expected "+y.length+" fields but parsed "+a,e))}return t.header&&v.meta&&(v.meta.fields=y),v}()}function n(){return t.header&&0===y.length}function r(e,n){return!0===(t.dynamicTyping[e]||t.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&function(t){return c.test(t)?parseFloat(t):t}(n):n}function i(t,e,n,r){v.errors.push({type:t,code:e,message:n,row:r})}var a,s,u,c=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,f=this,d=0,p=!1,g=!1,y=[],v={data:[],errors:[],meta:{}};if(h(t.step)){var m=t.step;t.step=function(r){if(v=r,n())e();else{if(e(),0===v.data.length)return;d+=r.data.length,t.preview&&d>t.preview?s.abort():m(v,f)}}}this.parse=function(n,r,i){if(t.newline||(t.newline=function(t){var e=(t=t.substr(0,1048576)).split("\r"),n=t.split("\n"),r=n.length>1&&n[0].length<e[0].length;if(1===e.length||r)return"\n";for(var i=0,a=0;a<e.length;a++)"\n"===e[a][0]&&i++;return i>=e.length/2?"\r\n":"\r"}(n)),u=!1,t.delimiter)"function"==typeof t.delimiter&&(t.delimiter=t.delimiter(n),v.meta.delimiter=t.delimiter);else{var c=function(e,n){for(var r,i,a,s=[",","\t","|",";",x.RECORD_SEP,x.UNIT_SEP],u=0;u<s.length;u++){var c=s[u],l=0,f=0;a=void 0;for(var h=new o({delimiter:c,newline:n,preview:10}).parse(e),d=0;d<h.data.length;d++){var p=h.data[d].length;f+=p,void 0!==a?p>1&&(l+=Math.abs(p-a),a=p):a=p}h.data.length>0&&(f/=h.data.length),(void 0===i||l<i)&&f>1.99&&(i=l,r=c)}return t.delimiter=r,{successful:!!r,bestDelimiter:r}}(n,t.newline);c.successful?t.delimiter=c.bestDelimiter:(u=!0,t.delimiter=x.DefaultDelimiter),v.meta.delimiter=t.delimiter}var f=l(t);return t.preview&&t.header&&f.preview++,a=n,s=new o(f),v=s.parse(a,r,i),e(),p?{meta:{paused:!0}}:v||{meta:{paused:!1}}},this.paused=function(){return p},this.pause=function(){p=!0,s.abort(),a=a.substr(s.getCharIndex())},this.resume=function(){p=!1,f.streamer.parseChunk(a)},this.aborted=function(){return g},this.abort=function(){g=!0,s.abort(),v.meta.aborted=!0,h(t.complete)&&t.complete(v),a=""}}function o(t){var e=(t=t||{}).delimiter,n=t.newline,r=t.comments,i=t.step,a=t.preview,o=t.fastMode,s=t.quoteChar||'"';if(("string"!=typeof e||x.BAD_DELIMITERS.indexOf(e)>-1)&&(e=","),r===e)throw"Comment character same as delimiter";!0===r?r="#":("string"!=typeof r||x.BAD_DELIMITERS.indexOf(r)>-1)&&(r=!1),"\n"!=n&&"\r"!=n&&"\r\n"!=n&&(n="\n");var u=0,c=!1;this.parse=function(t,l,f){function h(t){w.push(t),A=u}function d(e){return f?g():(void 0===e&&(e=t.substr(u)),M.push(e),u=v,h(M),_&&y(),g())}function p(e){u=e,h(M),M=[],S=t.indexOf(n,u)}function g(t){return{data:w,errors:k,meta:{delimiter:e,linebreak:n,aborted:c,truncated:!!t,cursor:A+(l||0)}}}function y(){i(g()),w=[],k=[]}if("string"!=typeof t)throw"Input must be a string";var v=t.length,m=e.length,b=n.length,x=r.length,_="function"==typeof i;u=0;var w=[],k=[],M=[],A=0;if(!t)return g();if(o||!1!==o&&-1===t.indexOf(s)){for(var T=t.split(n),E=0;E<T.length;E++){var M=T[E];if(u+=M.length,E!==T.length-1)u+=n.length;else if(f)return g();if(!r||M.substr(0,x)!==r){if(_){if(w=[],h(M.split(e)),y(),c)return g()}else h(M.split(e));if(a&&E>=a)return w=w.slice(0,a),g(!0)}}return g()}for(var C=t.indexOf(e,u),S=t.indexOf(n,u),N=new RegExp(s+s,"g");;)if(t[u]!==s)if(r&&0===M.length&&t.substr(u,x)===r){if(-1===S)return g();u=S+b,S=t.indexOf(n,u),C=t.indexOf(e,u)}else if(-1!==C&&(C<S||-1===S))M.push(t.substring(u,C)),u=C+m,C=t.indexOf(e,u);else{if(-1===S)break;if(M.push(t.substring(u,S)),p(S+b),_&&(y(),c))return g();if(a&&w.length>=a)return g(!0)}else{var R=u;for(u++;;){var R=t.indexOf(s,R+1);if(-1===R)return f||k.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:w.length,index:u}),d();if(R===v-1){var P=t.substring(u,R).replace(N,s);return d(P)}if(t[R+1]!==s){if(t[R+1]===e){M.push(t.substring(u,R).replace(N,s)),u=R+1+m,C=t.indexOf(e,u),S=t.indexOf(n,u);break}if(t.substr(R+1,b)===n){if(M.push(t.substring(u,R).replace(N,s)),p(R+1+b),C=t.indexOf(e,u),_&&(y(),c))return g();if(a&&w.length>=a)return g(!0);break}}else R++}}return d()},this.abort=function(){c=!0},this.getCharIndex=function(){return u}}function s(t){var e=t.data,n=m[e.workerId],r=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var i={abort:function(){r=!0,u(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:c,resume:c};if(h(n.userStep)){for(var a=0;a<e.results.data.length&&(n.userStep({data:[e.results.data[a]],errors:e.results.errors,meta:e.results.meta},i),!r);a++);delete e.results}else h(n.userChunk)&&(n.userChunk(e.results,i,e.file),delete e.results)}e.finished&&!r&&u(e.workerId,e.results)}function u(t,e){var n=m[t];h(n.userComplete)&&n.userComplete(e),n.terminate(),delete m[t]}function c(){throw"Not implemented."}function l(t){if("object"!=typeof t)return t;var e=t instanceof Array?[]:{};for(var n in t)e[n]=l(t[n]);return e}function f(t,e){return function(){t.apply(e,arguments)}}function h(t){return"function"==typeof t}var d,p="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==p?p:{},g=!p.document&&!!p.postMessage,y=g&&/(\?|&)papaworker(=|&|$)/.test(p.location.search),v=!1,m={},b=0,x={};if(x.parse=function(t,a){if((a=a||{}).dynamicTyping=a.dynamicTyping||!1,a.worker&&x.WORKERS_SUPPORTED){var o=function(){if(!x.WORKERS_SUPPORTED)return!1;if(!v&&null===x.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var t=x.SCRIPT_PATH||d;t+=(-1!==t.indexOf("?")?"&":"?")+"papaworker";var e=new p.Worker(t);return e.onmessage=s,e.id=b++,m[e.id]=e,e}();return o.userStep=a.step,o.userChunk=a.chunk,o.userComplete=a.complete,o.userError=a.error,a.step=h(a.step),a.chunk=h(a.chunk),a.complete=h(a.complete),a.error=h(a.error),delete a.worker,void o.postMessage({input:t,config:a,workerId:o.id})}var u=null;return"string"==typeof t?u=a.download?new e(a):new r(a):!0===t.readable&&"function"==typeof t.read&&"function"==typeof t.on?u=new i(a):(p.File&&t instanceof File||t instanceof Object)&&(u=new n(a)),u.stream(t)},x.unparse=function(t,e){function n(t){if("object"!=typeof t)return[];var e=[];for(var n in t)e.push(n);return e}function r(t,e){var n="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var r=t instanceof Array&&t.length>0,a=!(e[0]instanceof Array);if(r&&o){for(var c=0;c<t.length;c++)c>0&&(n+=s),n+=i(t[c],c);e.length>0&&(n+=u)}for(var l=0;l<e.length;l++){for(var f=r?t.length:e[l].length,h=0;h<f;h++){h>0&&(n+=s);var d=r&&a?t[h]:h;n+=i(e[l][d],h)}l<e.length-1&&(n+=u)}return n}function i(t,e){if(null==t)return"";t=t.toString().replace(l,c+c);var n="boolean"==typeof a&&a||a instanceof Array&&a[e]||function(t,e){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return!0;return!1}(t,x.BAD_DELIMITERS)||t.indexOf(s)>-1||" "===t.charAt(0)||" "===t.charAt(t.length-1);return n?c+t+c:t}var a=!1,o=!0,s=",",u="\r\n",c='"';"object"==typeof e&&("string"==typeof e.delimiter&&1===e.delimiter.length&&-1===x.BAD_DELIMITERS.indexOf(e.delimiter)&&(s=e.delimiter),("boolean"==typeof e.quotes||e.quotes instanceof Array)&&(a=e.quotes),"string"==typeof e.newline&&(u=e.newline),"string"==typeof e.quoteChar&&(c=e.quoteChar),"boolean"==typeof e.header&&(o=e.header));var l=new RegExp(c,"g");if("string"==typeof t&&(t=JSON.parse(t)),t instanceof Array){if(!t.length||t[0]instanceof Array)return r(null,t);if("object"==typeof t[0])return r(n(t[0]),t)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),t.data instanceof Array&&(t.fields||(t.fields=t.meta&&t.meta.fields),t.fields||(t.fields=t.data[0]instanceof Array?t.fields:n(t.data[0])),t.data[0]instanceof Array||"object"==typeof t.data[0]||(t.data=[t.data])),r(t.fields||[],t.data||[]);throw"exception: Unable to serialize unrecognized input"},x.RECORD_SEP=String.fromCharCode(30),x.UNIT_SEP=String.fromCharCode(31),x.BYTE_ORDER_MARK="\ufeff",x.BAD_DELIMITERS=["\r","\n",'"',x.BYTE_ORDER_MARK],x.WORKERS_SUPPORTED=!g&&!!p.Worker,x.SCRIPT_PATH=null,x.LocalChunkSize=10485760,x.RemoteChunkSize=5242880,x.DefaultDelimiter=",",x.Parser=o,x.ParserHandle=a,x.NetworkStreamer=e,x.FileStreamer=n,x.StringStreamer=r,x.ReadableStreamStreamer=i,p.jQuery){var _=p.jQuery;_.fn.parse=function(t){function e(){if(0!==i.length){var e=i[0];if(h(t.before)){var r=t.before(e.file,e.inputElem);if("object"==typeof r){if("abort"===r.action)return void function(e,n,r,i){h(t.error)&&t.error({name:e},n,r,i)}("AbortError",e.file,e.inputElem,r.reason);if("skip"===r.action)return void n();"object"==typeof r.config&&(e.instanceConfig=_.extend(e.instanceConfig,r.config))}else if("skip"===r)return void n()}var a=e.instanceConfig.complete;e.instanceConfig.complete=function(t){h(a)&&a(t,e.file,e.inputElem),n()},x.parse(e.file,e.instanceConfig)}else h(t.complete)&&t.complete()}function n(){i.splice(0,1),e()}var r=t.config||{},i=[];return this.each(function(t){var e="INPUT"===_(this).prop("tagName").toUpperCase()&&"file"===_(this).attr("type").toLowerCase()&&p.FileReader;if(!e||!this.files||0===this.files.length)return!0;for(var n=0;n<this.files.length;n++)i.push({file:this.files[n],inputElem:this,instanceConfig:_.extend({},r)})}),e(),this}}return y?p.onmessage=function(t){var e=t.data;if(void 0===x.WORKER_ID&&e&&(x.WORKER_ID=e.workerId),"string"==typeof e.input)p.postMessage({workerId:x.WORKER_ID,results:x.parse(e.input,e.config),finished:!0});else if(p.File&&e.input instanceof File||e.input instanceof Object){var n=x.parse(e.input,e.config);n&&p.postMessage({workerId:x.WORKER_ID,results:n,finished:!0})}}:x.WORKERS_SUPPORTED&&(d=function(){var t=document.getElementsByTagName("script");return t.length?t[t.length-1].src:""}(),document.body?document.addEventListener("DOMContentLoaded",function(){v=!0},!0):v=!0),e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n.prototype=Object.create(t.prototype),n.prototype.constructor=n,r.prototype=Object.create(r.prototype),r.prototype.constructor=r,i.prototype=Object.create(t.prototype),i.prototype.constructor=i,x}()}(this),function(t){var e={},n={};e.render=function(t,e){var n,r={};if("object"==typeof t)return"rgb"===e&&(n=["R","G","B","RGB"]),"hsv"===e&&(n=["H","S","V","HSV"]),"hsl"===e&&(n=["H","S","L","HSL"]),r[n[0]]=t[0],r[n[1]]=t[1],r[n[2]]=t[2],r[n[3]]=t[0]+" "+t[1]+" "+t[2],r.a=t,r},e.paddedHex=function(t){return 1===(t=(10>t?"0":"")+t.toString(16)).length?"0"+t:t},Number.prototype.round=function(t){return parseFloat(this.toFixed(t||10))},n.rgb2hex=function(t,n,r){return"#"+(t=e.paddedHex(t))+(n=void 0!==n?e.paddedHex(n):t)+(r=void 0!==r?e.paddedHex(r):t)},n.hex2rgb=function(t){return 6===(t=t.replace("#","")).length?e.render([parseInt(t.substr(0,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(4,2),16)],"rgb"):parseInt(t,16)},n.hex2hsv=function(t){t="#"==t.charAt(0)?t.substring(1,7):t;var n=parseInt(t.substring(0,2),16)/255,r=parseInt(t.substring(2,4),16)/255;t=parseInt(t.substring(4,6),16)/255;var i,a,o=0,s=0,u=(s=Math.min(n,r,t),Math.max(n,r,t)),c=u-s,l=u;return 0===c?s=o=0:(s=c/u,i=((u-n)/6+c/2)/c,a=((u-r)/6+c/2)/c,c=((u-t)/6+c/2)/c,n==u?o=c-a:r==u?o=1/3+i-c:t==u&&(o=2/3+a-i),0>o&&(o+=1),1<o&&(o-=1)),e.render([Math.round(360*o),Math.round(100*s),Math.round(100*l)],"hsv")},n.hsv2rgb=function(t,n,r){var i,a,o,s=[];switch("object"==typeof t?(i=t[0],n=t[1],t=t[2]):(i=t,t=r),n/=100,t/=100,a=i/60-(r=Math.floor(i/60%6)),i=t*(1-n),o=t*(1-a*n),n=t*(1-(1-a)*n),r){case 0:s=[t,n,i];break;case 1:s=[o,t,i];break;case 2:s=[i,t,n];break;case 3:s=[i,o,t];break;case 4:s=[n,i,t];break;case 5:s=[t,i,o]}return e.render([Math.min(255,Math.floor(256*s[0])),Math.min(255,Math.floor(256*s[1])),Math.min(255,Math.floor(256*s[2]))],"rgb")},n.rgb2hsl=function(t,n,r){var i,a,o,s,u;if("object"==typeof t?(i=t[0],n=t[1],t=t[2]):(i=t,t=r),i/=255,n/=255,t/=255,s=((r=Math.max(i,n,t))+(a=Math.min(i,n,t)))/2,r==a)o=a=0;else{switch(u=r-a,a=.5<s?u/(2-r-a):u/(r+a),r){case i:o=(n-t)/u+(n<t?6:0);break;case n:o=(t-i)/u+2;break;case t:o=(i-n)/u+4}o/=6}return e.render([Math.floor(360*o),(100*a).round(1),(100*s).round(1)],"hsl")},n.hsv2hsl=function(t,n,r){var i,a,o,s,u,c;return"object"==typeof t?(i=t[0],a=t[1],o=t[2]):(i=t,a=n,o=r),i=(o=this.hsv2rgb(i,a,o)).R/255,a=o.G/255,s=o.B/255,o=((u=Math.max(i,a,s))+(c=Math.min(i,a,s)))/2,u!=c&&(n=.5>o?(u-c)/(u+c):(u-c)/(2-u-c),t=i==u?(a-s)/(u-c):a==u?2+(s-i)/(u-c):4+(i-a)/(u-c)),e.render([Math.floor(t),Math.floor(n),Math.floor(r)],"hsl")},n.name2hex=function(t){return void 0===(t={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}[t=t.toLowerCase()])?"Invalid Color Name":t},n.name2rgb=function(t){return t=this.name2hex(t),/^[a-fA-F0-9#]{7}$/.test(t)?this.hex2rgb(t):e.render(["Invalid Color Name","Invalid Color Name","Invalid Color Name"],"rgb")},n.name2hsv=function(t){return t=this.name2hex(t),/^[a-fA-F0-9#]{7}$/.test(t)?this.hex2hsv(t):e.render(["Invalid Color Name","Invalid Color Name","Invalid Color Name"],"hsv")},n.complement=function(t,n,r){var i;return"string"==typeof t&&/(#([A-Fa-f0-9]){3}(([A-Fa-f0-9]){3})?)/.test(t)?(n="#",6===(t=t.replace("#","")).length&&(n+=e.paddedHex(255-this.hex2rgb(t.substr(0,2))),n+=e.paddedHex(255-this.hex2rgb(t.substr(2,2))),n+=e.paddedHex(255-this.hex2rgb(t.substr(4,2)))),3===t.length&&(n+=e.paddedHex(255-this.hex2rgb(t.substr(0,1)+t.substr(0,1))),n+=e.paddedHex(255-this.hex2rgb(t.substr(1,1)+t.substr(1,1))),n+=e.paddedHex(255-this.hex2rgb(t.substr(2,1)+t.substr(2,1)))),n):(void 0!==t&&void 0!==n&&void 0!==r&&(i=[255-t,255-n,255-r]),"object"==typeof t&&(i=[255-t[0],255-t[1],255-t[2]]),e.render(i,"rgb"))},n.rand=function(t){var n,r;if("hex"===t||void 0===t){for(t="",r=0;6>r;r++)n=Math.floor(16*Math.random()),t+="0123456789abcdef".substring(n,n+1);return"#"+t}if("rgb"==t)return t=Math.floor(-254*Math.random()+255),n=Math.floor(-254*Math.random()+255),r=Math.floor(-254*Math.random()+255),e.render([t,n,r],"rgb")},t.Colors=t.$c=n}(window),function(t){if(define=void 0,module=void 0,exports=void 0,"object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;(e=(e=(e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).d3||(e.d3={})).layout||(e.layout={})).cloud=t()}}(function(){return function t(e,n,r){function i(o,s){if(!n[o]){if(!e[o]){var u="function"==typeof require&&require;if(!s&&u)return u(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[o]={exports:{}};e[o][0].call(l.exports,function(t){return i(e[o][1][t]||t)},l,l.exports,t,e,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(t,e,n){var r=t("d3-dispatch").dispatch,i=Math.PI/180,a=64,o=2048;function s(t){return t.text}function u(){return"serif"}function c(){return"normal"}function l(t){return Math.sqrt(t.value)}function f(){return 30*(~~(6*Math.random())-3)}function h(){return 1}function d(t,e,n,r){if(!e.sprite){var s=t.context,u=t.ratio;s.clearRect(0,0,(a<<5)/u,o/u);var c=0,l=0,f=0,h=n.length;for(--r;++r<h;){e=n[r],s.save(),s.font=e.style+" "+e.weight+" "+~~((e.size+1)/u)+"px "+e.font;var d=s.measureText(e.text+"m").width*u,p=e.size<<1;if(e.rotate){var g=Math.sin(e.rotate*i),y=Math.cos(e.rotate*i),v=d*y,m=d*g,b=p*y,x=p*g;d=Math.max(Math.abs(v+x),Math.abs(v-x))+31>>5<<5,p=~~Math.max(Math.abs(m+b),Math.abs(m-b))}else d=d+31>>5<<5;if(p>f&&(f=p),c+d>=a<<5&&(c=0,l+=f,f=0),l+p>=o)break;s.translate((c+(d>>1))/u,(l+(p>>1))/u),e.rotate&&s.rotate(e.rotate*i),s.fillText(e.text,0,0),e.padding&&(s.lineWidth=2*e.padding,s.strokeText(e.text,0,0)),s.restore(),e.width=d,e.height=p,e.xoff=c,e.yoff=l,e.x1=d>>1,e.y1=p>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,c+=d}for(var _=s.getImageData(0,0,(a<<5)/u,o/u).data,w=[];--r>=0;)if((e=n[r]).hasText){for(var k=(d=e.width)>>5,M=(p=e.y1-e.y0,0);M<p*k;M++)w[M]=0;if(null==(c=e.xoff))return;l=e.yoff;for(var A=0,T=-1,E=0;E<p;E++){for(M=0;M<d;M++){var C=k*E+(M>>5),S=_[(l+E)*(a<<5)+(c+M)<<2]?1<<31-M%32:0;w[C]|=S,A|=S}A?T=E:(e.y0++,p--,E--,l++)}e.y1=e.y0+T,e.sprite=w.slice(0,(e.y1-e.y0)*k)}}}function p(t,e,n){n>>=5;for(var r,i=t.sprite,a=t.width>>5,o=t.x-(a<<4),s=127&o,u=32-s,c=t.y1-t.y0,l=(t.y+t.y0)*n+(o>>5),f=0;f<c;f++){r=0;for(var h=0;h<=a;h++)if((r<<u|(h<a?(r=i[f*a+h])>>>s:0))&e[l+h])return!0;l+=n}return!1}function g(t,e){var n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}function y(t){var e=t[0]/t[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function v(){return document.createElement("canvas")}function m(t){return"function"==typeof t?t:function(){return t}}e.exports=function(){var t=[256,256],e=s,n=u,i=l,x=c,_=c,w=f,k=h,M=y,A=[],T=1/0,E=r("word","end"),C=null,S=Math.random,N={},R=v;function P(e,n,r){t[0],t[1];for(var i,a,o,s,u,c=n.x,l=n.y,f=Math.sqrt(t[0]*t[0]+t[1]*t[1]),h=M(t),d=S()<.5?1:-1,g=-d;(i=h(g+=d))&&(a=~~i[0],o=~~i[1],!(Math.min(Math.abs(a),Math.abs(o))>=f));)if(n.x=c+a,n.y=l+o,!(n.x+n.x0<0||n.y+n.y0<0||n.x+n.x1>t[0]||n.y+n.y1>t[1]||r&&p(n,e,t[0])||r&&(u=r,!((s=n).x+s.x1>u[0].x&&s.x+s.x0<u[1].x&&s.y+s.y1>u[0].y&&s.y+s.y0<u[1].y)))){for(var y,v=n.sprite,m=n.width>>5,b=t[0]>>5,x=n.x-(m<<4),_=127&x,w=32-_,k=n.y1-n.y0,A=(n.y+n.y0)*b+(x>>5),T=0;T<k;T++){y=0;for(var E=0;E<=m;E++)e[A+E]|=y<<w|(E<m?(y=v[T*m+E])>>>_:0);A+=b}return delete n.sprite,!0}return!1}return N.canvas=function(t){return arguments.length?(R=m(t),N):R},N.start=function(){var r=function(t){t.width=t.height=1;var e=Math.sqrt(t.getContext("2d").getImageData(0,0,1,1).data.length>>2);t.width=(a<<5)/e,t.height=o/e;var n=t.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:e}}(R()),s=function(t){for(var e=[],n=-1;++n<t;)e[n]=0;return e}((t[0]>>5)*t[1]),u=null,c=A.length,l=-1,f=[],h=A.map(function(t,r){return t.text=e.call(this,t,r),t.font=n.call(this,t,r),t.style=x.call(this,t,r),t.weight=_.call(this,t,r),t.rotate=w.call(this,t,r),t.size=~~i.call(this,t,r),t.padding=k.call(this,t,r),t}).sort(function(t,e){return e.size-t.size});return C&&clearInterval(C),C=setInterval(p,0),p(),N;function p(){for(var e=Date.now();Date.now()-e<T&&++l<c&&C;){var n=h[l];n.x=t[0]*(S()+.5)>>1,n.y=t[1]*(S()+.5)>>1,d(r,n,h,l),n.hasText&&P(s,n,u)&&(f.push(n),E.word(n),u?g(u,n):u=[{x:n.x+n.x0,y:n.y+n.y0},{x:n.x+n.x1,y:n.y+n.y1}],n.x-=t[0]>>1,n.y-=t[1]>>1)}l>=c&&(N.stop(),E.end(f,u))}},N.stop=function(){return C&&(clearInterval(C),C=null),N},N.timeInterval=function(t){return arguments.length?(T=null==t?1/0:t,N):T},N.words=function(t){return arguments.length?(A=t,N):A},N.size=function(e){return arguments.length?(t=[+e[0],+e[1]],N):t},N.font=function(t){return arguments.length?(n=m(t),N):n},N.fontStyle=function(t){return arguments.length?(x=m(t),N):x},N.fontWeight=function(t){return arguments.length?(_=m(t),N):_},N.rotate=function(t){return arguments.length?(w=m(t),N):w},N.text=function(t){return arguments.length?(e=m(t),N):e},N.spiral=function(t){return arguments.length?(M=b[t]||t,N):M},N.fontSize=function(t){return arguments.length?(i=m(t),N):i},N.padding=function(t){return arguments.length?(k=m(t),N):k},N.random=function(t){return arguments.length?(S=t,N):S},N.on=function(){var t=E.on.apply(E,arguments);return t===E?N:t},N};var b={archimedean:y,rectangular:function(t){var e=4*t[0]/t[1],n=0,r=0;return function(t){var i=t<0?-1:1;switch(Math.sqrt(1+4*i*t)-i&3){case 0:n+=e;break;case 1:r+=4;break;case 2:n-=e;break;default:r-=4}return[n,r]}}}},{"d3-dispatch":2}],2:[function(t,e,n){(function(t){"use strict";function e(t){var e,n=-1,r=t.length,i={},a={},o=this;for(o.on=function(t,e){if(t=function(t){var e=(t+="").indexOf("."),n=t;if(e>=0?t=t.slice(0,e):n+=".",t&&!i.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}(t),arguments.length<2)return(e=a[t.name])&&e.value;if(t.type){var n=i[t.type],r=a[t.name];r&&(r.value=null,u=n.indexOf(r),i[t.type]=n=n.slice(0,u).concat(n.slice(u+1)),delete a[t.name]),e&&(e={value:e},a[t.name]=e,n.push(e))}else if(null==e)for(var s in i)if(e=a[s+t.name]){e.value=null;var u=(n=i[s]).indexOf(e);i[s]=n.slice(0,u).concat(n.slice(u+1)),delete a[e.name]}return o};++n<r;){if(!(e=t[n]+"")||e in o)throw new Error("illegal or duplicate type: "+e);i[e]=[],o[e]=s(e)}function s(t){return function(){for(var e,n=i[t],r=-1,a=n.length;++r<a;)(e=n[r].value)&&e.apply(this,arguments);return o}}}function n(){return new e(arguments)}n.prototype=e.prototype,t.dispatch=n})("object"==typeof n&&void 0!==e?n:this.dispatch={})},{}]},{},[1])(1)}),d3.functor=function(t){return"function"==typeof t?t:function(){return t}},d3.tip=function(t){var e=function(){return"n"},n=function(){return[0,0]},r=function(){return" "},i=f(),a=null,o=null,s=null;function u(t){var e;a="svg"===(e=(e=t).node()).tagName.toLowerCase()?e:e.ownerSVGElement,o=a.createSVGPoint(),document.body.appendChild(i);var n="."+d3.select(i).attr("class");$("body").append("<style> "+n+':after {box-sizing:border-box;display:inline;font-size:10px;width:100%;line-height:1;color:rgba(0,0,0,0.8);content: "";position:absolute;text-align:center;} </style>'),$("body").append("<style> "+n+".n:after {margin:-2px 0 0 0;top:100%;left:0;} </style>")}u.show=function(){var t=Array.prototype.slice.call(arguments);t[t.length-1]instanceof SVGElement&&(s=t.pop());var i,a=r.apply(this,t),o=n.apply(this,t),f=e.apply(this,t),d=h(),p=l.length,g=document.documentElement.scrollTop||document.body.scrollTop,y=document.documentElement.scrollLeft||document.body.scrollLeft;for(d.html(a).style("position","absolute").style("opacity",1).style("pointer-events","none").style("line-height","1").style("padding","6px").style("background","rgba(0, 0, 0, 0.8)").style("color","#fff").style("border-radius","4px").style("font-size","12px");p--;)d.classed(l[p],!1);return i=c[f].apply(this),d.classed(f,!0).style("top",i.top+o[0]+g+"px").style("left",i.left+o[1]+y+"px"),u},u.hide=function(){return h().style("opacity",0).style("pointer-events","none"),u},u.attr=function(t,e){if(arguments.length<2&&"string"==typeof t)return h().attr(t);var n=Array.prototype.slice.call(arguments);return d3.selection.prototype.attr.apply(h(),n),u},u.style=function(t,e){if(arguments.length<2&&"string"==typeof t)return h().style(t);var n=Array.prototype.slice.call(arguments);if(1===n.length){var r=n[0];Object.keys(r).forEach(function(t){return d3.selection.prototype.style.apply(h(),[t,r[t]])})}return u},u.direction=function(t){return arguments.length?(e=null==t?t:d3.functor(t),u):e},u.offset=function(t){return arguments.length?(n=null==t?t:d3.functor(t),u):n},u.html=function(t){return arguments.length?(r=null==t?t:d3.functor(t),u):r},u.destroy=function(){return i&&(h().remove(),i=null),u};var c={n:function(){var t=d();return{top:t.n.y-i.offsetHeight,left:t.n.x-i.offsetWidth/2}},s:function(){var t=d();return{top:t.s.y,left:t.s.x-i.offsetWidth/2}},e:function(){var t=d();return{top:t.e.y-i.offsetHeight/2,left:t.e.x}},w:function(){var t=d();return{top:t.w.y-i.offsetHeight/2,left:t.w.x-i.offsetWidth}},nw:function(){var t=d();return{top:t.nw.y-i.offsetHeight,left:t.nw.x-i.offsetWidth}},ne:function(){var t=d();return{top:t.ne.y-i.offsetHeight,left:t.ne.x}},sw:function(){var t=d();return{top:t.sw.y,left:t.sw.x-i.offsetWidth}},se:function(){var t=d();return{top:t.se.y,left:t.e.x}}},l=Object.keys(c);function f(){var t=d3.select(document.createElement("div"));return t.style("position","absolute").style("top",0).style("opacity",0).style("pointer-events","none").style("box-sizing","border-box"),t.node()}function h(){return null===i&&(i=f(),document.body.appendChild(i)),d3.select(i)}function d(){for(var e=s||d3.event.target;void 0===e.getScreenCTM&&"undefined"===e.parentNode;)e=e.parentNode;if("map"==t){var n=d3.select(e).attr("id").split("-");e=d3.select("#"+n[0]+"-text-"+n[n.length-1]).node()}var r={},i=e.getScreenCTM(),a=e.getBBox(),u=a.width,c=a.height,l=a.x,f=a.y;return o.x=l,o.y=f,r.nw=o.matrixTransform(i),o.x+=u,r.ne=o.matrixTransform(i),o.y+=c,r.se=o.matrixTransform(i),o.x-=u,r.sw=o.matrixTransform(i),o.y-=c/2,r.w=o.matrixTransform(i),o.x+=u,r.e=o.matrixTransform(i),o.x-=u/2,o.y-=c/2,r.n=o.matrixTransform(i),o.y+=c,r.s=o.matrixTransform(i),r}return u},function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("d3-selection"),require("d3-transition")):"function"==typeof define&&define.amd?define(["d3-selection","d3-transition"],e):e(t.d3,t.d3)}(this,function(t,e){"use strict";t.selection.prototype.attrs=function(e){return("function"==typeof e?function(e,n){return e.each(function(){var e=n.apply(this,arguments),r=t.select(this);for(var i in e)r.attr(i,e[i])})}:function(t,e){for(var n in e)t.attr(n,e[n]);return t})(this,e)},t.selection.prototype.styles=function(e,n){return("function"==typeof e?function(e,n,r){return e.each(function(){var e=n.apply(this,arguments),i=t.select(this);for(var a in e)i.style(a,e[a],r)})}:function(t,e,n){for(var r in e)t.style(r,e[r],n);return t})(this,e,null==n?"":n)},t.selection.prototype.properties=function(e){return("function"==typeof e?function(e,n){return e.each(function(){var e=n.apply(this,arguments),r=t.select(this);for(var i in e)r.property(i,e[i])})}:function(t,e){for(var n in e)t.property(n,e[n]);return t})(this,e)},e.transition.prototype.attrs=function(e){return("function"==typeof e?function(e,n){return e.each(function(){var r=n.apply(this,arguments),i=t.select(this).transition(e);for(var a in r)i.attr(a,r[a])})}:function(t,e){for(var n in e)t.attr(n,e[n]);return t})(this,e)},e.transition.prototype.styles=function(e,n){return("function"==typeof e?function(e,n,r){return e.each(function(){var i=n.apply(this,arguments),a=t.select(this).transition(e);for(var o in i)a.style(o,i[o],r)})}:function(t,e,n){for(var r in e)t.style(r,e[r],n);return t})(this,e,null==n?"":n)}}),Number.prototype.format=function(){if(0==this)return 0;for(var t=/(^[+-]?\d+)(\d{3})/,e=this+"";t.test(e);)e=e.replace(t,"$1,$2");return e},String.prototype.format=function(){var t=parseFloat(this);return isNaN(t)?"0":t.format()},Number.prototype.isInteger=function(){return(0^this)==+this},function(){var t=function(){var t=this;this.init=function(e,n,r){if(this.element=e,t.element=e,this.options=n,t.options=n,this.config=r,t.config=r,n.width_old=null==n.width?"100%":n.width,n.height_old=null==n.height?"100%":n.height,n.width&&n.width.toString().indexOf("%")>0){var i=$(e.selector).width();i=0==(i=0==i?$(window).width():i)?$(window).attr("screen").width:i;var a=Number(n.width.replace("%",""));n.width=i*(a/100)}if(n.height&&n.height.toString().indexOf("%")>0){var o=$(e.selector).height();o=0==(o=0==o?$(window).height():o)?$(window).attr("screen").height:o;a=Number(n.height.replace("%",""));n.height=o*(a/100)}if(n.width=n.width?Number(n.width):$(e.selector).width(),n.height=n.height?Number(n.height):$(e.selector).height(),n.width=0==n.width?$(window).width():n.width,n.width=0==n.width?$(window).attr("screen").width:n.width,n.height=0==n.height?$(window).height():n.height,n.height=0==n.height?$(window).attr("screen").height:n.height,n.type!=r.CHART_TYPE_CLOUD&&(n.fontColor=n.fontColor?n.fontColor:"#343434"),n.dataCsv||n.dataRand||n.dataUrl);else if(n.data&&n.dataType)switch(n.dataType){case r.DATA_TYPE_JSON:n.data=n.data,n.dataCsv=null,n.dataRand=null;break;case r.DATA_TYPE_CSV:n.dataCsv=n.data,n.data=null,n.dataRand=null;break;case r.DATA_TYPE_RAND:n.dataRand=n.data,n.data=null,n.dataCsv=null}},this.resize=function(){var t=this.options,e=this.element;if(t.width_old&&t.width_old.toString().indexOf("%")>0){var n=$(e.selector).width();n=0==(n=0==n?$(window).width():n)?$(window).attr("screen").width:n;var r=Number(t.width_old.replace("%",""));t.width=n*(r/100)}if(t.height_old&&t.height_old.toString().indexOf("%")>0){var i=$(e.selector).height();i=0==(i=0==i?$(window).height():i)?$(window).attr("screen").height:i;r=Number(t.height_old.replace("%",""));t.height=i*(r/100)}},this.setColors=function(){var t=this.options;if(t.color)if($.isArray(this.options.color))t.color=d3.scaleOrdinal().range(t.color);else{var e=d3.keys(this.options.color),n=d3.values(this.options.color);this.options.color=d3.scaleOrdinal().domain(e).range(n)}else t.color=t.color?t.color:d3.scaleOrdinal().range(["#aec7e8","#b5cf6b","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"])},this.defaultStyle=function(){var t=this.options,e=(this.element,this.config);switch(t.type){case e.CHART_TYPE_LINE:}},this.render=function(){var t=this.options,e=this.element,n=this.config;d3.select(e.selector).select("svg").remove(),t.type!=n.CHART_TYPE_TABLE&&t.type!=n.CHART_TYPE_RAPID_TABLE&&t.type!=n.CHART_TYPE_TREEMAP&&t.type!=n.CHART_TYPE_GEO_MAP&&t.type!=n.CHART_TYPE_MAP&&(this.svg=d3.select(e.selector).append("svg:svg").attr("width",t.width).attr("height",t.height).style("background-color",t.backgroundColor).style("overflow","hidden").append("g")),this.setOptions(),this.options.dataUrl?this.ajax(this.options.dataUrl,this.options.dataParams,this.setData):this.draw(),"horizontal"==t.legend.type&&this.horizontalLegend()},this.setOptions=function(){var t=this.options,e=t.margin,n=t.width-e.left-e.right,r=t.height-e.top-e.bottom;if(t.axis.inner){var i={x:t.y.x?t.y.x:5,y:t.y.y?t.y.y:0,align:t.y.align?t.y.align:"start",usePath:null==t.y.usePath||t.y.usePath};if(t.y.grid)"undefined"!=t.y.grid.dash&&null!=t.y.grid.dash&&t.y.grid.dash,"undefined"!=t.y.grid.height&&null!=t.y.grid.height&&t.y.grid.height,"undefined"!=t.y.grid.width&&null!=t.y.grid.width&&t.y.grid.width;$.extend(!0,t.y,i)}"quad_scatter"==t.type&&(t.y.grid||(t.y.grid={},t.y.grid.width=0)),"bubble"!=t.type&&(t.axis.text.style.fill=t.axis.text.style.fill?t.axis.text.style.fill:"#545454",t.axis.text.style["font-size"]=t.axis.text.style["font-size"]?t.axis.text.style["font-size"]:"12px")},this.afterCall=function(){this.options.afterCall()},this.setData=function(t){if("string"==typeof t&&(t=$.parseJSON(t)),this.options.dataType)switch(this.options.dataType){case config.DATA_TYPE_JSON:this.options.data=t,this.options.dataCsv=null,this.options.dataRand=null;break;case config.DATA_TYPE_CSV:this.options.dataCsv=t,this.options.data=null,this.options.dataRand=null;break;case config.DATA_TYPE_RAND:this.options.dataRand=t,this.options.data=null,this.options.dataCsv=null}else this.options.data=t;this.draw()},this.ajax=function(t,e,n,r,i,a){if($.support.cors=!0,t){var o=this;$.ajax({url:t,crossDomain:!0,global:!1,type:a,data:e,dataType:"json",async:!0,cache:!1,success:function(t,e,r,a){n&&n.call(o,t,i)},error:function(i,a,o){$.getJSON(t,e).done(function(t){n(t)}).fail(function(t,e,n){r&&r(t,e,n)})}})}},this.click=function(t){this.options.click&&this.options.click(t)},this.digits=function(t){return-1!=t.toString().indexOf(".")?Number(t):t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},this.parseCSV=function(t){if(this.options.dataCsv){var e=$.trim(this.options.dataCsv),n=Papa.parse(e,{header:!0,skipEmptyLines:!0}).data;for(var r in n)n[r].value&&(n[r].value=Number(n[r].value));this.options.dataCsv=null,this.options.data=n}},this.parseJSON=function(){if(this.options.data){var t=this.options.data;for(var e in t)t[e].value&&(t[e].value=Number(t[e].value))}if(this.options.data&&this.options.dataKeys){var n=d3.keys(this.options.dataKeys),r=d3.values(this.options.dataKeys);if($.isArray(t))!function t(e){for(var i in e){var a=e[i],o=d3.keys(a),s=d3.values(a);for(var u in n){for(var c in o)if(r[u]==o[c]){e[i][n[u]]=e[i][o[c]],e[i].value&&(e[i].value=Number(e[i].value));break}$.isArray(s[u])&&t(s[u])}e[i].value&&(e[i].value=Number(e[i].value))}}(t);else for(var i in t){for(var a in n)if(i==r[a]){t[n[a]]=t[r[a]];break}var o=t[i];$.isArray(o)&&s(o)}this.options.data=t}function s(t){for(var e in t){var i=t[e],a=d3.keys(i),o=d3.values(i);for(var u in n)for(var c in a){if(r[u]==a[c]){t[e][n[u]]=t[e][a[c]];break}$.isArray(o[c])&&s(o[c])}t[e].value&&(t[e].value=Number(t[e].value))}}},this.parseHierarchyJson=function(){var t=this.options.data;if(0==d3.keys(t[0]).filter(function(t){if("parent"==t)return!0}).length)return t;d3.map();var e=t[0];for(var n in e.children=[],t){var r=t[n];e.id==r.parent?e.children.push(r):i(r,e.children)}function i(t,e){for(var n in e){var r=e[n];r.id==t.parent?r.children?r.children.push(t):r.children=[t]:i(t,r.children)}}return e},this.isInt=function(t){return Number(t)===t&&t%1==0},this.isNull=function(t){return!(!isNaN(t)&&""!=t&&null!=t&&null!=t&&(null==t||"object"!=typeof t||Object.keys(t).length))},this.sort=function(t,e){return t.value>e.value?-1:t.value<e.value?1:0},this.lineType=function(t){var e=d3.curveCardinal;switch(t){case"basis":e=d3.curveBasis;break;case"basis-closed":e=d3.curveBasisClosed;break;case"basis-open":e=d3.curveBasisOpen;break;case"bundle":e=d3.curveBundle;break;case"cardinal-closed":e=d3.curveCardinalClosed;break;case"cardinal-open":e=d3.curveCardinalOpen;break;case"catmull-rom":e=d3.curveCatmullRom;break;case"catmull-rom-closed":e=d3.curveCatmullRomClosed;break;case"catmull-rom-open":e=d3.curveCatmullRomOpen;break;case"linear":e=d3.curveLinear;break;case"linear-closed":e=d3.curveLinearClosed;break;case"monotonex":e=d3.curveMonotoneX;break;case"monotoney":e=d3.curveMonotoneY;break;case"natural":e=d3.curveNatural;break;case"step":e=d3.curveStep;break;case"step-after":e=d3.curveStepAfter;break;case"step-before":e=d3.curveStepBefore}return e},this.drawAxis=function(t,e,n,r){var i=this.options,a=i.margin,o=(i.type,i.width-a.left-a.right),s=i.height-a.top-a.bottom,u=d3.scaleBand();switch(i.type){case"scatter":case"quad_scatter":u=d3.scaleLinear()}u.domain(e).range([i.x.padding,o-i.x.padding]);var c=d3.scaleLinear().range([s,0]);"%"==this.options.tickSuffix?d.domain([0,100]):c.domain(n).nice();var l=d3.axisBottom(u),f=d3.axisLeft(c);i.x.tickSkip&&l.tickValues(u.domain().filter(function(t,e){return!(e%i.x.tickSkip)})),i.y.ticks&&f.ticks(i.y.ticks);var h=this.svg.append("g").attr("class","x axis").attr("transform","translate(0, "+s+")").attr("y",10).call(l),d=this.svg.append("g").attr("class","y axis").attr("x",-10).call(f);this.xScale=u,this.yScale=c,this.xAxis=l,this.yAxis=f,this.x=h,this.y=d},this.styleAxis=function(t,e,n,r){var i=this,a=this.options,o=a.margin,s=(a.type,a.width-o.left-o.right),u=a.height-o.top-o.bottom,c=this.svg.select(".x"),l=this.svg.select(".y");if(a.x&&a.x.grid){var f=null!=(d=a.x).grid.dash?d.grid.dash:"2,2",h=null!=d.grid.height?d.grid.height:u;c.selectAll(".tick line").attr("stroke-dasharray",f),a.x.line.y=-h}if(a.y&&a.y.grid){f=null!=(d=a.y).grid.dash?d.grid.dash:"2,2";var d,p=null!=d.grid.width?d.grid.width:s;l.selectAll(".tick line").attr("stroke-dasharray",f),a.y.line.x=p}function g(t,e){t.select("path").attr("stroke",e.line.color?e.line.color:"#d8d8d8").attr("stroke-width",e.usePath?e.line.width?e.line.width:1:0);var n=t.selectAll(".tick text");i.setObject(n,a.text),i.setObject(n,a.axis.text),e.align&&n.style("text-anchor",e.align),e.color&&n.style("fill",e.color),null!=e.x&&n.attr("x",e.x),null!=e.y&&n.attr("y",e.y),null!=e.rotate&&n.attr("transform","rotate("+e.rotate+")"),e&&i.setObject(t,e);var r=t.selectAll("line");null!=e.line.x&&r.attr("x2",e.line.x),null!=e.line.y&&r.attr("y2",e.line.y),r.attr("stroke",e.line.color?e.line.color:"#d8d8d8"),r.attr("stroke-width",e.line.width?e.line.width:1),e.line&&i.setObject(r,e.line)}g(c,a.x),g(l,a.y),a.axis&&a.axis.inner&&(c.select("path").attr("d","M0.5,0V0.5H"+s+".5V0"),l.select("path").attr("d","M0,"+u+".5H0.5V0.5H0")),a.y&&!1===a.y.first&&l.selectAll(".tick text").text(function(t,e){return 0==e?"":t})},this.setObject=function(t,e,n){if(e&&e.attr)for(var r in e.attr){var i=e.attr[r];t.attr(r,i)}if(e&&e.style)for(var r in e.style){i=e.style[r];t.style(r,i)}},this.drawTooltip=function(e,n){var r=this.element[0].id,i=this.options,a=e.append("defs").append("filter").attr("id",r+"-drop-shadow").attr("height","130%");a.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation",5).attr("result","blur"),a.append("feOffset").attr("in","blur").attr("dx",1).attr("dy",1).attr("result","offsetBlur");var o=a.append("feMerge");o.append("feMergeNode").attr("in","offsetBlur"),o.append("feMergeNode").attr("in","SourceGraphic");var s=e.append("g").style("position","absolute").style("top","0").style("left","0").attr("min-width",200).style("display","none").style("pointer-events","visibleStroke");this.setObject(s.selectAll("text"),i.text);var u=n;i.tooltip.nodeMax&&(u=i.tooltip.nodeMax,i.tooltip.nodeMax>n&&(u=n));var c=s.append("rect").attr("x",13).attr("y",13).attr("height",55+20*u).attr("width",208).style("filter","url(#"+r+"-drop-shadow)").style("pointer-events","visibleStroke").attr("fill","#ffffff").style("opacity",.8).attr("rx",1).attr("ry",1);i.tooltip.rect&&t.setObject(c,i.tooltip.rect);var l=s.append("g").attr("class",r+"-tip-g"),f=l.append("text").attr("class",r+"-tip-title").attr("x",33).attr("y",44).attr("text-anchor","left").style("font-size","13px").style("fill","#6A7C87");i.tooltip.text&&t.setObject(f,i.tooltip.text),i.tooltip.title&&t.setObject(f,i.tooltip.title);for(var h=0;h<n&&!(i.tooltip.nodeMax<=h);h++){var d=l.append("text").attr("class",r+"-tip-text-"+h).attr("x",45).attr("y",72).attr("text-anchor","left").style("font-size","12px").style("fill","#6A7C87"),p=l.append("text").attr("class",r+"-tip-value-"+h).attr("x",183).attr("y",72).attr("text-anchor","right").style("font-size","12px").style("font-weight","bold").style("fill","#404247"),g=l.append("circle").attr("class",r+"-tip-circle-"+h).attr("cx",36).attr("cy",68).attr("r",4);i.tooltip.text&&(t.setObject(d,i.tooltip.text),t.setObject(p,i.tooltip.text)),i.tooltip.name&&t.setObject(d,i.tooltip.name),i.tooltip.value&&t.setObject(p,i.tooltip.value),i.tooltip.circle&&t.setObject(g,i.tooltip.circle)}return s},this.moveTooltip=function(e,n,r,i,a,o){var s=this.options;if(!1!==s.tooltip.enabled){e.style("display","block");var u=this.element[0].id,c=s.width-s.margin.left-s.margin.right,l=s.height-s.margin.bottom-s.margin.top,f=d3.timeParse(s.x.inputFormat),h=d3.timeFormat(s.tooltip.dateFormat),d=0,p=[];if("bar"==o)p.push({title:r.name,name:r.name,value:r.value,color:r.color?r.color:t.getColor(r)});else if("stackedbar"==o){for(var g in r.data)if("name"!=g){var y=r.data[g];p.push({title:r.data.name,name:g,value:y,color:t.getColor(g)})}"grouped"!=s.bar.type&&(p=p.reverse())}else{for(var v in n){var m=n[v].data;for(var b in m){var x=m[b];if(x.date==r){if(s.tooltip.nodeMax<=d)break;var _=""!=s.tooltip.dateFormat?h(f(x.date)):x.date;p.push({title:_,name:x.name,value:x.value,color:x.color}),d++;break}}}p.sort(t.sort)}return p.map(function(t,e){if("avg"==t.name||""==t.name){var n=p.splice(e,1);p.push(n[0])}}),function(t){var n=e.select("."+u+"-tip-title").attr("x",33).attr("y",44).text(t[0].title),r=0;d3.map(t,function(t){r+=Number(t.value)});var o=d3.max(t,function(t){return Number(t.value)}),f=[n.node().getBBox().width];for(var h in t){if(s.tooltip.nodeMax<=h)break;var d=t[h];d.total=r,d.max=o;var p=e.select("."+u+"-tip-text-"+h).attr("x",45).attr("y",72+20*h).text(function(){return s.tooltip.name?s.tooltip.name(d):d.name});f.push(p.node().getBBox().width)}var g=d3.max(f),y=[];for(var h in t){if(s.tooltip.nodeMax<=h)break;var d=t[h],v=e.select("."+u+"-tip-value-"+h).attr("x",g+75).attr("y",72+20*h).text(function(){return s.tooltip.value?s.tooltip.value(d):d.value}),m=v.node().getBBox().width;y.push(m);e.select("."+u+"-tip-circle-"+h).attr("cx",36).attr("cy",68+20*h).style("fill",function(){return d.color?d.color:s.color(d.name)})}e.select("rect").attr("width",g+d3.max(y)+75),i+=s.tooltip.x,a+=s.tooltip.y;var b=e.node().getBBox();i>c-b.width-20&&(i=i-b.width-20-2*s.tooltip.x);a<b.height/2?a=b.height/2:a>l-b.height/2-5&&(a=l-b.height/2-5);e.style("display","block").attr("transform","translate("+i+","+(a-b.height/2)+")")}(p),e}},this.parser=function(t){var e=[],n=d3.map();for(var r in t){var i=t[r];if(n.has(i.name)){var a=n.get(i.name);a.push(i),n.set(i.name,a)}else n.set(i.name,[i])}for(var r in n)"object"==typeof n[r]&&e.push(n[r]);var o=[];for(var r in e){i=e[r];var s={};s.name=i[0].name,s.data=e[r],s.total=u(e[r]),c(e[r]),i[0]&&i[0].color&&(s.color=i[0].color),o.push(s)}function u(t){var e=0;for(var n in t){e+=t[n].value}return e}function c(t){for(var e in t){var n=t[e].labels;n&&(t[e].labels_array=n.split("|"))}}return o},this.uniqueId=function(){var t=new Date;return[t.getYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()].join("")},this.collapse=function(e,n){var r=this.options.collapse,i=r.data,a={};a="function"==typeof i.params?i.params(e):i.params,t.ajax(i.url,a,this.addChildren,i.fail,{d:e,callback:n},r.httpType)},this.addChildren=function(e,n){var r=n.d,i=n.callback,a=t.options,o=a.collapse.data.parser(e,r),s=[];for(var u in o){var c=o[u];(c=d3.hierarchy(c)).depth=r.depth+1,c.height=r.height-1,c.parent=r,s.push(c)}a.collapse.loading.src&&d3.select("#"+this.element[0].id+"-"+r.data.id+"-loading").remove(),r.children=s,r._children=null,r.data.children=o,r.data._children=null,i&&i(r),a.click&&t.click(r)},this.clicked=function(e,n){var r=this.options.clicked,i=r.data,a={};a="function"==typeof i.params?i.params(e.d):i.params,e.callback=n,t.ajax(i.url,a,this.clickedCallback,i.fail,e,r.httpType)},this.clickedCallback=function(e,n){var r=n.d,i=n.callback,a=t.options,o=a.clicked.data.parser(e,r);i&&n.type==t.config.CHART_TYPE_MAP&&i(n.key,o),a.click&&t.click(r)},this.getColor=function(t){return"function"==typeof this.options.color?this.options.color(t):t.color?t.color:this.options.color(t)},this.verticalLegend=function(t){var e=this.element[0].id,n=this.options,r=n.margin,i=n.width-r.left-r.right,a=n.height-r.top-r.bottom,o=n.data,s={};if(n.legend.data)s=n.legend.data;else{var u=d3.map();for(var c in o){var l=o[c];u.has(l.name)||u.set(l.name,l)}s=u.values()}var f=this.svg.append("g").attr("id",e+"-legend");this.setObject(f.selectAll("text"),n.text);var h=n.legend.height?n.legend.height:a,d=n.height-h,p=n.legend.offset?n.legend.offset:5,g=f.selectAll(".legend").data(s).enter().append("g");g.append("rect").attr("x",0).attr("y",5).attr("width",10).attr("height",10).style("fill",function(t,e){return t.color?t.color:n.color(t.name)});var y=g.append("text").attr("x",15).attr("y",15).style("text-anchor","start").style("font-size",13).text(function(t,e){return n.tooltip.name?n.tooltip.name(t):t.name?t.name:void 0});this.setObject(y,n.text),f.selectAll("g").attr("transform",function(t,e){var n=d3.select(this).node().getBoundingClientRect().height,r="translate(0,"+d+")";return d+=n+p,r});var v=d3.select("#"+e+"-pie").node().getBoundingClientRect(),m=d3.select("#"+e+"-legend").node().getBoundingClientRect();if("right"==n.legend.align){var b=v.width/2+n.legend.x,x=-m.height/2+n.legend.y;f.attr("transform","translate("+b+", "+x+")")}b=(b=i/2+r.left-m.width)<a/2?a/2:b,d3.select("#"+e+"-pie").attr("transform","translate(0, 0)")},this.horizontalLegend=function(t){var e=this.element[0].id,n=this.options,r=n.margin,i=n.width-r.left-r.right,a=(n.height,r.top,r.bottom,n.data),o=null,s={};if(n.legend.data)s=n.legend.data;else{var u=d3.map();for(var c in a){var l=a[c];u.has(l.name)||u.set(l.name,l)}s=u.values()}for(var c in s)if("avg"==s[c].name){o=s.splice(c,1)[0];break}var f=this.svg.append("g").attr("id",e+"-legend");this.setObject(f.selectAll("text"),n.text);var h=n.legend.width?n.legend.width:i,d=n.width-h,p=n.legend.offset?n.legend.offset:15,g=f.selectAll(".legend").data(s).enter().append("g"),y=g.append("rect").attr("x",0).attr("y",5).attr("width",10).attr("height",10).style("fill",function(t,e){return t.color?t.color:n.color(t.name)});this.setObject(y,n.legend.rect);var v=g.append("text").attr("x",15).attr("y",15).style("text-anchor","start").style("font-size",13).text(function(t,e){return n.tooltip.name?n.tooltip.name(t):t.name?t.name:void 0});if(this.setObject(v,n.legend.text),o){var m=f.append("g"),b=m.append("line").attr("x1",0).attr("x2",10).attr("y1",10).attr("y2",10).style("stroke","#676179").style("stroke-width",3).style("stroke-linecap","round").style("stroke-dasharray",".5, 3.5");this.setObject(b,n.legend.avg);v=m.append("text").attr("x",15).attr("y",15).style("text-anchor","start").style("font-size",13).text("");this.setObject(v,n.legend.text)}f.selectAll("g").attr("transform",function(t,e){var n=d3.select(this).node().getBoundingClientRect().width,r="translate("+d+",0)";return d+=n+p,r});var x=d3.select("#"+e+"-legend").node().getBoundingClientRect(),_=n.legend.align.match("right")?i-x.width-r.left-r.right:0,w=n.legend.align.match("top")?-r.top:n.height-2*x.height;f.attr("transform","translate("+_+", "+w+")")},this.wrap=function(t,e){t.each(function(){for(var t,e=d3.select(this),n=e.text().split(/\s+/).reverse(),r=[],i=0,a=e.attr("y"),o=parseFloat(e.attr("dy")),s=e.text(null);t=n.pop();)r.push(t),s.text(r.join(" ")),r.pop(),s.text(r.join(" ")),r=[t],s=e.append("tspan").attr("x",0).attr("y",a).attr("dy",1.1*i+++o+"em").text(t)})}},e=function(){var t=this;this.type="line",this.draw=function(){var e=this.element[0].id,n=this.options.data;n=this.parser(n);var r=this.options,i=(r.type,r.width),a=r.height,o=r.margin,s=(this.config,this.svg.attr("transform","translate("+o.left+","+o.top+")"));if(i=i-r.margin.left-r.margin.right,a=a-r.margin.bottom-r.margin.top,r.axis){var u=s.append("rect").attr("width",i).attr("height",a).attr("fill","none");this.setObject(u,r.axis)}if("%I"==r.x.outputFormat)var c=s.append("rect").style("fill","#ebebee").style("stroke","none");var l=n[0].data.map(function(t){return t.date}),f="",h=d3.min(n,function(t){return d3.min(t.data,function(t){return t.value})}),d=d3.max(n,function(t){return d3.max(t.data,function(t){return t.value})});d+=d/10,f=r.tickNagative?[h=-d3.max([d,h]),d]:[0,d],this.drawAxis(n,l,f);var p=this.xScale,g=this.yScale;this.xAxis;"%I"==r.x.outputFormat&&(c.attr("x",i/2+p.bandwidth()/2).attr("width",i/2-p.bandwidth()/2).attr("height",a),this.setObject(c,r.axis.rect),s.append("text").text("AM").style("font-size","50px").style("fill","#ebebee").attr("x",i/4).attr("y",a/2),s.append("text").text("PM").style("font-size","50px").style("fill","#fff").attr("x",i/2+i/4).attr("y",a/2));var y=s.append("g").attr("class",e+"-focus").style("display","none"),v=this.lineType(r.line.type),m=d3.line().curve(v).x(function(t){return p(t.date)+p.bandwidth()/2}).y(function(t){return g(t.value)}),b=s.append("g").attr("class","lines"),x=b.selectAll(e+"-line-group").data(n).enter().append("g").attr("class",e+"-line-group"),_=x.append("path").attr("class",e+"-line").attr("id",function(t){return e+"-"+t.name}).attr("d",function(t){return m(t.data)}).attr("fill","none").style("stroke",function(t,e){return t.color?t.color:(t.color=r.color(t.name),t.color)}).style("stroke-width",r.line.width),w=d3.select("#"+e+"-avg").style("fill","none").style("stroke-width",5).style("stroke-linecap","round").style("stroke-dasharray","0, 10.5");if(r.line.avg&&t.setObject(w,r.line.avg),_.transition().duration(r.duration).ease(d3.easeCubicInOut),r.line&&this.setObject(x,r.line),r.line.maxPoint||r.line.maxPointAll){var k=d3.max(n,function(t){return d3.max(t.data,function(t){return t.value})});d3.entries(n).map(function(e){var n=JSON.parse(JSON.stringify(e.value.data)).sort(t.sort)[0];if("avg"!=n.name&&""!=n.name&&(!1!==r.line.maxPointAll||n.value==k)){var i=p(n.date)+p.bandwidth()/2+9,a=g(n.value)+17;Math.PI,s.append("path").attr("d","M0,5.059274L8.306048591020996,-8.059274 -8.306049,-8.059274Z").attr("fill",function(){return n.color?n.color:(n.color=r.color(n.name),n.color)}).attr("transform","translate("+(i-9)+", "+(a-28)+")")}})}var M=y.append("rect").attr("id",e+"-focus-rect").attr("height",a).attr("width",r.focusRectX&&r.focusRectX.width?r.focusRectX.width:50).attr("x",0).attr("y",0);this.setObject(M,r.focusRectX),y.append("line").attr("id",e+"-focus-line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",a).attr("stroke","#dadee3").attr("stroke-width",1);var A=this.drawTooltip(s,n.length),T=r.icon.use?"block":"none",E=n.filter(function(t){return"avg"!=t.name&&""!=t.name}),C=b.selectAll(e+"-icon-group").data(E).enter().append("g").attr("class",e+"-icon-group").style("fill",function(t,e){return t.color?t.color:r.color(e)}).style("stroke",function(t){if(t.color)return t.color}).style("stroke-width",2).selectAll(e+"-icon").data(function(t){return t.data}).enter().append("g").attr("class",function(t,n){return e+"-icon-"+n}).style("display",T).append(r.icon.type).attr("cx",function(t){return p(t.date)+p.bandwidth()/2}).attr("cy",function(t){return g(t.value)}).attr("x",function(t){return p(t.date)+p.bandwidth()/2-r.icon.size/2}).attr("y",function(t){return g(t.value)-r.icon.size/2}).attr("r",r.icon.size).attr("width",r.icon.size).attr("height",r.icon.size);this.setObject(C,r.icon);var S=s.append("rect").attr("class","overlay").attr("width",i).attr("height",a).attr("fill","none").on("click",function(e){var r=d3.mouse(S.node())[0],e=p.invert(r),i=L(n[0].data,e),a=n[0].data[i];t.click(a)}).style("pointer-events","all").style("cursor","pointer");1!=r.tooltip.enabled&&"true"!=r.tooltip.enabled||S.on("mouseout",function(){y.transition().duration(r.duration).style("display","none"),A.transition().duration(r.duration).style("display","none"),b.selectAll("."+e+"-icon-group").selectAll("g").style("display",T).selectAll("circle").transition().duration(r.tooltip.duration).attr("r",r.icon.size)}).on("mousemove",function(i){var a=d3.mouse(S.node())[0],i=p.invert(a),o=p(i)+p.bandwidth()/2,s=L(n[0].data,i);b.selectAll("."+e+"-icon-group").selectAll("g").style("display",T).selectAll("circle").transition().duration(100).attr("r",r.icon.size),b.selectAll("."+e+"-icon-"+s).style("display","block").select("circle").transition().duration(100).attr("r",r.icon.hoverSize);var u=d3.mouse(S.node())[1];y.style("display","block").select("line").transition().duration(r.tooltip.duration).attr("x1",o).attr("x2",o),y.select("rect").transition().duration(r.tooltip.duration).attr("x",o-y.select("rect").node().getBBox().width/2),t.moveTooltip(A,n,i,a,u)}),this.styleAxis(p,g);var N=d3.timeParse(r.x.inputFormat),R=d3.timeFormat(r.x.outputFormat);s.selectAll(".x .tick text").text(function(t){return r.x.dateFilter?r.x.dateFilter(t,N(t),R(N(t))):R(N(t))}).attr("x",0),!0===r.x.wrap&&s.selectAll(".x .tick text").call(t.wrap);var P,z,O;d3.bisector(function(t){return t.date}).left;function L(t,e){for(var n in t)if(t[n].date==e)return Number(n)}p.invert=(P=p.domain(),z=p.range(),O=d3.scaleQuantize().domain(z).range(P),function(t){return O(t)});var D=d3.zoom().scaleExtent([1,10]).on("zoom",function(){});s.select(".x");if(s.call(D),r.labels.enabled){r.labels.style||(r.labels.style={},r.labels.style["font-size"]=12);var I=Number(r.labels.style["font-size"]),j=s.append("g").classed(e+"-labels-group",!0);for(var Y in n)for(var B in n[Y].data){var H=n[Y].data[B];if(H.labels_array){H.labels_attr={rect_width:d3.map(),text_width:d3.map(),rect_x:d3.map(),text_x:d3.map(),rect_y:d3.map(),text_y:d3.map()};k=d3.max(H.labels_array,function(t){return t.length});var U=j.selectAll(e+"-labels").data([H]).enter().append("g").attr("class",e+"-labels").attr("id",function(t,n){return e+"-labels-"+B}).attr("transform",function(t,e){var r=0;return 0==B?r=5:B==n[Y].data.length-1&&(r=-5),"translate("+(p(H.date)+r)+", "+g(H.value)+")"}).style("cursor","pointer").selectAll(e+"-labels").data(H.labels_array),F=U.enter().append("rect").attr("class",e+"-labels-rect").attr("id",function(t,n){return e+"-labels-rect-"+B+"-"+n}).attr("width",function(t,e){var n=t.length*I+15;return H.labels_attr.rect_width.set(e,n),n}).attr("height",1.5*I).attr("x",function(t,e){var n=d3.select(this).node().getBBox(),a=p.bandwidth()/2-n.width/2;return 0==e&&a<0&&(a=r.x.padding),p(H.date)+n.width>=i&&(a=i-p(H.date)-n.width-r.x.padding),H.labels_attr.rect_x.set(e,a),a}).attr("y",function(t,e){var n=d3.select(this).node().getBBox().height*e;return H.labels_attr.rect_y.set(e,n),n}).style("fill","#fff").style("stroke",function(t,e){return H.color?H.color:r.color(e)}).style("stroke-width",2).attr("rx",3).attr("ry",3).on("mouseover",function(){G(this)}).on("mouseout",function(){V(this)}),q=U.enter().append("text").attr("class",e+"-labels-text").attr("id",function(t,n){return e+"-labels-text-"+B+"-"+n}).text(function(t){return t}).style("font-size",I+"px").on("mouseover",function(){G(this)}).on("mouseout",function(){V(this)});if(q.attr("x",function(t,n){var r=d3.select("#"+e+"-labels-rect-"+B+"-"+n).node().getBBox(),i=d3.select(this).node().getBBox(),a=r.x+(r.width-i.width)/2;return H.labels_attr.text_width.set(n,i.width),H.labels_attr.text_x.set(n,a),a}).attr("y",function(t,n){var r=d3.select("#"+e+"-labels-rect-"+B+"-"+n).node().getBBox(),i=r.height*n+r.height/2+I/3;return H.labels_attr.text_y.set(n,i),i}),F.attr("y",function(t,e){var n=d3.select(this.parentNode).node().getBBox();return g(H.value)+n.height>=a?-H.labels_attr.rect_y.get(e):H.labels_attr.rect_y.get(e)}),q.attr("y",function(t,e){var n=d3.select(this.parentNode).node().getBBox();return g(H.value)+n.height>=a?H.labels_attr.text_y.get(0)-1.5*I*e:H.labels_attr.text_y.get(e)}),r.labels.over)F.style("display",function(t,e){return 0==e?"block":"none"}),q.style("display",function(t,e){return 0==e?"block":"none"});else{var $=d3.max(H.labels_attr.rect_width.values()),W=0;H.labels_attr.rect_width.each(function(t,e){t==$&&(W=Number(e))}),F.attr("width",$).attr("x",H.labels_attr.rect_x.get(W))}}}function G(t){if(r.labels.over){var i=d3.select(t).attr("id").split("-"),a=i[i.length-2],o=(i[i.length-1],n[0].data[a]),s=d3.max(o.labels_attr.rect_width.values()),u=0;o.labels_attr.rect_width.each(function(t,e){t==s&&(u=Number(e))}),d3.select("#"+e+"-labels-"+a).selectAll("rect").transition().duration(r.duration).attr("width",function(t,e){return s}).attr("x",o.labels_attr.rect_x.get(u)).style("display","block"),d3.select("#"+e+"-labels-"+a).selectAll("text").transition().duration(r.duration).attr("x",function(t,e){var n=o.labels_attr.rect_x.get(u),r=o.labels_attr.text_width.get(e);return n+(s-r)/2}).style("display","block")}}function V(t){if(r.labels.over){var i=d3.select(t).attr("id").split("-"),a=i[i.length-2],o=(i[i.length-1],n[0].data[a]);d3.select("#"+e+"-labels-"+a).selectAll("rect").transition().duration(r.duration).attr("width",function(t,e){return o.labels_attr.rect_width.get(e)}).attr("x",function(t,e){return o.labels_attr.rect_x.get(e)}).style("display",function(t,e){return 0==e?"block":"none"}),d3.select("#"+e+"-labels-"+a).selectAll("text").transition().duration(r.duration).attr("x",function(t,e){return o.labels_attr.text_x.get(e)}).style("display",function(t,e){return 0==e?"block":"none"})}}}}},n=function(){var t=this;this.type="dendrogram",this.draw=function(){var e=this.element[0].id,n=this.options,r=(this.config,n.data),i=d3.scaleLinear().domain(d3.extent(r,function(t){return+t.value})).range([2,30]),a=d3.scaleLinear().domain(d3.extent(r,function(t){return+t.value})).range([2,15]);r=this.parseHierarchyJson(),width=n.width,height=n.height,margin=n.margin,width=width-n.margin.left-n.margin.right,height=height-n.margin.bottom-n.margin.top;var o,s=this.svg.attr("transform","translate("+margin.left+","+margin.top+")"),u=0,c=d3.tree().size([height,width]);(o=d3.hierarchy(r,function(t){return t.children})).x0=height/2,o.y0=0,o.children&&(o.children.forEach(function t(e){e.children&&(e._children=e.children,e._children.forEach(t),e.children=null)}),function r(l){var f=c(o);var h=f.descendants(),d=f.descendants().slice(1);h.forEach(function(e){if(0==e.depth)return!0;var n=0;if(t.options.depthLength)for(var r=1;r<=e.depth;r++)r<=e.depth&&(n+=t.options.depthLength[r-1]);n=n||e.depth*((t.options.width-75-t.options.margin.left-t.options.margin.right)/3),e.y=n});var p=s.selectAll("g."+e+"-node").data(h,function(t){return t.id||(t.id=++u)});var g=p.enter().append("g").attr("class",e+"-node").attr("transform",function(t){return"translate("+l.y0+","+l.x0+")"}).on("click",function y(r){r.children?(r._children=r.children,r.children=null):(r.children=r._children,r._children=null);t.options.click&&t.click(r);!function r(l){var f=c(o);var h=f.descendants(),d=f.descendants().slice(1);h.forEach(function(e){if(0==e.depth)return!0;var n=0;if(t.options.depthLength)for(var r=1;r<=e.depth;r++)r<=e.depth&&(n+=t.options.depthLength[r-1]);n=n||e.depth*((t.options.width-75-t.options.margin.left-t.options.margin.right)/3),e.y=n});var p=s.selectAll("g."+e+"-node").data(h,function(t){return t.id||(t.id=++u)});var g=p.enter().append("g").attr("class",e+"-node").attr("transform",function(t){return"translate("+l.y0+","+l.x0+")"}).on("click",w);g.append("circle").attr("class",e+"-node");g.append("text").attr("dy",".35em").attr("x",function(t){return n.text.x?a(t.data.value)+n.text.x:t.children||t._children?-13:13}).attr("text-anchor",function(t){return n.text.align?n.text.align:t.children||t._children?"end":"start"}).text(function(t){return n.text.length<t.data.name.length?t.data.name.substr(0,n.text.length)+n.text.suffix:t.data.name});var y=g.merge(p);y.transition().duration(n.duration).attr("transform",function(t){return"translate("+t.y+","+t.x+")"});y.select("circle."+e+"-node").attr("r",function(t){return t.parent?a(t.data.value):3}).style("fill",function(t){return t.data.category?n.color(t.data.category):t.data.color?t.data.color:"lightsteelblue"}).style("fill-opacity",.5).style("stroke",function(t){return t.data.category?n.color(t.data.category):t.data.color?t.data.color:"lightsteelblue"}).style("stroke-width",1).attr("cursor","pointer");t.setObject(y.selectAll("circle."+e+"-node"),n.node);var v=p.exit().transition().duration(n.duration).attr("transform",function(t){return"translate("+l.y+","+l.x+")"}).remove();v.select("circle").attr("r",1e-6);v.select("text").style("fill-opacity",1e-6);var m=s.selectAll("path."+e+"-link").data(d,function(t){return t.id});var b=m.enter().insert("path","g").attr("class",e+"-link").attr("d",function(t){var e={x:l.x0,y:l.y0};return _(e,e)}).style("stroke-width",function(t){return i(t.data.value)});var x=b.merge(m);x.transition().duration(n.duration).attr("d",function(t){return _(t,t.parent)}).style("fill",n.line.style.fill?n.line.style.fill:"none").style("stroke-linecap","round").style("stroke",function(t){return t.data.category?n.color(t.data.category):t.data.color?t.data.color:"lightsteelblue"}).style("stroke-opacity",function(t){return n.line.style["stroke-opacity"]?n.line.style["stroke-opacity"]:.3});n.line&&t.setObject(x,n.line);m.exit().transition().duration(n.duration).attr("d",function(t){var e={x:l.x,y:l.y};return _(e,e)}).remove();h.forEach(function(t){t.x0=t.x,t.y0=t.y});function _(t,e){return path="M "+t.y+" "+t.x+"C "+(t.y+e.y)/2+" "+t.x+","+(t.y+e.y)/2+" "+e.x+","+e.y+" "+e.x,path}function w(e){e.children?(e._children=e.children,e.children=null):(e.children=e._children,e._children=null),t.options.click&&t.click(e),r(e)}}(r)});g.append("circle").attr("class",e+"-node");g.append("text").attr("dy",".35em").attr("x",function(t){return n.text.x?a(t.data.value)+n.text.x:t.children||t._children?-13:13}).attr("text-anchor",function(t){return n.text.align?n.text.align:t.children||t._children?"end":"start"}).text(function(t){return n.text.length<t.data.name.length?t.data.name.substr(0,n.text.length)+n.text.suffix:t.data.name});var v=g.merge(p);v.transition().duration(n.duration).attr("transform",function(t){return"translate("+t.y+","+t.x+")"});v.select("circle."+e+"-node").attr("r",function(t){return t.parent?a(t.data.value):3}).style("fill",function(t){return t.data.category?n.color(t.data.category):t.data.color?t.data.color:"lightsteelblue"}).style("fill-opacity",.5).style("stroke",function(t){return t.data.category?n.color(t.data.category):t.data.color?t.data.color:"lightsteelblue"}).style("stroke-width",1).attr("cursor","pointer");t.setObject(v.selectAll("circle."+e+"-node"),n.node);var m=p.exit().transition().duration(n.duration).attr("transform",function(t){return"translate("+l.y+","+l.x+")"}).remove();m.select("circle").attr("r",1e-6);m.select("text").style("fill-opacity",1e-6);var b=s.selectAll("path."+e+"-link").data(d,function(t){return t.id});var x=b.enter().insert("path","g").attr("class",e+"-link").attr("d",function(t){var e={x:l.x0,y:l.y0};return w(e,e)}).style("stroke-width",function(t){return i(t.data.value)});var _=x.merge(b);_.transition().duration(n.duration).attr("d",function(t){return w(t,t.parent)}).style("fill",n.line.style.fill?n.line.style.fill:"none").style("stroke-linecap","round").style("stroke",function(t){return t.data.category?n.color(t.data.category):t.data.color?t.data.color:"lightsteelblue"}).style("stroke-opacity",function(t){return n.line.style["stroke-opacity"]?n.line.style["stroke-opacity"]:.3});n.line&&t.setObject(_,n.line);b.exit().transition().duration(n.duration).attr("d",function(t){var e={x:l.x,y:l.y};return w(e,e)}).remove();h.forEach(function(t){t.x0=t.x,t.y0=t.y});function w(t,e){return path="M "+t.y+" "+t.x+"C "+(t.y+e.y)/2+" "+t.x+","+(t.y+e.y)/2+" "+e.x+","+e.y+" "+e.x,path}function y(e){e.children?(e._children=e.children,e.children=null):(e.children=e._children,e._children=null),t.options.click&&t.click(e),r(e)}}(o))}},r=function(){var t=this;this.draw=function(){this.element[0].id;var e=this.options,n=(this.config,e.data);for(var r in width=e.width,height=e.height,margin=e.margin,width=width-e.margin.left-e.margin.right,height=height-e.margin.bottom-e.margin.top,n)n[r].name&&(n[r].text=n[r].name),n[r].value&&(n[r].size=n[r].value);var i=d3.min(n,function(t){return t.size=Number(t.size),t.size}),a=d3.max(n,function(t){return t.size=Number(t.size),t.size});e.opacityDomain||(e.opacityDomain=[.6,.65,.75,.85,.95,1]);var o=[];for(var r in e.opacityDomain){var s=Number(e.opacityDomain[r]);0!=r?r!=this.options.opacityDomain.length-1?o.push(a*s):o.push(a):o.push(i)}var u=this.svg.attr("transform","translate("+margin.left+","+margin.top+")"),c=d3.scaleLinear().domain([i,a]).range(e.text.range?e.text.range:[1,30]),l=d3.scaleLinear().domain(o).range(e.opacityDomain),f=this.options.text.padding?this.options.text.padding:2;d3.layout.cloud().size([width,height]).padding(f).words(n).rotate(function(t){return~~(2*Math.random())*e.text.rotate}).fontSize(function(t,e){return t.opacity=l(t.size),c(t.size)}).fontWeight(["bold"]).spiral(e.cloud.spiral).on("end",function(n){t.svg.attr("transform","translate("+width/2+","+height/2+")").selectAll("text").data(n).enter().append("text").style("cursor","pointer").style("font-size",function(t){return t.size+"px"}).style("font-weight",600).style("font-family",e.font).style("fill-opacity",function(t){return t.opacity}).style("fill",function(t,n){return t.color?t.color:t.category?e.color(t.category):e.color(n)}).attr("id",function(t){return t.id}).attr("text-anchor","middle").attr("transform",function(t){var e="translate("+[t.x,t.y]+") ";return t.rotate&&(e+="rotate("+t.rotate+")"),e}).text(function(t){return t.text}).on("click",function(e){t.click(e)})}).start();u.append("g").attr("transform","translate("+width/2+","+height/2+")")}},i=function(){var t=this;this.draw=function(){var e=this.element[0].id,n=this.options.data,r=(this.config,this.svg),i=this.options,a=(i.type,i.width),o=i.height,s=i.margin;a=a-i.margin.left-i.margin.right,o=o-i.margin.bottom-i.margin.top;var u=Math.min(a,o)/2,c=r.attr("transform","translate("+(a/2+s.left)+","+(o/2+s.top)+")"),l=d3.arc().innerRadius(0).outerRadius(u),f=d3.pie().value(function(t){return t.value}).sort(null);c.append("g").attr("id",e+"-pie").selectAll("path").data(f(n)).enter().append("g").append("path").attr("d",l).attr("fill",function(t,e){return t.data.color?t.data.color:(t.color=i.color(e),t.color)}).style("opacity",.8).style("stroke","white").on("click",function(e){t.options.click(e)}).on("mouseover",function(t){if(d3.selectAll("path").style("opacity",.8),d3.select(this).style("opacity",1),i.tooltip.enabled){var n=r.style("cursor","pointer").append("g").attr("class",e+"-tooltip").style("opacity",0);n.append("text").text(function(){return t.data.name+" ("+t.data.value+")"}).attr("text-anchor","middle");var a=n.select("text").node().getBBox();n.insert("rect","text").attr("x",a.x-2).attr("y",a.y-2).attr("width",a.width+4).attr("height",a.height+4).style("fill","white").style("opacity",.75)}}).on("mousemove",function(t){if(i.tooltip.enabled){var n=d3.mouse(this),r=n[0]+a/2,s=n[1]+o/2-13,u=d3.select("."+e+"-tooltip text").node().getBBox();r-u.width/2<0?r=u.width/2:a-r-u.width/2<0&&(r=a-u.width/2),r-=a/2,s-u.height/2<0?s=u.height+26:o-s-u.height/2<0&&(s=o-u.height/2),s-=o/2,d3.select("."+e+"-tooltip").style("opacity",1).attr("transform","translate("+r+", "+s+")")}}).on("mouseout",function(t){r.select("."+e+"-tooltip").remove(),r.selectAll("path").style("opacity",.8)}).on("touchstart",function(t){r.style("cursor","none")}).each(function(t,e){this._current=e});"vertical"==i.legend.type&&this.verticalLegend()}},a=function(){this.draw=function(){this.element[0].id;var t=this.options.data,e=(this.config,this.svg),n=this.options,r=(n.type,n.width),i=n.height,a=n.margin;r=r-n.margin.left-n.margin.right,i=i-n.margin.bottom-n.margin.top;var o=t.percent,s=(t.value,n.duration),u=n.donut.foreColor?n.donut.foreColor:"#0a8",c=n.donut.backColor?n.donut.backColor:"#ccc",l=Math.min(r,i)/2,f=d3.scaleOrdinal([u,c]),h=e.attr("transform","translate("+(r/2+a.left)+","+(i/2+a.top)+")"),d=d3.arc().innerRadius(l-30+n.donut.innerRadius).outerRadius(l+n.donut.outerRadius),p=d3.pie().sort(null);if(h.selectAll("path").data(p([0,1])).enter().append("path").attr("d",d).attr("fill",function(t,e){return f(e)}).each(function(t){this._current=t}).data(p([o/100,1-o/100])).transition().duration(s).attrTween("d",function(t){var e=d3.interpolate(this._current,t);return this._current=e(0),function(t){return d(e(t))}}),n.percent.use&&t.percent){var g=h.append("text").attr("text-anchor","middle").attr("dy",n.percent.y).style("font-size",n.percent.size+"px").text(t.percent+n.percent.unit);this.setObject(g,n.percent)}if(n.percent.value&&t.value){var y=h.append("text").attr("text-anchor","middle").attr("dy",n.value.y).style("font-size",n.value.size+"px").text(this.digits(t.value)+n.value.unit);this.setObject(y,n.value)}if(n.percent.name&&t.name){var v=h.append("text").attr("text-anchor","middle").attr("dy",n.name.y).style("font-size",n.name.size+"px").text(t.name);this.setObject(v,n.name)}}},o=function(){var t=this;this.draw=function(){var e=this.element[0].id,n=this.options.data,r=(this.config,this.svg),i=this.options,a=(i.type,i.width),o=i.height,s=i.margin;a=a-i.margin.left-i.margin.right,o=o-i.margin.bottom-i.margin.top;var u=0;d3.map(n,function(t){u+=t.value});var c=Math.min(a,o)/2,l=r.attr("transform","translate("+(a/2+s.left)+","+(o/2+s.top)+")"),f=d3.arc().cornerRadius(i.donut.cornerRadius).padAngle(i.donut.padAngle).innerRadius(c-40+i.donut.innerRadius).outerRadius(c+i.donut.outerRadius),h=d3.pie().value(function(t){return t.value}).sort(null),d=function(t,e){switch(e){case 0:t.transition().duration(500).ease(d3.easeBounce).attr("d",d3.arc().cornerRadius(i.donut.cornerRadius).padAngle(i.donut.padAngle).innerRadius(c-40+i.donut.innerRadius).outerRadius(c+i.donut.outerRadius));break;case 1:t.transition().duration(500).ease(d3.easeBounce).attr("d",d3.arc().cornerRadius(i.donut.cornerRadius).padAngle(i.donut.padAngle).innerRadius(c-40+i.donut.innerRadius).outerRadius(c+i.donut.outerRadius+10))}},p=(l.selectAll("path").data(h(n)).enter().append("g").on("mouseover",function(e){if(p.transition().duration(200).style("display","block"),i.percent.use){var n=e.data.value/u*100;n=Math.round(n*Math.pow(10,i.percent.point))/Math.pow(10,i.percent.point),y.text(n+i.percent.unit).style("fill",e.data.color)}i.value.use&&v.text(t.digits(e.data.value)+i.value.unit),i.name.use&&m.text(e.data.name),d(d3.select(this).select("path"),1)}).on("mouseout",function(t){p.style("fill",i.color(this._current)).select("."+e+"-text-group").transition().duration(i.duration).style("display","none"),d(d3.select(this).select("path"),0)}).on("click",function(e){t.click(e)}).append("path").attr("d",f).attr("fill",function(t,e){return t.data.color?t.data.color:(t.data.color=i.color(e),t.data.color)}).each(function(t,e){this._current=e}),l.style("cursor","pointer").append("g").attr("class",e+"-text-group"));if(i.percent.use){var g=n[0].value/u*100;g=Math.round(g*Math.pow(10,i.percent.point))/Math.pow(10,i.percent.point);var y=p.append("text").attr("text-anchor","middle").attr("dy",i.percent.y).style("font-size",i.percent.size+"px").style("fill",n[0].color).text(g+i.percent.unit);this.setObject(y,i.percent)}if(i.value.use){var v=p.append("text").attr("text-anchor","middle").attr("dy",i.value.y).style("font-size",i.value.size+"px").text(this.digits(n[0].value)+i.value.unit);this.setObject(v,i.value)}if(i.name.use){var m=p.append("text").attr("text-anchor","middle").attr("dy",i.name.y).style("font-size",i.name.size+"px").text(n[0].name);this.setObject(m,i.name)}}},s=function(){var t=this;this.type="bar",this.draw=function(){this.element[0].id;var e=this.options,n=(this.config,e.data);width=e.width,height=e.height,margin=e.margin,width=width-e.margin.left-e.margin.right,height=height-e.margin.bottom-e.margin.top;var r=this.svg.attr("transform","translate("+margin.left+","+margin.top+")");if(e.axis){var i=r.append("rect").attr("width",width).attr("height",height).attr("fill","none");this.setObject(i,e.axis)}var a=d3.max(n,function(t){return t.value}),o=n.map(function(t){return t.name}),s=[0,a+a/10];this.drawAxis(n,o,s);var u=t.xScale,c=t.yScale,l=t.xAxis,f=t.yAxis;!function(){t.svg.node().getBoundingClientRect();t.styleAxis(u,c,l,f);var i=r.selectAll(".bar").data(n),a=i.enter().append("rect").attr("class","bar").attr("x",function(t){return e.bar&&e.bar.width?u.bandwidth()/2-e.bar.width/2+u(t.name):u(t.name)}).attr("y",function(t){return c(t.value)}).attr("width",e.bar&&e.bar.width?e.bar.width:u.bandwidth()).attr("height",function(t){return height-c(t.value)}).style("fill",function(t){return t.color?t.color:(e.color?t.color=e.color(t.name):t.color="#3182bd",t.color)}).on("mouseout",function(){h.transition().duration(e.duration).style("display","none")}).on("mousemove",d).on("click",function(e){t.click(e)});e.click&&a.style("cursor","pointer");e.rect&&t.setObject(a,e.rect);var o=i.attr("x",function(t){return u(t.name)}).attr("y",function(t){return c(t.value)}).attr("width",u.bandwidth()).attr("height",function(t){return height-c(t.value)});e.text&&t.setObject(o,e.text);i.exit().remove()}();var h=this.drawTooltip(this.svg,1);function d(e){var r=d3.mouse(this)[0],i=d3.mouse(this)[1];t.moveTooltip(h,n,e,r,i,"bar")}}},u=function(){var t=this;this.type="stackedbar",this.draw=function(){var e=this.element[0].id,n=this.options,r=(this.config,n.data);width=n.width,height=n.height,margin=n.margin,width=width-n.margin.left-n.margin.right,height=height-n.margin.bottom-n.margin.top;var i=d3.format(".0%"),a=d3.format(""),o=(r=d3.nest().key(function(t){return t.name}).entries(r)).length,s=(r[0].values.length,[]),u=[];r.forEach(function(t){var e=d3.nest().key(function(t){return t.category}).rollup(function(t){return d3.mean(t,function(t){return t.value})}).object(t.values),r=d3.nest().key(function(t){return t.category}).rollup(function(t){var e=t[0];return e.color?e.color:n.color(e.category)}).object(t.values);u.push(r),s.push({key:t.key,values:e})});var c=s.map(function(t,e){var n={name:t.key};return Object.keys(t.values).forEach(function(e){n[e]=t.values[e]}),n}),l=d3.keys(c[0]).slice(1),f=[];c.forEach(function(t){f.push(d3.sum(l,function(e){return t[e]}))});n.duration;var h=d3.transition().duration(n.duration),d=(this.svg.attr("transform","translate("+margin.left+","+margin.top+")"),o=l.length,c.length,d3.stack().keys(l)(c)),p=d3.max(d,function(t){return d3.max(t,function(t){return t[1]})}),g=d3.max(d,function(t){return d3.max(t,function(t){return t[1]-t[0]})}),y=c.map(function(t){return t.name}),v=[0,p];this.drawAxis(r,y,v);var m=this.xScale,b=this.yScale,x=this.xAxis,_=this.yAxis,w=this.svg.attr("transform","translate("+margin.left+","+margin.top+")"),k=w.selectAll(".layer").data(d).enter().append("g").attr("class","layer").attr("id",function(t){return e+"-rect-"+t.key}).selectAll("rect").data(function(t){return t}).enter().append("rect").attr("id",function(t,n){return e+"-rect-"+n}).attr("x",function(t,e){return m.bandwidth()/2-n.bar.width/2+m(t.data.name)}).attr("y",height).attr("width",n.bar.width?n.bar.width:m.bandwidth()).attr("height",0).style("cursor","pointer").on("mousemove",function(e){var n=d3.mouse(this)[0],i=d3.mouse(this)[1];t.moveTooltip(M,r,e,n,i,"stackedbar")}).on("mouseout",function(){M.transition().duration(n.duration).style("display","none")}).on("click",function(e){t.click(e)});if(k.transition(h).delay(function(t,e){return 10*e}).attr("y",function(t){return b(t[1])}).attr("height",function(t){return b(t[0])-b(t[1])}),n.bar.type&&("grouped"===n.bar.type?A():"stacked"===n.bar.type?T():"percent"===n.bar.type&&E()),n.bar.change){d3.selectAll("input[name="+n.bar.change.name+"]").on("change",function(){"grouped"===this.value?A():"stacked"===this.value?T():"percent"===this.value&&E()})}k.style("fill",function(t){var e=d3.select(this.parentNode).attr("id").split("-"),n=e[e.length-1],r=d3.select(this).attr("id").split("-"),i=r[r.length-1];return u[i][n]});var M=this.drawTooltip(w,r[0].values.length);function A(){b.domain([0,g]),k.transition(h).attr("x",function(t,e,r){var i=this.parentNode.id.split("-"),a=l.indexOf(i[i.length-1]);return n.bar.width?m(t.data.name)+m.bandwidth()/2+n.bar.width*a-n.bar.width*o/2:m(t.data.name)+m.bandwidth()/o*a}).attr("width",n.bar.width?n.bar.width:m.bandwidth()/o).transition().attr("y",function(t){return height-(b(t[0])-b(t[1]))}).attr("height",function(t){return b(t[0])-b(t[1])}),_.tickFormat(a),w.selectAll(".y.axis").call(_),t.styleAxis(m,b,x,_)}function T(){b.domain([0,p]),k.transition(h).attr("y",function(t){return b(t[1])}).attr("height",function(t){return b(t[0])-b(t[1])}).transition().attr("x",function(t,e){return m.bandwidth()/2-n.bar.width/2+m(t.data.name)}).attr("width",n.bar.width?n.bar.width:m.bandwidth()),_.tickFormat(a),w.selectAll(".y.axis").call(_),t.styleAxis(m,b,x,_)}function E(){b.domain([0,1]),k.transition(h).attr("y",function(t){var e=d3.sum(d3.values(t.data));return b(t[1]/e)}).attr("height",function(t){var e=d3.sum(d3.values(t.data));return b(t[0]/e)-b(t[1]/e)}).transition().attr("x",function(t,e){return m.bandwidth()/2-n.bar.width/2+m(t.data.name)}).attr("width",n.bar.width?n.bar.width:m.bandwidth()),_.tickFormat(i),w.selectAll(".y.axis").call(_),t.styleAxis(m,b,x,_)}}},c=function(){this.type="networkmap",this.draw=function(){var t=this.element[0].id,e=this.options.data,n=this.options,r=n.margin,i=n.width,a=n.height;r=n.margin;i=i-r.left-r.right,a=a-r.bottom-r.top;for(var o={distance:n.link.distance?n.link.distance:100,strength:n.link.strength?n.link.strength:-30,nodeRange:n.node.range?n.node.range:[5,20],linkRange:n.link.range?n.link.range:[1,12],textSize:n.text.size?n.text.size:10},s=[],u=[],c=d3.map(),l=0;l<e.length;l++){if((y=e[l]).value,c.has(y.target)){(f=c.get(y.target)).value+=y.value,f.siblings.push(y)}else{var f={id:y.target,value:y.value,siblings:[y]};$.extend(!0,f,y),c.set(y.target,f)}if(c.has(y.source)){(f=c.get(y.source)).value+=y.value,f.siblings.push(y)}else{f={id:y.source,value:y.value,siblings:[y]};$.extend(!0,f,y),c.set(y.source,f)}s.push($.extend(!0,{},y))}c.each(function(t){u.push(t)});var h=this.svg.attr("transform","translate("+r.left+","+r.top+")");h.append("defs").append("marker").attrs({id:t+"-arrowhead",viewBox:"-0 -5 10 10",refX:13,refY:0,orient:"auto",markerWidth:13,markerHeight:13,xoverflow:"visible"}).append("svg:path").attr("d","M 0,-5 L 10 ,0 L 0,5").attr("fill","#999").style("stroke","none");var d=d3.scaleLinear().domain(d3.extent(u,function(t){return+t.value})).range(o.nodeRange),p=d3.scaleLinear().domain(d3.extent(u,function(t){return+t.value})).range(o.linkRange),g=d3.forceSimulation().force("link",d3.forceLink().id(function(t){return t.id}).distance(o.distance)).force("charge",d3.forceManyBody().strength(o.strength)).force("center",d3.forceCenter(i/2,a/2)).force("attraceForce",d3.forceManyBody().strength(0)),y=h.append("g").attr("class","links").selectAll("line").data(s).enter().append("line").styles({stroke:"#999","stroke-opacity":.6});n.link.arrow?y.attr("marker-end","url(#"+t+"-arrowhead)"):y.attr("stroke-width",function(t){return t.s=p(t.value),t.s}),y.append("title").text(function(t){return t.value});var v=h.selectAll("."+t+"-edgepath").data(s).enter().append("path").attrs({class:t+"-edgepath","fill-opacity":0,"stroke-opacity":0,id:function(e,n){return t+"-edgepath"+n}}).style("pointer-events","none");edgelabels=h.selectAll("."+t+"-edgelabel").data(s).enter().append("text").style("pointer-events","none").attrs({class:t+"-edgelabel",id:function(e,n){return t+"-edgelabel"+n},"font-size":o.textSize,fill:"#545454"}),edgelabels.append("textPath").attr("xlink:href",function(e,n){return"#"+t+"-edgepath"+n}).style("text-anchor","middle").style("pointer-events","none").attr("startOffset","50%").text(function(t){return t.value});var m=h.append("g").attr("class","nodes").selectAll("g").data(u).enter().append("g"),b=m.append("circle").attr("r",function(t){return t.r=d(t.value),t.r}).attr("fill",function(t){return t.color?t.color:t.source_color&&t.id==t.source?t.source_color:t.target_color&&t.id==t.target?t.target_color:n.color(t.id)}).styles({stroke:"#fff","stroke-width":"1.5px",cursor:"pointer"}).call(d3.drag().on("start",function(t){d3.event.active||g.alphaTarget(.3).restart();t.fx=t.x,t.fy=t.y}).on("drag",function(t){t.fx=d3.event.x,t.fy=d3.event.y}).on("end",function(t){d3.event.active||g.alphaTarget(0);t.fx=null,t.fy=null})),x=m.append("text").text(function(t){return t.id+"("+t.value+")"}).attr("x",function(t){return d(t.value)+3}).attr("y",3).style("font-size",o.textSize);m.append("title").text(function(t){return t.id}),this.setObject(x,n.text),this.setObject(b,n.node),this.setObject(edgelabels,n.edge),this.setObject(y,n.link),g.nodes(u).on("tick",function(){b.attr("cx",function(t){return t.x=Math.max(t.r,Math.min(i-t.r,t.x))}).attr("cy",function(t){return t.y=Math.max(t.r,Math.min(a-t.r,t.y))}),y.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),x.attr("x",function(t){return d(t.value)+t.x+3}).attr("y",function(t){return t.y+o.textSize/3}),v.attr("d",function(t){return"M "+t.source.x+" "+t.source.y+" L "+t.target.x+" "+t.target.y}),edgelabels.attr("transform",function(t){if(t.target.x<t.source.x){var e=this.getBBox();return rx=e.x+e.width/2,ry=e.y+e.height/2,"rotate(180 "+rx+" "+ry+")"}return"rotate(0)"})}),g.force("link").links(s);m.on("mouseover",function(t){x.style("opacity",function(e){for(var n in e.siblings){var r=e.siblings[n];if(r.source===t.id||r.target===t.id)return 1}return 0}),y.style("opacity",function(e){return e.source.id===t.id||e.target.id===t.id?1:0}),edgelabels.style("opacity",function(e){return e.source.id===t.id||e.target.id===t.id?1:0})}).on("mouseout",function(t){y.style("opacity",1),edgelabels.style("opacity",1),x.style("opacity",1)})}},l=function(){var t=this;this.type="scatter",this.draw=function(){var e=this.element[0].id,n=this.options.data,r=this.options,i=r.margin,a=r.width,o=r.height;a=a-(i=r.margin).left-i.right,o=o-i.bottom-i.top;var s=this.svg.attr("transform","translate("+i.left+","+i.top+")"),u=d3.extent(n,function(t){return+t.x}),c=d3.extent(n,function(t){return+t.y});t.drawAxis(n,u,c),function(i){var a=t.xScale,u=t.yScale,c=t.xAxis,l=t.yAxis,f=d3.transition().duration(r.duration).ease(d3.easeQuadOut);a.domain(d3.extent(n,function(t){return+t.x})),u.domain(d3.extent(n,function(t){return+t.y})),t.styleAxis(a,u,c,l);var h=d3.scaleLinear().domain(d3.extent(n,function(t){return+t.value})).range(r.node.range?r.node.range:[5,20]),d=s.selectAll("."+e+"-dot").data(n);d.enter().append("circle").attr("r",function(t){return h(t.value)}).attr("stroke","white").attr("stroke-width","2px").attr("fill",function(t){return t.color?t.color:(t.category?t.color=r.color(t.category):t.color=r.color(t.name),t.color)}).attr("class",e+"-dot").attr("id",function(t,n){return e+"-dot-"+n}).attr("cy",o).attr("cx",0).merge(d).transition(f).attr("cy",function(t,e){return u(t.y)}).attr("cx",function(t,e){return a(t.x)});r.text.over&&d3.selectAll("."+e+"-dot").on("mouseover",function(t){var e=d3.select(this).attr("id");d3.select("#"+e.replace("dot","label")).style("opacity",1)}).on("mouseout",function(){y.style("opacity",0)});var p=s.selectAll("."+e+"-dot").on("click",function(e){t.click(e)});r.node&&t.setObject(p,r.node);d.exit().remove(),r.text.x=t.isNull(r.text.x)?0:r.text.x,r.text.y=t.isNull(r.text.y)?0:r.text.y;var g=s.selectAll("."+e+"-label").data(n);g.enter().append("text").attr("class",e+"-label").attr("id",function(t,n){return e+"-label-"+n}).attr("x",0).attr("y",o).merge(g).transition(f).attr("x",function(t){return a(t.x)+h(t.value)+r.text.x}).attr("y",function(t){return u(t.y)+h(t.value)/2+r.text.y}).text(function(t){return t.name}),d3.selectAll("."+e+"-label").attr("x",function(t){return a(t.x)+r.text.x}).attr("y",function(t){return u(t.y)+h(t.value)/2+r.text.y});var y=s.selectAll("."+e+"-label").on("click",function(e){t.click(e)});r.text.over&&y.style("opacity",0);r.text&&t.setObject(y,r.text);g.exit().remove(),s.select(".x.axis").transition(f).call(c),s.select(".y.axis").transition(f).call(l)}()}},f=function(){var t=this;this.type="table",this.parseJson=function(){var t=this.options.data;"string"==typeof t&&(t=$.parseJSON(t));var e=[],n=[];for(var r in t[0])n.push(r);for(var i in e.push(n),t){var a=[],o=t[i];for(var s in o)a.push(o[s]);e.push(a)}this.options.data=e},this.draw=function(){var e,n=this.element,r=this.options,i=r.data,a=r.width-r.margin.left-r.margin.right,o=r.height-r.margin.top-r.margin.bottom,s={};s.headerUse=!r.headerUse||r.headerUse,s.headerWidth=r.headerWidth?r.headerWidth:[30,40,30],s.defaultCss=!r.defaultCss||r.defaultCss,s.tableClass=r.tableClass?r.tableClass:{},s.tableClass.table=r.tableClass.table?r.tableClass.table:"davif-table",s.tableClass.tr=r.tableClass.table?r.tableClass.tr:"davif-tr",s.tableClass.tr_header=r.tableClass.table?r.tableClass.tr_header:"davif-header-row",s.tableClass.tr_row=r.tableClass.tr_row?r.tableClass.tr_row:"davif-row",s.tableClass.td=r.tableClass.td?r.tableClass.td:"davif-cell",s.tableClass.th=r.tableClass.th?r.tableClass.th:"davif-header",s.headerUse&&(e=d3.keys(i[0]));!function(e,i){var u=d3.select(n.selector).append("table").attr("class",s.tableClass.table).attr("width",a).attr("height",o).style("background-color",r.backgroundColor).style("border-collapse","collapse").style("margin-top",r.margin.top+"px").style("margin-bottom",r.margin.bottom+"px").style("margin-left",r.margin.left+"px").style("margin-right",r.margin.right+"px");if(thead=u.append("thead"),tbody=u.append("tbody"),s.headerUse){var c=thead.append("tr").attr("class",s.tableClass.tr+" "+s.tableClass.tr_header).selectAll("th").data(i).enter().append("th").attr("class",function(t){return s.tableClass.th+" "+t}).style("color",r.fontColor).style("font-family",r.font).style("font-size",r.fontSize+"px").style("text-align","center").style("padding","5px").text(function(t){return t});s.headerWidth&&c.selectAll("th").style("width",function(t,e){return s.headerWidth[e]+"%"})}var l=tbody.selectAll("tr."+s.tableClass.tr_row).data(e).enter().append("tr").attr("class",s.tableClass.tr+" "+s.tableClass.tr_row),f=l.selectAll("td."+s.tableClass.td).data(function(t){return i.map(function(e){return{column:e,value:t[e]}})}).enter().append("td").attr("class",s.tableClass.td).style("color",r.fontColor).style("text-anchor","middle").style("text-align","center").style("padding","5px").style("font-family",r.font).style("font-size",r.fontSize+"px").html(function(t){return t.value});s.defaultCss&&("end"==r.fontAlign&&(r.fontAlign="center"),u.selectAll("th").style("border-top","3px solid #4062f7").style("border-bottom","1px solid #bbb").style("border-left","1px solid #d5d5d5").style("background-color","#e2e2e2").style("color",r.fontColor).style("font-size",r.fontSize+"px").style("font-family",r.font).style("font-color",r.fontColor).style("font-weight","bold"),u.select("th").style("border-left",null),u.selectAll("td").style("border-bottom","1px solid #d5d5d5").style("font-size",r.fontSize+"px").style("font-family",r.font).style("font-color",r.fontColor).style("border-left","1px solid #d5d5d5"),u.selectAll("td:first-child").style("border-left","none"),u.selectAll("tr:nth-child(odd)").style("background-color","#f7f7f7"),0==s.headerUse&&u.selectAll("tr:first-child").style("border-top","1px solid #d5d5d5")),t.setObject(u,r.table),t.setObject(l,r.rows),t.setObject(f,r.cells)}(i,e)}},h=function(){var t=this;this.type="line",this.sorted=function(e){for(var n=[],r=0;r<e.length;r++){var i=e[r].data,a=0;for(var o in i){var s=i[o];a+=Number(s.value)}n.push({name:i[0].name,value:a})}n.sort(t.sort);var u=[];for(var r in n){s=n[r];for(var o in e){i=e[o];if(s.name==i.name){u.push(i);break}}}return u},this.draw=function(){this.element[0].id;var t=this.options.data,e=(this.config,this.svg,this.options),n=(e.type,e.width),r=e.height,i=e.margin;n=n-e.margin.left-e.margin.right,r=r-e.margin.bottom-e.margin.top,t=this.parser(t),t=this.sorted(t);for(var a=Math.PI/2,o=n,s=r,u=i,c=0,l=1.25,f=60,h=.35,d=4,p=.1,g=2,y="",v=".0f",m=5,b=0,x=0;x<t.length;x++)for(var _=0;_<t[x].data.length;_++)t[x].data[_].id=t[x].name,t[x].data[_].value>b&&(b=t[x].data[_].value);b=Math.max(c,b);var w=t[0].data.map(function(t,e){return t.date}),k=w.length,M=e.height/2-i.bottom-i.top-80,A=d3.format(v),T=2*Math.PI/k,E=d3.scaleLinear().range([0,M]).domain([0,b]),C=d3.select(this.element.selector);C.select("svg").remove();var S=C.append("svg").attr("width",o+u.left+u.right).attr("height",s+u.top+u.bottom).attr("class","radar").append("g").attr("transform","translate("+(o/2+u.left)+","+(s/2+u.top)+")"),N=S.append("g").attr("class","axisWrapper");N.selectAll(".levels").data(d3.range(1,m+1).reverse()).enter().append("circle").attr("class","gridCircle").attr("r",function(t){return M/m*t}).style("fill","#CDCDCD").style("stroke","#CDCDCD").style("fill-opacity",p),N.selectAll(".axisLabel").data(d3.range(1,m+1).reverse()).enter().append("text").attr("class","axisLabel").attr("x",4).attr("y",function(t){return-t*M/m}).attr("dy","0.4em").style("font-size","10px").attr("fill","#737373").text(function(t){return A(b*t/m)+y});var R=N.selectAll(".axis").data(w).enter().append("g").attr("class","axis");R.append("line").attr("x1",0).attr("y1",0).attr("x2",function(t,e){return E(1.1*b)*Math.cos(T*e-a)}).attr("y2",function(t,e){return E(1.1*b)*Math.sin(T*e-a)}).attr("class","line").style("stroke","#828282").style("stroke-width","0.25px"),R.append("text").attr("class","legend").style("font-size","11px").attr("text-anchor","middle").attr("dy","0.35em").attr("x",function(t,e){return E(b*l)*Math.cos(T*e-a)}).attr("y",function(t,e){return E(b*l)*Math.sin(T*e-a)}).text(function(t){return t}).call(this.wrap,f);var P=this.lineType(e.line.type),z=d3.radialLine().curve(P).radius(function(t){return E(t.value)}).angle(function(t,e){return e*T}),O=S.selectAll(".radarWrapper").data(t).enter().append("g").attr("class","radarWrapper");O.append("path").attr("class","radarArea").attr("d",function(t){return z(t.data)}).style("fill",function(t,n){return t.color?t.color:e.color(t.name)}).style("fill-opacity",h).on("mouseover",function(t,n){C.selectAll(".radarArea").transition().duration(e.duration).style("fill-opacity",.1),d3.select(this).transition().duration(200).style("fill-opacity",.7)}).on("mouseout",function(){C.selectAll(".radarArea").transition().duration(e.duration).style("fill-opacity",h)}),O.append("path").attr("class","radarStroke").attr("d",function(t,e){return z(t.data)}).style("stroke-width",g+"px").style("stroke",function(t,n){return t.color?t.color:e.color(t.name)}).style("fill","none"),O.selectAll(".radarCircle").data(function(t){return t.data}).enter().append("circle").attr("class","radarCircle").attr("r",d).attr("cx",function(t,e){return E(t.value)*Math.cos(T*e-a)}).attr("cy",function(t,e){return E(t.value)*Math.sin(T*e-a)}).style("fill",function(t,n){return t.color?t.color:e.color(t.name)}).style("fill-opacity",.8),S.selectAll(".radarCircleWrapper").data(t).enter().append("g").attr("class","radarCircleWrapper").selectAll(".radarInvisibleCircle").data(function(t){return t.data}).enter().append("circle").attr("class","radarInvisibleCircle").attr("r",1.5*d).attr("cx",function(t,e){return E(t.value)*Math.cos(T*e-a)}).attr("cy",function(t,e){return E(t.value)*Math.sin(T*e-a)}).style("fill","none").style("pointer-events","all").on("mouseover",function(t,e){L.attr("x",this.cx.baseVal.value-10).attr("y",this.cy.baseVal.value-10).transition().style("display","block").text(A(t.value)+y)}).on("mouseout",function(){L.transition().duration(e.duration).style("display","none").text("")});var L=S.append("text").attr("class","tooltip").attr("x",0).attr("y",0).style("font-size","12px").style("display","none").attr("text-anchor","middle").attr("dy","0.35em")}},d=function(){var t=this;this.type="treemap",this.draw=function(){var e=this.element[0].id,n=this.options.data,r=this.options,i=(r.type,r.width),a=r.height,o=r.margin;this.config;i=i-r.margin.left-r.margin.right,a=a-r.margin.bottom-r.margin.top;var s=d3.max(n,function(t){return t.value});var u=d3.treemap().size([i,a]),c=d3.select(this.element.selector).append("div").style("position","relative").style("width",i+o.left+o.right+"px").style("height",a+o.top+o.bottom+"px").style("left",o.left+"px").style("top",o.top+"px");!function n(i){c.html("");i={name:"tree",children:i};var a=d3.hierarchy(i,function(t){return t.children}).sum(function(t){return t.value}).sort(function(t,e){return e.data.value-t.data.value});var o=u(a);var l=c.datum(a).selectAll("."+e+"-node").data(o.leaves()).enter().append("div").attr("class",e+"-node").style("left",function(t){return t.x0+"px"}).style("top",function(t){return t.y0+"px"}).style("width",function(t){return Math.max(0,t.x1-t.x0-1)+"px"}).style("height",function(t){return Math.max(0,t.y1-t.y0-1)+"px"}).style("background",function(t){return r.valueRange?function(t,e){var n=r.valueRange,i=e.value/t*100,a="";for(var o in n)i>n[o]&&i<=n[o-1]&&(a=r.colorRange[o-1]);return e.color=a,a}(s,t.data):t.data.color?t.data.color:t.data.category?r.color(t.data.category):r.color(t.data.name)}).style("position","absolute").style("border","solid 2px white").on("mouseover",function(){$(this).children("img").css("opacity",1)}).on("mouseout",function(){$(this).children("img").css("opacity",0)}).on("click",function(e){t.click(e)});t.setObject(l,r.node);var f=l.append("div").text(function(t){return t.data.name}).style("line-height",function(t){return Math.max(0,t.y1-t.y0-1)+"px"}).style("font-size",r.font.size+"px").style("color",function(t){return"function"==typeof r.font.color?r.font.color(t.data):r.font.color}).style("text-align",r.font.align).style("opacity",r.font.opacity);t.setObject(f,r.font);r.removeImg||(r.removeImg="../images/btn_delete.png");l.append("img").attr("src",r.removeImg).attr("width","22px").attr("height","22px").style("position","absolute").style("top","5px").style("right","5px").style("opacity",0).style("cursor","pointer").on("click",function(t,e,r,a){var o=[];for(var s in i.children)t.data.name!=i.children[s].name&&o.push(i.children[s]);n(o)})}(n)}},p=function(){var t=this;this.self=this,this.draw=function(){this.element[0].id;var e=this.options.data,n=(this.config,this.svg,this.options),r=(n.type,n.width),i=n.height;n.margin;r=r-n.margin.left-n.margin.right,i=i-n.margin.bottom-n.margin.top;var a={};!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.d3=t.d3||{})}(self,function(t){"use strict";t.forceAttract=function(t){var e=void 0,n=void 0,r=void 0,i=void 0;function a(t){for(var r=void 0,a=void 0,o=void 0,s=0;s<e.length;s++)r=e[s],a=n[s],o=i[s],r.vx+=(a[0]-r.x)*o*t,r.vy+=(a[1]-r.y)*o*t}function o(){if(e){i=new Array(e.length);for(var a=0;a<e.length;a++)i[a]=r(e[a],a,e);n=new Array(e.length);for(var o=0;o<e.length;o++)n[o]=t(e[o],o,e)}}return a.initialize=function(t){e=t,o()},a.strength=function(t){return null==t?r:(r="function"==typeof t?t:function(){return+t},o(),a)},a.target=function(e){return null==e?t:(t="function"==typeof e?e:function(){return e},o(),a)},r||a.strength(.1),t||a.target([0,0]),a},Object.defineProperty(t,"__esModule",{value:!0})}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.d3=t.d3||{})}(self,function(t){"use strict";t.forceCluster=function(t){var e=void 0,n=[],r=.1,i=0;function a(t){t*=r*t;var a=void 0,o=void 0,s=void 0,u=void 0,c=void 0;e.forEach(function(e,r){(a=n[r])&&a!==e&&(o=e.x-a.x,s=e.y-a.y,u=Math.sqrt(o*o+s*s),c=e.radius+(a.radius||0),u&&u!=c&&(u=(u-c)/u*t,e.x-=o*=u,e.y-=s*=u,a.x+=(1-i)*o,a.y+=(1-i)*s))})}function o(){if(e){var r=void 0,i=e.length;for(n=new Array(i),r=0;r<i;r++)n[r]=t(e[r],r,e)}}return"function"!=typeof t&&(t=function(){return t}),a.initialize=function(t){e=t,o()},a.centers=function(e){return null==e?t:(t="function"==typeof e?e:function(t,n){return e[n]},o(),a)},a.strength=function(t){return null==t?r:(r=+t,a)},a.centerInertia=function(t){return null==t?i:(i=+t,a)},a},Object.defineProperty(t,"__esModule",{value:!0})});e=this.options.data;var o=n.node.padding,s=d3.scaleLinear().domain(d3.extent(e,function(t){return+t.value})).range(n.node.range),u=d3.max(e,function(t){return t.value}),c=[];for(var l in e){var f=e[l];f.category||(e[l].value=u/1.5,e[l].category="top",c.push(f.name))}var h=d3.map(),d=0;d3.map(e,function(t){h.has(t.category)||h.set(t.category,d++)});var p=e.length,g=h.size(),y=d3.range(p).map(function(t){var n=e[t],o=h.get(n.category),u=s(n.value);return n.x=200*Math.cos(o/g*2*Math.PI)+r/2+Math.random(),n.y=200*Math.sin(o/g*2*Math.PI)+i/2+Math.random(),n.cluster=o,n.radius=u,(!a[n.category]||n.r<a[n.category].r)&&(a[n.category]=n),n}),v=d3.forceSimulation().force("center",d3.forceCenter(r/2,i/2)).force("attract",d3.forceAttract().target([r/2,i/2]).strength(.01)).force("cluster",d3.forceCluster().centers(function(t){return a[t.cluster]}).strength(.5).centerInertia(.1)).force("collide",d3.forceCollide(function(t){return t.radius+o}).strength(0)).on("tick",function(t){b.attr("cx",function(t){return t.x=Math.max(t.radius,Math.min(r-t.radius,t.x))}).attr("cy",function(t){return t.y=Math.max(t.radius,Math.min(i-t.radius,t.y))}).attr("r",function(t){return t.radius}),_.attr("x",function(t){return t.x=Math.max(t.radius,Math.min(r-t.radius,t.x))}).attr("y",function(t){return t.y=Math.max(t.radius,Math.min(i-t.radius,t.y))})}).nodes(y),m=this.svg.selectAll("g").data(y).enter().append("g"),b=m.append("circle").style("fill",function(t){return"top"==t.category?"#fff":n.colorRange?colorRange(t.radius):t.color?t.color:n.color(t.name)}).style("stroke",function(t){if("top"==t.category)return"#44404b"}).style("stroke-width",function(t){if("top"==t.category)return"5px"}).on("click",function(e){n.click&&t.click(e)}).style("cursor","pointer").call(d3.drag().on("start",function(t){d3.event.active||v.alphaTarget(.3).restart();t.fx=t.x,t.fy=t.y}).on("drag",function(t){t.fx=d3.event.x,t.fy=d3.event.y}).on("end",function(t){d3.event.active||v.alphaTarget(0);t.fx=null,t.fy=null}));this.setObject(b,n.node);var x=n.text.size?n.text.size:1,_=m.append("text").attr("transform",function(t){return"translate(0,"+t.radius/10+")"}).text(function(t){return n.text.ellipsis&&t.radius<n.text.ellipsis.radius&&t.name.length>n.text.ellipsis.limit?t.name.substr(0,n.text.ellipsis.limit)+n.text.ellipsis.suffix:t.name}).style("text-anchor","middle").style("fill",function(t){return"top"==t.category?"#000":"function"==typeof n.font.color?n.font.color(t):n.font.color}).style("font-family",n.font.name).style("font-size",function(t){return 2*t.radius<=d3.select(this).node().getComputedTextLength()?t.fs=Math.min(2*t.radius,2*t.radius/this.getComputedTextLength()*10):t.fs=t.radius/4,t.fs+=+x,t.fs+"px"}).style("fill-opacity",function(t,e){"top"==t.category?d3.select(this).style("opacity",1):2*t.r<=d3.select(this).node().getComputedTextLength()?d3.select(this).style("opacity",0):d3.select(this).style("opacity",1)}).style("cursor","pointer").on("click",function(e){n.click&&t.click(e)});this.setObject(_,n.text),b.append("title").text(function(e){return"top"==e.category?e.name:e.name+" : "+t.digits(e.value)+""}),_.append("title").text(function(e){return"top"==e.category?e.name:e.name+" : "+t.digits(e.value)+""});var w=d3.timer(function(t){var e=t/300;v.force("collide").strength(.7*Math.pow(e,2)),e>=1&&w.stop()})}},g=function(){this.self=this,this.draw=function(){this.element[0].id;var t=this.options.data,e=(this.config,this.svg),n=this.options,r=(n.type,n.width),i=n.height;n.margin;r=r-n.margin.left-n.margin.right,i=i-n.margin.bottom-n.margin.top;var a={children:t};d3.scaleLinear().domain(d3.extent(t,function(t){return+t.value})).range(n.node.range?n.node.range:[1,20]);n.node.add=Number(n.node.add),n.node.padding=Number(n.node.padding);var o=d3.pack(a).size([r,i]).padding(n.node.padding+n.node.add),s=(e=this.svg,d3.hierarchy(a).sum(function(t){return t.value})),u=e.selectAll(".node").data(o(s).descendants()).enter().filter(function(t){return!t.children}).append("g").attr("class","node").attr("transform",function(t){return"translate("+t.x+","+t.y+")"});u.append("title").text(function(t){return t.data.name+": "+t.data.value}),u.append("circle").attr("r",function(t){return t.r+n.node.add}).style("fill",function(t,e){return t.data.category?n.color(t.data.category):n.color(t.data.name)}),u.append("text").attr("dy",".2em").style("text-anchor","middle").text(function(t){return t.data.name.substring(0,t.r/3)}).attr("font-size",function(t){return(t.r+n.node.add)/5+n.text.size}).attr("fill",n.font.color?n.font.color:"white"),n.value&&n.value.show&&u.append("text").attr("dy","1.3em").style("text-anchor","middle").text(function(t){return t.data.value}).attr("font-size",function(t){return(t.r+n.node.add)/5+n.text.size}).attr("fill",n.font.color?n.font.color:"white")}},y=function(){var t=this;this.type="heatmap",this.draw=function(){this.element[0].id;var e=this.options,n=e.margin,r=e.width-e.margin.left-e.margin.right,i=e.height-e.margin.bottom-e.margin.top;e.legend.use&&(i-=35);e.color;var a=e.data,o=e.axis&&e.axis.name?e.axis.name:["mon","tue","wed","thu","fri","sat","sun"],s=d3.range(24),u=Math.floor(r/s.length),c=Math.floor(i/o.length),l=this.svg.attr("transform","translate("+n.left+","+Number(n.top)+")"),f=d3.scaleLinear().domain([0,d3.max(a,function(t){return t.value})/2,d3.max(a,function(t){return t.value})]).range(e.color);l.selectAll(".dayLabel").data(o).enter().append("text").text(function(t){return t}).attr("x",0).attr("y",function(t,e){return e*c}).style("text-anchor","end").style("font-family",this.options.font).style("font-size",this.options.text.size+"px").attr("transform","translate(-6,"+c/1.5+")").attr("class",function(t,e){return e>=0&&e<=4?"dayLabel mono axis axis-workweek":"dayLabel mono axis"}),l.selectAll(".timeLabel").data(s).enter().append("text").text(function(t){return t}).attr("x",function(t,e){return e*u}).attr("y",0).style("font-family",this.options.font).style("font-size",this.options.text.size+"px").style("text-anchor","middle").attr("transform","translate("+u/2+", -6)").attr("class",function(t,e){return e>=8&&e<=17?"timeLabel mono axis axis-worktime":"timeLabel mono axis"}),l.selectAll(".hour").data(a).enter().append("rect").attr("x",function(t){return(t.hour-1)*u}).attr("y",function(t){return(t.day-1)*c}).attr("class","hour bordered").attr("width",u).attr("height",c).style("stroke","white").style("stroke-opacity",.6).style("fill",function(t){return t.color||(t.color=f(t.value)),t.color}).on("click",function(e){t.click(e)});e.legend.use}},v=function(){var t=this;this.type="hierarchy_tree",this.draw=function(){var e,n=this.element[0].id,r=this.options,i=r.margin,a=r.width-r.margin.left-r.margin.right,o=(r.height,r.margin.bottom,r.margin.top,r.color,this.parseHierarchyJson()),s=r.node.interval?r.node.interval:20,u=.15*(a-i.left-i.right),c=0,l=d3.linkHorizontal().x(function(t){return t.y}).y(function(t,e){return t.x}),f=this.svg.attr("transform","translate("+i.left+","+i.top+")");if((e=d3.hierarchy(o)).x0=0,e.y0=0,!1===r.collapse.open){!function t(e){for(var n in e.children){var r=e.children[n];r.children&&(t(r),r._children=r.children,r.children=null)}}(e)}function h(a){var o=e.descendants(),h=Math.max(r.height,o.length*s+i.top+i.bottom);d3.select("#"+n).transition().duration(r.duration).attr("height",h),d3.select("#"+n).select("svg").transition().duration(r.duration).attr("height",h);var p=-1,g=null;e.eachBefore(function(t){g&&(g.depth==t.depth?p++:g.depth>t.depth&&(p+=2)),t.id=t.id||(t.id=++c),t.x=p*s,t.y=t.depth>0?t.depth*r.depthLength[t.depth-1]:0,g=t});var y=f.selectAll(".link").data(e.links(),function(t){return t.target.id}),v=y.enter().insert("path","g").attr("class","link").style("fill","none").style("stroke","#9ecae1").style("stroke-width",1.5).attr("d",function(t,e){var n={x:a.x0,y:a.y0};return l({source:n,target:n})}).transition().duration(r.duration).attr("d",l);r.link&&t.setObject(v,r.link),y.transition().duration(r.duration).attr("d",l),y.exit().transition().duration(r.duration).attr("d",function(t,e){var n={x:a.x,y:a.y};return l({source:n,target:n})}).remove();var m=f.selectAll(".node").data(o,function(t){return t.id||(t.id=++c)}),b=m.enter().append("g").attr("class","node").attr("transform",function(t){return"translate("+a.y0+","+a.x0+")"}).style("opacity",0);function x(t,e){for(var i in r.parent[t].style)d3.selectAll("."+n+"-htree-parent-"+t).style(i,function(e){return r.parent[t].style[i]});for(var i in r.parent[t].attr)d3.selectAll("."+n+"-htree-parent-"+t).attr(i,function(e){return r.parent[t].attr[i]})}var _=b.append("rect").attr("class",function(t){return t.parent?n+"-htree-rect":n+"-htree-parent-rect"}).attr("y",-s/2).attr("height",s).attr("width",u).style("fill",function(t){return t._children?"#aec7e8":"#fff"}).style("fill-opacity",1).style("stroke","#3182bd").style("stroke-width",1.5).style("cursor","pointer").on("click",d);r.rect&&t.setObject(_,r.rect),r.parent.rect&&x("rect");var w=b.append("text").attr("class",function(t){return t.parent?n+"-htree-text":n+"-htree-parent-text"}).attr("y",0).attr("x",u/2).attr("dy",".35em").style("text-anchor","middle").style("font-size",r.text.size+"px").style("cursor","pointer").attr("data-value",function(t){return t.data.name}).text(function(t){return t.data.name}).on("click",d);function k(e){e.append("title").text(function(e){return r.node.title?r.node.title(e):e.data.value?e.data.name+" : "+t.digits(e.data.value)+"":e.data.name})}r.text&&t.setObject(w,r.text),r.parent.text&&(d3.selectAll("."+n+"-htree-parent-text").attr("y",function(t){if(!t.parent)return(d3.select(this.parentNode).select("rect").attr("height")-20)/2-Number(r.parent.text.style["font-size"].replace("px",""))}),x("text")),k(_),k(w),b.transition().duration(r.duration).attr("transform",function(t,e){return t.y,"translate("+t.y+","+t.x+")"}).style("opacity",1),m.transition().duration(r.duration).attr("transform",function(t,e){return"translate("+t.y+","+t.x+")"}).style("opacity",1).select("rect").style("fill",function(t){return t.parent&&r.rect.style.fill?r.rect.style.fill(t):!t.parent&&r.parent.rect.style.fill?r.parent.rect.style.fill:t._children?"#aec7e8":"#fff"}).style("stroke",function(t){if(t.parent)return r.rect.style.stroke?r.rect.style.stroke(t):"#3182bd"}),m.exit().transition().duration(r.duration).attr("transform",function(t){return"translate("+a.y+","+a.x+")"}).style("opacity",0).remove(),e.each(function(t,e){t.x0=t.x,t.y0=t.y})}function d(e){if(0==e.depth||r.node.limitLevel&&e.depth>=r.node.limitLevel)r.click&&t.click(e);else if(e.children&&e.children.length>0)e._children=e.children,e.children=null,h(e),r.click&&t.click(e);else if(r.collapse.data&&r.collapse.data.conditions){var i=d3.select(this.parentNode).select("text"),a=Number(i.attr("x"))+Number(i.node().getComputedTextLength());i.attr("y");if(r.collapse.loading.src){var o=d3.select(this.parentNode).append("image").attr("id",n+"-"+e.data.id+"-loading").attr("width",20).attr("x",a).attr("y",-20).attr("xlink:href",r.collapse.loading.src);t.setObject(o,r.collapse.loading)}t.collapse(e,h)}else e.children=e._children,e._children=null,h(e),r.click&&t.click(e)}h(e)}},m=function(){var t=this;this.type="update_bar",this.draw=function(){var e=this.options,n=e.margin,r=(e.type,e.data),i=e.width-n.left-n.right,a=e.height-n.top-n.bottom,o={};r=r.reduce(function(t,e,n){return e.value.isInteger()||(e.value=Number(e.value)),o[e.date]?o[e.date].push(e):o[e.date]=[e],o});var s=Object.keys(r).map(function(t){return t}),u=s[s.length-1],c=s[0],l=p(r[c]),f=l.map(y),h=5,d=function(t,e){return 40*e};function p(t){return t.sort(function(t,e){return e.value-t.value})}function g(t){return t.value}function y(t){return t.name}var v=d3.scaleLinear().range([0,i]).domain([0,d3.max(r[c],function(t){return t.value})]),m=d3.scaleBand().rangeRound([0,a],.1).padding(.1);function b(t,e,n){var r=d3.max(e,function(t){return t.value});v.domain([0,r]);var i=t.select(".axis--x");i.empty()&&(i=t.append("g").attr("class","axis axis--x")),i.transition(n).attr("transform","translate("+h+","+a+")").call(d3.axisBottom(v))}function x(t,e,n){var r=t.select(".axis--y");r.empty()&&(r=t.append("g").attr("class","axis axis--y")),r.transition(n).call(d3.axisLeft(m)).selectAll("g").delay(d),r.select("path").style("display","none")}function _(n,r,i){var a=n.select(".bars-g");a.empty()&&(a=n.append("g").attr("class","bars-g"));var o=a.selectAll(".bar").data(r,y),s=a.selectAll("text").data(r,y);o.exit().remove(),s.exit().remove();var u=o.enter().append("rect").attr("class","bar").attr("x",h).style("fill-opacity",0).merge(o).transition(i).style("fill-opacity",.9).style("fill",function(t){return t.color?t.color:t.category?e.color(t.category):e.color?e.color(t.name):"#3182bd"}).attr("y",function(t){return m(y(t))}).attr("width",function(t){return v(g(t))}).attr("height",m.bandwidth()).delay(d);t.setObject(u,e.rect);var c=s.enter().append("text").attr("class","bar-text").style("fill","#777").style("font-weight","bold").style("font-size","12px").merge(s).transition(i).attr("text-anchor","start").attr("x",function(t){return v(g(t))+10}).attr("y",function(t){return m(y(t))+m.bandwidth()/2}).tween("text",function(t){var e=d3.select(this),n=e.text(),r=d3.interpolateRound(n,t.value);return function(t){e.text(r(t))}}).delay(d);t.setObject(c,e.text)}var w=this.svg.attr("transform","translate("+n.left+","+n.top+")");m.domain(f),b(w,l),x(w),_(w,l),function(n,r,o){var s=n.append("text").attr("transform","translate("+i/1.4+","+a/1.05+")").attr("class","date").attr("dy",".1em").attr("dx","-3em").style("opacity",.5).style("font",'600 26px "Helvetica Neue"').style("fill","#b1b1b1").text(function(t){return r[0].date});t.setObject(s,e.date)}(w,l);var k=1,M=d3.interval(function(){var t=d3.transition().duration(e.duration),n=s[k++];l=p(r[n]),m.domain(l.map(y)),b(w,l,t),x(w,0,t),_(w,l,t),function(t,e,n){t.select(".date").transition(n).attr("opacity",.5).text(function(t){return e[0].date})}(w,l,t),n===u&&(e.rotation?k=1:M.stop())},e.interval)}},b=function(){var t=this;this.type="radar_table",this.draw=function(){var e=this.element[0].id,n=this.options.data,r=(this.config,this.svg,this.options),i=(r.type,r.width),a=r.height,o=r.margin;if(i=i-r.margin.left-r.margin.right,a=a-r.margin.bottom-r.margin.top,(n=this.parser(n)).length>1){var s={name:"blank",data:JSON.parse(JSON.stringify(n[0].data)),total:0};for(var u in s.data)s.data[u].value=0;n.push(s)}var c=Math.PI/2,l=i,f=a,h=o,d=r.text.factor?r.text.factor:1.1,p=60,g=.1,y=".0f",v=d3.max(n,function(t){return d3.max(t.data,function(t){return t.value})}),m=d3.min(n,function(t){return d3.min(t.data,function(t){return t.value})}),b=n[0].data.map(function(t,e){return t.category}),x=n.map(function(t,e){return t.name}).reverse(),_=x.length,w=b.length,k=r.height/2-o.bottom-o.top-80,M=(d3.format(y),2*Math.PI/w);r.radius&&(k+=r.radius);var A=k/_/4,T=d3.scaleLinear().domain([m,v]).range(r.node.range?r.node.range:[0,15]),E=d3.scaleLinear().range([0,k]).domain([0,v]),C=d3.scaleBand().range([k/(1==_?2:_),k+A]).domain(x),S=d3.select(this.element.selector);S.select("svg").remove();var N=S.append("svg").attr("width",l+h.left+h.right).attr("height",f+h.top+h.bottom).attr("class","radar").append("g").attr("transform","translate("+(l/2+h.left)+","+(f/2+h.top)+")"),R=N.append("g").attr("class",e+"axisWrapper");if(r.outer){var P=R.append("circle").attr("r",function(t){return r.outer.r||(r.outer.r=1.25),k/(_+1)*(_+r.outer.r)}).style("fill","none").style("stroke","#ececee").style("stroke-width",30);r.outer&&this.setObject(P,r.outer)}var z=R.selectAll("."+e+"levels").data(d3.range(1,_+2).reverse()).enter().append("circle").attr("class",e+"gridCircle").attr("r",function(t){return k/(_+1)*t}).style("fill","#fff").style("stroke","#CDCDCD").style("fill-opacity",g);r.grid&&this.setObject(z,r.grid);var O=R.selectAll("."+e+"axis").data(b).enter().append("g").attr("class",e+"axis"),L=O.append("line").attr("x1",0).attr("y1",0).attr("x2",function(t,e){return E(1.1*v)*Math.cos(M*e-c)}).attr("y2",function(t,e){return E(1.1*v)*Math.sin(M*e-c)}).attr("class",e+"line").style("stroke","#828282").style("stroke-width","0.25px");r.axis&&r.axis.line&&this.setObject(L,r.axis.line);var D=O.append("text").attr("class",e+"legend").style("font-size","11px").attr("text-anchor","middle").attr("dy","0.35em").attr("x",function(t,e){return E(v*d)*Math.cos(M*e-c)}).attr("y",function(t,e){return E(v*d)*Math.sin(M*e-c)}).text(function(t){return t}).call(this.wrap,p);if(D.append("title").text(function(t){return t}),r.axis&&r.axis.text&&this.setObject(D,r.axis.text),r.center){var I=R.append("g");if(I.append("circle").attr("r",function(t){return r.center.r?r.center.r:k/(_+1)*1.1}).style("fill","#fff").style("stroke","#fff").style("fill-opacity",1),r.center.text.name){var j=I.append("text").attr("y",0).attr("dy","0.4em").style("font-size","10px").attr("fill","#737373").text(r.center.text.name);j.attr("x",function(t){return-this.getComputedTextLength()}),r.center.text&&this.setObject(j,r.center.text)}}var Y=this.lineType(r.line.type);d3.radialLine().curve(Y).radius(function(t){return E(t.value)}).angle(function(t,e){return e*M});function B(t){return r.node.pos?C(t.name)+(A-r.node.pos):r.node.range?C(t.name)+(A-r.node.range[0]):C(t.name)+A}var H=N.selectAll("."+e+"-radarWrapper").data(n).enter().append("g").attr("class",e+"-radarWrapper").selectAll("."+e+"-radar-circle").data(function(t){return t.data}).enter().append("circle").attr("class",e+"-radar-circle").attr("id",function(t){if(r.node.id)return r.node.id(t)}).attr("r",0).attr("cx",function(t,e){return B(t)*Math.cos(M*e-c)}).attr("cy",function(t,e){return B(t)*Math.sin(M*e-c)}).style("fill",function(t,e){return t.color?t.color:r.color(t.name)}).style("cursor","pointer").style("fill-opacity",.8);r.node&&this.setObject(H,r.node),H.append("title").text(function(e){var n=e.name;return e.value&&(n+=" : "+t.digits(e.value)+""),n}),H.transition().duration(r.duration).attr("r",function(t,e){return 0==t.value?0:T(t.value)});N.selectAll("."+e+"radarCircleWrapper").data(n).enter().append("g").attr("class",e+"radarCircleWrapper"),N.append("text").attr("class",e+"tooltip").attr("x",0).attr("y",0).style("font-size","12px").style("display","none").attr("text-anchor","middle").attr("dy","0.35em")}},x=function(){var t=this;this.type="map",this.draw=function(){var e=this.element[0].id,n=this.options.data,r=(this.config,this.svg,this.options),i=(r.type,r.width),a=r.height;r.margin;i=i-r.margin.left-r.margin.right,a=a-r.margin.bottom-r.margin.top;r.color;if(n[0].value){var o=0;d3.map(n,function(t){o+=t.value}),d3.map(n,function(t){t.percent=t.value/o*100})}var s={"":{center:[126.8,35.95],scale:5600},seoul:{center:[126.93,37.5],scale:59e3},incheon:{center:[126.35,37.44],scale:3e4},"gyeonggi-do":{center:[126.95,37.55],scale:17e3},"gangwon-do":{center:[127.9,37.8],scale:1e4},"gyeongsangbuk-do":{center:[128.5,36.3],scale:12e3},"gyeongsangnam-do":{center:[128.25,35.5],scale:15e3},ulsan:{center:[129.18,35.5],scale:55e3},sejongsi:{center:[127.15,36.5],scale:6e4},busan:{center:[129,35.1],scale:5e4},"chungcheongbuk-do":{center:[127.65,36.5],scale:15e3},"chungcheongnam-do":{center:[126.7,36.6],scale:15e3},daejeon:{center:[127.4,36.33],scale:5e4},"jeollabuk-do":{center:[127,35.8],scale:17e3},"jeollanam-do":{center:[126.6,34.8],scale:12e3},"jeju-do":{center:[126.6,33.35],scale:3e4},daegu:{center:[128.5,35.8],scale:55e3},gwangju:{center:[126.85,35.15],scale:6e4}},u=skorea_topo_simple_json,c=d3.format(","),l=d3.tip(this.type).attr("class",e+"-d3-tip");d3.scaleSqrt();!function o(f,h){r.map.x&&(s[f].center[0]=s[f].center[0]+r.map.x);r.map.y&&(s[f].center[1]=s[f].center[1]+r.map.y);f=f.toLowerCase();var d=d3.geoMercator().center(s[f].center).scale(s[f].scale).translate([i/2,a/2]);var p=d3.geoPath().projection(d);var g=d3.geoGraticule();d3.select("#"+e).select("svg").remove();var y=d3.select("#"+e).append("svg").attr("width",i).attr("height",a);y.append("path").datum(g).attr("class",e+"-graticule").attr("d",p);var v=""==f?"provinces":"municipalities";area=u[v];var m=topojson.feature(area,area.objects["skorea_"+v+"_geo"]).features;var b=d3gis.getAreaList(f);var x=[];if(""!=f)for(var _ in m){var w=m[_],k=w.properties;for(var M in b)if(k.name==b[M]||k.name.indexOf(b[M])>=0){if("incheon"==f&&("11020"==k.code||"11040"==k.code||"11250"==k.code||"11230"==k.code||"23320"==k.code||"31104"==k.code||"31103"==k.code))continue;if("seoul"==f&&("26010"==k.code||"25020"==k.code||"23010"==k.code))continue;if("ulsan"==f&&"21080"==k.code)continue;x.push(w);break}}else x=m;var A=y.selectAll("."+e+"-country").data(x).enter().insert("path","."+e+"-graticule").attr("class",e+"-country").attr("d",p).attr("id",function(t){return e+"-path-"+t.properties.code}).style("fill","#ddd").style("stroke","#999").style("cursor","pointer").on("click",E);var T=y.selectAll("."+e+"-gis-text").data(x).enter().append("text").attr("class",e+"-gis-text").attr("id",function(t){return e+"-text-"+t.properties.code}).attr("transform",function(t){var e=p.centroid(t);switch(t.properties.name){case"":e[1]+=35;break;case"":e[1]+=15;break;case"":e[1]+=12}return"translate("+e[0]+","+e[1]+")"}).attr("dy",".35em").style("text-anchor","middle").style("font-size","12px").style("font-weight","bold").style("fill","#434656").style("cursor","pointer").text(function(t){return d3gis.textFilter(t.properties.name)}).on("click",E);T.style("opacity",r.text.mouseover?0:1);r.tooltip.enabled&&y.call(l);function E(e){if(l.hide(),""==f&&r.clicked){var n={};n.d=e,n.zone=f,n.type=t.type,n.key=e.properties.name_eng,t.clicked(n,o)}else r.click&&t.click(e)}function C(t){if(r.text.mouseover){var n=d3.select(this).attr("id").split("-");d3.select("#"+e+"-text-"+n[n.length-1]).style("opacity",1)}r.tooltip.enabled&&l.show(t)}function S(t){if(r.text.mouseover){var n=d3.select(this).attr("id").split("-");d3.select("#"+e+"-text-"+n[n.length-1]).style("opacity",0)}r.tooltip.enabled&&l.hide(t)}!function(e){if(!e)return;l.offset([-10,0]).html(function(t){for(var n in e){var r=""==f?t.properties.name_eng.toLowerCase():t.properties.name;if(r==e[n].name&&e[n].value)return t.properties.name+": "+c(e[n].value)}return t.properties.name}),A.style("fill",function(t){for(var n in e){var i=""==f?t.properties.name_eng.toLowerCase():t.properties.name;if(i==e[n].name){if(e[n].color){t.color=e[n].color;break}t.color=r.color(d3gis.getLevel(e[n].percent));break}}return t.color||(t.color=r.map.defaultColor?r.map.defaultColor:"#ddd"),t.color}).on("mouseover",C).on("mouseout",S),T.on("mouseover",C).on("mouseout",S),t.setObject(A,r.path),t.setObject(T,r.text)}(h);if(r.map.back){var N=d3.select(r.map.back);""==f?N.style("display","none"):N.style("display","block").on("click",function(){o("",n)})}}("",n)}},_=function(){var t=this;this.type="quad_scatter",this.draw=function(){var e=this.element[0].id,n=this.options.data,r=(this.config,this.svg),i=this.options,a=(i.type,i.width),o=i.height,s=i.margin;a=a-i.margin.left-i.margin.right,o=o-i.margin.bottom-i.margin.top,null==i.axis.inner&&(i.axis.inner=!0);r=this.svg.attr("transform","translate("+s.left+","+s.top+")");var u=Number(i.avg),c=d3.max(n,function(t){return Math.abs(t.x)+Math.abs(t.x)/10}),l=d3.extent(n,function(t){return t.y}),f=d3.max(l,function(t){return t-u}),h=l[0]<u-f?l[0]:u-f,d=l[1]>u+f?l[1]:u+f,p=d3.max([Math.abs(u-h),Math.abs(u-d)],function(t){return t});d=u+p,0==(h=u-p)&&0==d&&(h=.1,d=-.1);var g=[-c,c],y=[h,d];this.drawAxis(n,g,y);var v=this.xScale,m=this.yScale,b=this.xAxis,x=this.yAxis,_=this.x,w=this.y;this.styleAxis(v,m,b,x);var k={fill:"#545454","font-size":"12px"},M=_.append("text").attr("x",a-5).attr("y",-5).style("text-anchor","end").styles(k).text("");i.text.increase&&t.setObject(M,i.text.increase);var A=w.append("text").attr("x",40).attr("y",0).attr("dy",".71em").style("text-anchor","start").styles(k).text("");i.text.buzz&&t.setObject(A,i.text.buzz);var T=r.append("line").attr("id",e+"-avg-line").attr("x1",a).attr("y1",m(u)).attr("y2",m(u)).style("stroke-width","2px").style("stroke-dasharray","7,3").style("stroke","#8ccdfb");i.line.avg&&t.setObject(T,i.line.avg);var E=r.append("text").attr("id",e+"-avg-title").attr("x",a-8).attr("y",m(u)-17).attr("dy",".71em").style("text-anchor","end").styles(k).text("");function C(t,e,n,r,i,a){e!=v(0)&&r!=m(u)&&Q.append("line").attr("id",t).attr("x1",e).attr("x2",n).attr("y1",r).attr("y2",i).style("stroke-width","1px").style("stroke","#E6E4E4").style("opacity",a)}function S(t,e,n,r,i,a){Q.select(t).attr("x1",e).attr("x2",n).attr("y1",r).attr("y2",i).style("opacity",a)}function N(t,e,n,r){var a=0;for(var o in n){0==n[o].status&&a++}var s=tt.append("g").attr("id",r).attr("transform","translate("+t+", "+e+")").style("cursor","pointer");s.on("mouseover",function(){P.mouseover(r,a)}).on("mouseout",function(){P.mouseout(r)}).on("mousemove",function(){P.mouseover(r,a)}).on("mouseleave",function(){P.mouseout(r)}),i.axis.path=i.axis.path?i.axis.path:"../images",s.append("image").attr("xlink:href",i.axis.path+"/img_plus.png").attr("width",12).attr("height",12).style("visibility",a>0?"visible":"hidden").attr("x",-6).attr("y",-6),s.append("image").attr("class",r+"-bg").attr("xlink:href",i.axis.path+"/img_bg.png").attr("width",36).attr("height",16).style("visibility","hidden").attr("x",-18).attr("y",-8),s.append("text").style("text-anchor","middle").attr("x",0).attr("y",5.5).attr("fill","#fff").style("font","'Malgun Gothic', Arial, sans-serif").style("font-weight","bold").style("font-size","13px").style("visibility","hidden").text(a)}function R(t,e,n,r){var i=0;for(var a in n){0==n[a].status&&i++}var o=tt.select("#"+r);o.attr("transform","translate("+t+", "+e+")").on("mouseover",function(t){P.mouseover(r,i)}).on("mouseout",function(t){P.mouseout(r)}),o.select("image").style("visibility",i>0?"visible":"hidden"),o.select("."+r+"-bg").style("visibility","hidden"),o.select("text").style("visibility","hidden").text(i)}i.text.avg&&t.setObject(E,i.text.avg);var P={mouseover:function(t,e){0!=e&&(d3.select("#"+t).transition().duration(150).selectAll("image").style("visibility","visible"),d3.select("#"+t).transition().duration(150).select("text").style("visibility","visible"))},mouseout:function(t){d3.selectAll("."+t+"-bg").transition().duration(150).style("visibility","hidden"),d3.select("#"+t).select("text").transition().duration(150).style("visibility","hidden")}},z=i.division?i.division:8,O=10,L={trend:[],puberty:[],emerging:[],decline:[]};function D(t){for(var e=0;e<z;e++){t[e]=[];for(var n=0;n<z;n++)t[e][n]=0}}function I(t,e){return 0==t&&(e+=e/10),e}function j(t,e){return t==z-1&&(e+=e/10),e}function Y(t,e){return t==z-1&&(0==e&&(e=-1),e-=e/10),e}for(var B in D(L.trend),D(L.puberty),D(L.emerging),D(L.decline),n){var H=n[B];if(H.x||(H.x=0),H.y||(H.y=0),H.x=+H.x,H.y=+H.y,H.y>=u&&H.x>=0){H.signal="trend";for(B=0;B<z;B++){for(var U=!1,F=0;F<z;F++){var q=0+c/z*F,$=u+(d-u)/z*B,W=u+(d-u)/z*(B+1);(X=0+c/z*(F+1))>=0&&(X=j(F,X)),W>=0&&(W=j(B,W)),X<0&&(X=j(F,X)),W<0&&(W=j(B,W));var G=H.x>=q&&H.x<X,V=H.y>=$&&H.y<W;if(G&&V){J(H,B,F),U=!0;break}}if(U)break}}else if(H.y>=u&&H.x<0){H.signal="puberty";for(B=0;B<z;B++){for(U=!1,F=0;F<z;F++){var X=c/z*(F+1)-c;$=u+(d-u)/z*B,W=u+(d-u)/z*(B+1);q=I(F,q=c/z*F-c),W=j(B,W);G=H.x>=q&&H.x<X,V=H.y>=$&&H.y<W;if(G&&V){J(H,B,z-F-1),U=!0;break}}if(U)break}}else if(H.y<u&&H.x>=0){H.signal="emerging";for(B=0;B<z;B++){for(U=!1,F=0;F<z;F++){q=0+c/z*F,$=u-(u-h)/z*B,W=u-(u-h)/z*(B+1);(X=0+c/z*(F+1))>=0&&(X=j(F,X)),W>=0&&(W=Y(B,W));G=H.x>=q&&H.x<X,V=H.y<=$&&H.y>W;if(G&&V){J(H,B,F),U=!0;break}}if(U)break}}else if(H.y<u&&H.x<0){H.signal="decline";for(B=0;B<z;B++){for(U=!1,F=0;F<z;F++){q=c/z*F-c,$=u-(u-h)/z*B,W=u-(u-h)/z*(B+1);(X=c/z*(F+1)-c)<0&&(q=I(F,q)),W>=0&&(W=Y(B,W));G=H.x>=q&&H.x<X,V=H.y<=$&&H.y>W;if(G&&V){J(H,B,z-F-1),U=!0;break}}if(U)break}}}function J(t,e,n){L[t.signal][e]||(L[t.signal][e]=new Array(z),L[t.signal][e][n]=0),t.signalI=L[t.signal][e][n]?L[t.signal][e][n]:0,t.posx=e,t.posy=n,L[t.signal][e][n]++}Number(v(-c));var K=d3.max(n,function(t){return t.signalI});K+=K/2;var Z=d3.zoom().scaleExtent([.5,K]).extent([[0,0],[a,o]]).on("zoom",function(){if(null==(_t=d3.event?d3.event.transform.k:1))return;var n=d3.event.transform.rescaleX(v),i=d3.event.transform.rescaleY(m);_.call(b.scale(n)),w.call(x.scale(i)),t.styleAxis(v,m,b,x),ut.attr("cx",function(t){return n(t.x)}).attr("cy",function(t){return i(t.y)}).style("visibility",function(t){return t.signalI%O<parseInt(_t)||0==t.signalI&&0==parseInt(_t)?"visible":"hidden"}),ct.attr("x",function(t){return n(t.x)+6}).attr("y",function(t){return i(t.y)+3.5}).style("visibility",function(t){var e="hidden";return t.signalI%O<parseInt(_t)||0==t.signalI&&0==parseInt(_t)?(t.status=1,e="visible"):t.status=0,e}),E.attr("y",i(u)-17).style("opacity",i(u)>o||i(u)-17<0?0:1),T.attr("y1",i(u)).attr("y2",i(u)).style("opacity",i(u)>o||i(u)<0?0:1),r.select(".x").selectAll(".tick").select("line").style("stroke","#8ccdfb").style("stroke-width","2px").attr("y2",function(t,e){return 0==Math.abs(Math.round(1e6*t)/1e6)?-o:0});var s=a/2+n(0)/2,c=i(u)/2-nt,l=n(0)/2-et,f=o/2+i(u)/2;for(var h in at("#"+e+"-right-top-text",s<a/2?a/2:s,c>o/2?o/2:c),at("#"+e+"-left-top-text",l>a/2?a/2:l,c>o/2?o/2:c),at("#"+e+"-left-bottom-text",l>a/2?a/2:l,f<o/2?o/2:f),at("#"+e+"-right-bottom-text",s<a/2?a/2:s,f<o/2?o/2:f),lt.x){var d=lt.x[h];S("#"+h,n(d),n(d),o,0,n(d)>a||n(d)<0?0:1)}for(var h in lt.y){var d=lt.y[h];S("#"+h,a,0,i(d),i(d),i(d)>o||i(d)<0?0:1)}for(var h in ft){var p=ft[h],g=L[p.key][p.i][p.j];"trend"==p.key&&R(n(p.xa),i(p.ya),g,h),"puberty"==p.key&&R(n(p.xb),i(p.ya),g,h),"decline"==p.key&&R(n(p.xb),i(p.yb),g,h),"emerging"==p.key&&R(n(p.xa),i(p.yb),g,h)}});r.append("rect").attr("width",a).attr("height",o).style("fill","none").style("pointer-events","all").call(Z);var Q=r.append("g").attr("class","divideLine"),tt=r.append("g").attr("clip-path","url(#clip)").attr("class","divideText");r.append("defs").append("clipPath").attr("id","clip").append("rect").attr("width",a).attr("height",o),i.axis.path=i.axis.path?i.axis.path:"../images";var et=50,nt=28,rt=r.append("g").attr("clip-path","url(#clip)").attr("class",e+"-divide");function it(t,e,n,r){rt.append("image").attr("width",et).attr("height",nt).attr("id",t).attr("xlink:href",e).attr("x",n).attr("y",r)}function at(t,e,n,r){rt.select(t).attr("x",e).attr("y",n)}it(e+"-right-top-text",i.axis.path+"/signal_img_1.png",v(0)+v(0)/2,m(u)/2-nt),it(e+"-left-top-text",i.axis.path+"/signal_img_2.png",v(0)/2-et,m(u)/2-nt),it(e+"-left-bottom-text",i.axis.path+"/signal_img_3.png",v(0)/2-et,o/2+m(u)/2),it(e+"-right-bottom-text",i.axis.path+"/signal_img_4.png",v(0)+v(0)/2,o/2+m(u)/2),r.select(".x").selectAll(".tick").select("line").style("stroke","#8ccdfb").style("stroke-width","2px").attr("y2",function(t,e){return 0==Math.abs(Math.round(1e6*t)/1e6)?-o:0});var ot=r.append("g").attr("clip-path","url(#clip)").classed("points_g",!0),st=d3.scaleLinear().domain(d3.extent(n,function(t){return+t.value})).range(i.node.range?i.node.range:[2,10]),ut=ot.selectAll("circle").data(n);ut=ut.enter().append("circle").attr("class",e+"-circle").attr("cx",function(t){return v(t.x)}).attr("cy",function(t){return m(t.y)}).attr("r",function(t){return t.value?t.r=st(t.value):i.node.size?t.r=i.node.size:t.r=5,t.r}).style("visibility",function(t){return t.signalI%O==0?"visible":"hidden"}).style("fill",function(t){var e;switch(t.signal){case"puberty":e=i.node.color[t.signal]?i.node.color[t.signal]:"#7247A3";break;case"trend":e=i.node.color[t.signal]?i.node.color[t.signal]:"#E74549";break;case"decline":e=i.node.color[t.signal]?i.node.color[t.signal]:"#B19787";break;case"emerging":e=i.node.color[t.signal]?i.node.color[t.signal]:"#42866C"}return e}),this.setObject(ut,i.node);var ct=ot.selectAll("text").data(n);ct=ct.enter().append("text").attr("class",e+"-txt").attr("x",function(t){return v(t.x)+t.r+1}).attr("y",function(t){return m(t.y)+3.5}).style("visibility",function(t){var e="hidden";return t.signalI%O==0?(t.status=1,e="visible"):t.status=0,"number"==typeof L[t.signal][t.posx][t.posy]&&(L[t.signal][t.posx][t.posy]=[]),L[t.signal][t.posx][t.posy].push(t),e}).attr("font_family","sans-serif").attr("font-size","11px").style("cursor","default").text(function(t){return t.name}),this.setObject(ct,i.text);var lt={x:[],y:[]},ft={};for(B=0;B<z+30;B++)for(F=0;F<z+30;F++){X=c/z*F,q=-c/z*F,W=u+(d-u)/z*B,$=u-(u-h)/z*B;if(0==B){var ht=e+"-line-xb-"+B+"-"+F,dt=e+"-line-xa-"+B+"-"+F;lt.x[ht]=q,lt.x[dt]=X,C(ht,v(q),v(q),o,0,v(q)>a||v(q)<0?0:1),C(dt,v(X),v(X),o,0,v(X)>a||v(X)<0?0:1)}if(0==F){var pt=e+"-line-yb-"+B+"-"+F,gt=e+"-line-ya-"+B+"-"+F;lt.y[pt]=$,lt.y[gt]=W,C(pt,a,0,m($),m($),m($)>o||m($)<0?0:1),C(gt,a,0,m(W),m(W),m(W)>o||m(W)<0?0:1)}var yt=X+(c/z*(F+1)-X)/2,vt=q+(-c/z*(F+1)-q)/2,mt=W+(u+(d-u)/z*(B+1)-W)/2,bt=$+(u-(u-h)/z*(B+1)-$)/2;xt("trend",B,F,yt,vt,mt,bt),xt("puberty",B,F,yt,vt,mt,bt),xt("decline",B,F,yt,vt,mt,bt),xt("emerging",B,F,yt,vt,mt,bt)}function xt(t,n,r,i,a,o,s){var u=L[t];if(u[n]&&u[n][r]&&0!=u[n][r]){var c=e+"-"+t+"-"+n+"-"+r;ft[c]||(ft[c]={}),ft[c]={key:t,xa:i,xb:a,ya:o,yb:s,i:n,j:r},"trend"==t&&N(v(i),m(o),u[n][r],c),"puberty"==t&&N(v(a),m(o),u[n][r],c),"decline"==t&&N(v(a),m(s),u[n][r],c),"emerging"==t&&N(v(i),m(s),u[n][r],c)}}var _t=0}},w=function(){var t=this;this.type="rapid_table",this.draw=function(){var e=this.options.data,n=d3.select(this.element.selector).selectAll("div").data([0]).enter().append("div");this.options.tableClass.table?n.attr("class",this.options.tableClass.table):n.style("width",this.options.width+"px").style("height",this.options.height+"px").style("margin-top",this.options.margin.top+"px").style("margin-bottom",this.options.margin.bottom+"px").style("margin-left",this.options.margin.left+"px").style("margin-right",this.options.margin.right+"px").style("font-family","'', malgun gothic").style("font-size",this.options.fontSize+"px");var r=n.append("div");this.options.tableClass.div?r.attr("class",this.options.tableClass.div):r.style("position","relative").style("overflow","hidden").style("border","1px solid #d3d3d3").style("margin","0 0 19px 0").style("padding-top","18px");var i=r.append("h2").text(this.options.title);this.options.tableClass.h2?i.attr("class",this.options.tableClass.h2):i.style("position","relative").style("color","#555").style("font-weight","bold").style("font-size",this.options.fontSize+"px").style("margin","0").style("padding","0 0 0 10px").style("letter-spacing","-1px");var a=r.append("ol");for(var o in this.options.tableClass.ol||this.options.tableClass.ul?a.attr("class",this.options.tableClass.h2):a.style("position","relative").style("overflow","hidden").style("margin-left","0").style("padding","0px 0 18px 0"),e){var s=e[o],u=a.append("li");u.attr("class","li"+o),this.options.click&&u.on("click",function(){var n=d3.select(this).attr("class").replace("li",""),r=e[n];t.options.click(r)}),this.options.tableClass.li?u.attr("class",this.options.tableClass.h2):u.style("line-height","26px").style("position","relative").style("margin","0").style("padding","0 0 0 35px");var c=u.append("span");if(this.options.tableClass.rank)c.attr("class",this.options.tableClass.rank);else{c.style("display","inline-block").style("width","14px").style("height","14px").style("background","url("+this.options.imgPath+"ico_rank.gif) no-repeat 0 0").style("position","absolute").style("top","7px").style("left","12px");var l=-14*o;c.style("background-position","0 "+l+"px")}var f=u.append("span").text(s.keyword);this.options.tableClass.keyword&&f.attr("class",this.options.tableClass.keyword);var h=$.isNumeric(s.gap)?Math.abs(Number(s.gap)):"",d=u.append("span").text(h);this.options.tableClass.gap?(d.attr("class",this.options.tableClass.gap),(s.gap<0||"down"==s.gap)&&this.options.tableClass.down?d.attr("class",this.options.tableClass.down):s.gap>0||"up"==s.gap?d.style("background","url("+this.options.imgPath+"ico_rank_up.gif) no-repeat 1px 2px"):0===s.gap||"new"==s.gap?d.style("background","url("+this.options.imgPath+"ico_rank_new.gif) no-repeat 1px 2px"):""!==s.gap&&"keep"!=s.gap||d.style("background","url("+this.options.imgPath+"ico_rank_keep.gif) no-repeat 1px 3px")):(d.style("display","inline-block").style("width","40px").style("text-align","right").style("height","14px").style("line-height","14px").style("font-size",this.options.fontSize-1+"px").style("color","#666").style("position","absolute").style("top","6px").style("right","12px"),s.gap<0||"down"==s.gap?d.style("background","url("+this.options.imgPath+"ico_rank_down.gif) no-repeat 1px 3px"):s.gap>0||"up"==s.gap?d.style("background","url("+this.options.imgPath+"ico_rank_up.gif) no-repeat 1px 2px"):0===s.gap||"new"==s.gap?d.style("background","url("+this.options.imgPath+"ico_rank_new.gif) no-repeat 1px 2px"):""!==s.gap&&"keep"!=s.gap||d.style("background","url("+this.options.imgPath+"ico_rank_keep.gif) no-repeat 1px 3px"))}}},k=function(){var t=this;this.type="geo_map",this.draw=function(){if(this.parseGroup(),"undefined"==typeof google){this.key=["AIzaSyBMsv5tYu6FqLidWEPI2vdlDMAiI_ewwsg","AIzaSyAq955nn3wJ8cRTEzwMY8wqN2vWcfKmXHc"],this.count=0,this._call({key:"AIzaSyAZFGCckCO_YJsQCjzVA3Pk62-dP6rPH1c"})}else t._draw()},this._call=function(e){$.ajax({url:"https://maps.googleapis.com/maps/api/js",data:e,dataType:"script",timeout:3e4,success:function(){t._draw()},error:function(e){t._call(t.key[count]),t.count++}})},this.parseGroup=function(){var t=this.options.data,e=[],n=[],r=d3.map(),i=d3.map();for(var a in t){var o=t[a],s=o.x+"`"+o.y,u={};if(r.has(s)){for(var c in u.id=a,o){var l=c;"x"!=c&&"y"!=c||(l="p"+c),u[l]=o[c]}e.push(u),i.set(s,u)}else n.push(o),r.set(s,o)}for(var a in n){var f=n[a];if(i.has(f.x+"`"+f.y)){var h=r.get(f.x+"`"+f.y);u={};for(var c in h){l=c;"x"!=c&&"y"!=c||(l="p"+c),u[l]=h[c]}e.push(u),n.splice(a,1);break}}this.options.data={},this.options.data.list=n,this.options.data.group=e},this._draw=function(){var e=this.element[0].id,n=this.options,r=(n.type,n.width),i=n.height;n.margin;r=r-n.margin.left-n.margin.right,i=i-n.margin.bottom-n.margin.top;var a=n.data.list,o=n.data.group;n.padding=80+(this.isNull(n.padding)?0:n.padding);var s=n.padding;d3.select("#"+e).style("width",this.options.width+"px").style("height",this.options.height+"px").style("background-color",this.options.backgroundColor).style("margin-top",this.options.margin.top+"px").style("margin-bottom",this.options.margin.bottom+"px").style("margin-left",this.options.margin.left+"px").style("margin-right",this.options.margin.right+"px");var u=function(e){d3.select(d3.select(".cloud").parentNode).remove(),this._element=$('<div style="position:absolute;left:0;top:0;text-align:center;"></div>'),t.layer=d3.select(this._element[0]),this.setPosition(e.position),this.setMap(e.map||null)};(u.prototype=new google.maps.OverlayView).constructor=u,u.prototype.setPosition=function(t){this._position=t,this.draw()},u.prototype.getPosition=function(){return this._position},u.prototype.onAdd=function(){var t=this.getPanes().overlayLayer;this._element.appendTo(t)},u.prototype.draw=function(){if(this.getMap()){if(p.getZoom()<7)return $(".marker").hide(),void $(".cloud").hide();$(".marker").show(),$(".cloud").show(),t.drawText(a,n),t.drawCloud(o,n);var e=this.getProjection(),n=this.getPosition();e.fromLatLngToDivPixel(n);t.projection=e,d3.selectAll(".marker").each(function(t){var n=new google.maps.LatLng(t.x,t.y);return n=e.fromLatLngToDivPixel(n),d3.select(this).style("left",n.x-s+"px").style("top",n.y-s+"px")})}},u.prototype.onRemove=function(){this.getPanes().overlayLayer;this._element.remove(),this._element.off()};var c=[];d3.map(a,function(t){c.push(new google.maps.LatLng(t.x,t.y))});for(var l=new google.maps.LatLngBounds,f=0;f<c.length;f++)l.extend(c[f]);var h,d=new google.maps.LatLng(l.getCenter().lat(),l.getCenter().lng()),p=new google.maps.Map(d3.select(this.element.selector).node(),{}),g=new u({map:p,position:d});n.zoom?(p.setZoom(n.zoom),p.setCenter(d)):p.fitBounds(l),n.center&&(d=new google.maps.LatLng(t.options.center[0],t.options.center[1]),p.setCenter(d),g.setCenter(d));var y=[n.fontRange[0],n.fontRange[1]],v=n.width,m=n.height;p.addListener("zoom_changed",function(){d3.selectAll(".marker").each(function(t){var e=d3.select(this).select("text"),r=Number(e.style("font-size").replace("px",""));!h||h>=p.getZoom()?r>7&&(r-=5):(r+=5,t.fontsize<r&&(r=t.fontsize)),e.style("font-size",r+"px").attr("x",function(t){var e=0;return t.name.length>=4&&r>40?e=(r-19)*(t.name.length-4):t.name.length<4&&r>55&&(e=r-50),s+n.map.x+e})}),function(){if(o.length>0){if(h==p.getZoom());else if(h>p.getZoom())n.width>21&&(v-=v/10,m-=m/10,y[0]=y[0]-5,y[1]=y[1]-5);else{m+=m/10,(v+=v/10)>n.width&&(v=n.width),m>n.height&&(m=n.height);for(var t=0;t<n.fontRange.length;t++)y[t]=y[t]+5,y[t]>=n.fontRange[t]&&(y[t]=n.fontRange[t])}n.fontZoomRange=y,n.zoomWidth=v,n.zoomHeight=m}}(),h=p.getZoom()})},this.drawCloud=function(e,n){if(!(e.length<=0)){var r=this.options,i=r.zoomWidth?r.zoomWidth:r.width;i/=2;var a=r.zoomHeight?r.zoomHeight:r.height;a/=2;var o=r.padding,s=r.fontRange,u=(r.color,d3.max(e,function(t){return Number(t.value)})),c=d3.min(e,function(t){return Number(t.value)});this.options.opacityDomain||(this.options.opacityDomain=[.6,.65,.75,.85,.95,1]);var l=[];for(var f in this.options.opacityDomain){var h=this.options.opacityDomain[f];0!=f?f!=this.options.opacityDomain.length-1?l.push(u*h):l.push(u):l.push(c)}r.fontZoomRange&&(s=r.fontZoomRange);var d=d3.scaleLinear().domain([c,u]).range(s),p=d3.scaleLinear().domain(l).range(this.options.opacityDomain),g=this.options.textPadding?this.options.textPadding:2;d3.layout.cloud().size([i,a]).timeInterval(20).words(e).padding(g).fontSize(function(t){return t.fontsize=d(+t.value),t.fontsize}).text(function(t){return t.name}).rotate(function(){return~~(2*Math.random())*t.options.rotate}).font(t.options.font).on("end",function(n){t.layer.select(".cloud").remove();s[1],s[0],e.length;if(150,t.layer.append("svg").style("position","absolute").attr("class","cloud").style("margin","0 auto").style("z-index",4).attr("width",i).attr("height",a).style("text-align","center").append("g").attr("transform","translate("+[i>>1,a>>1]+")").selectAll("text").data(n).enter().append("text").style("font-size",function(t){return t.fontsize=d(t.value),t.fontsize+"px"}).style("font-family",t.options.font).style("font-weight",600).style("fill",function(t,e){return t.color||(t.color=r.color(t.name)),t.color}).style("fill-opacity",function(t){return p(t.value)}).attr("text-anchor","middle").attr("transform",function(t){return"translate("+[t.x,t.y]+")rotate("+t.rotate+")"}).text(function(t){return t.name}).on("click",function(e){var n={};n.category=e.category,n.color=e.color,n.id=e.id,n.opacity=e.opacity,n.rotate=e.rotate,n.value=e.size,n.name=e.name,n.x=e.x,n.y=e.y,t.click(n)}),t.projection){var u=new google.maps.LatLng(e[0].px,e[0].py);u=t.projection.fromLatLngToDivPixel(u),t.layer.select(".cloud").style("left",u.x-o+"px").style("top",u.y-o+"px")}}).start(),d3.layout.cloud().stop()}},this.pad=function(t,e){return(t+="").length>=e?t:new Array(e-t.length+1).join("0")+t},this.drawText=function(e,n){var r=this.options,i=(r.width,r.height,r.color,d3.max(e,function(t){return Number(t.value)})),a=d3.min(e,function(t){return Number(t.value)}),o=d3.scaleLinear().domain([a,i]).range(this.options.fontRange),s=r.padding,u=t.layer.selectAll("svg").style("position","absolute").data(e).enter().append("svg").attr("class","marker");u.append("text").attr("class","text").style("text-anchor","middle").style("stroke",function(t){return t.color||(t.color=r.color(t.name)),t.color}).style("fill",function(t){return t.color||(t.color=r.color(t.name)),t.color}).style("fill-opacity",function(t){return t.opacity}).style("stroke-width",1.5).style("font-size",function(t){return t.fontsize=o(t.value),t.fontsize}).text(function(t){return t.name}).attr("x",function(t){var e=0;return t.name.length>=4&&t.fontsize>40?e=(t.fontsize-19)*(t.name.length-4):t.name.length<4&&t.fontsize>55&&(e=t.fontsize-50),console.log(s,r.map.x,e),s+r.map.x+e}).attr("y",function(t){return s+r.map.y}),u.attr("width",function(t){return t.fontsize*t.name.length+s})}};e.prototype=new t,n.prototype=new t,new t,r.prototype=new t,i.prototype=new t,s.prototype=new t,u.prototype=new t,new t,c.prototype=new t,l.prototype=new t,new t,new t,new t,f.prototype=new t,w.prototype=new t,new t,o.prototype=new t,a.prototype=new t,h.prototype=new t,b.prototype=new t,new t,x.prototype=new t,k.prototype=new t,d.prototype=new t,new t,g.prototype=new t,p.prototype=new t,y.prototype=new t,v.prototype=new t,m.prototype=new t,_.prototype=new t,$.fn.visualization=function(t){var M,A=$.fn.visualization.defaults(),T=$.extend(!0,A,t),E=$.fn.visualization.config;$(this);switch(T.type){case E.CHART_TYPE_DENDROGRAM:M=new n;break;case E.CHART_TYPE_MULTI_LINE:case E.CHART_TYPE_LINE:M=new e;break;case E.CHART_TYPE_CLOUD:M=new r;break;case E.CHART_TYPE_PIE:M=new i;break;case E.CHART_TYPE_PROGRESS_DONUT:M=new a;break;case E.CHART_TYPE_DONUT:M=new o;break;case E.CHART_TYPE_RADAR:M=new h;break;case E.CHART_TYPE_RADAR_TABLE:M=new b;break;case E.CHART_TYPE_TREEMAP:M=new d;break;case E.CHART_TYPE_BUBBLE:M=T.group?new p:new g;break;case E.CHART_TYPE_HEATMAP:M=new y;break;case E.CHART_TYPE_HIERARCHY_TREE:M=new v;break;case E.CHART_TYPE_UPDATE_BAR:M=new m;break;case E.CHART_TYPE_BAR:M=new s;break;case E.CHART_TYPE_STACKED_BAR:M=new u;break;case E.CHART_TYPE_SCATTER:M=new l;break;case E.CHART_TYPE_MAP:M=new x;break;case E.CHART_TYPE_QUAD_SCATTER:M=new _;break;case E.CHART_TYPE_RAPID_TABLE:M=new w;break;case E.CHART_TYPE_TABLE:M=new f;break;case E.CHART_TYPE_NETWORKMAP:M=new c;break;case E.CHART_TYPE_GEO_MAP:M=new k}this[0].innerHTML="",M.init(this,T,E),M.parseCSV(),M.parseJSON(),M.setColors(),M.render(),T.afterCall&&M.afterCall(),$(window).resize(function(){M.resize(),M.render()})},$.fn.visualization.defaults=function(){var t={ticks:null,rotate:0,fontSize:null,tickSkip:null,padding:0,rotate:0,align:null,usePath:!0,grid:null,x:null,y:null,align:null,color:null,style:{},attr:{},line:{x:null,y:null,color:null,width:null,attr:null,style:null},name:null};return{type:null,data:null,dataUrl:null,dataCsv:null,dataCsvUrl:null,dataRand:null,dataParams:null,dataType:null,click:null,color:null,collapse:{httpType:"POST",use:!1,data:null,dataUrl:null,dataParams:{},parser:null},x:0,y:0,opacityDomain:null,labels:{enabled:null,distance:0,over:!1,gap:0,inner:!0,size:null,length:null,suffix:""},node:{enabled:!0,over:!0,size:null,color:null},tooltip:JSON.parse(JSON.stringify({style:{},attr:{},enabled:!1,useHtml:!1,suffix:"",dateFormat:"",innerBox:!1,css:{opacity:.8,width:"auto",height:"auto",overflow:"hidden",position:"absolute",color:"#fff",margin:0,"background-color":"#0083DD","font-family":"Malgun Gothic","font-size":"12px","vertical-align":"top","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px","pointer-events":"none",p:"font-size:14px; padding-left:10px;",ul:"list-style:none;padding-left:2px;",li:"padding:2px 10px;","davif-icon":"padding-right:5px;font-size:10px;","davif-title1":"margin-right:30px;","davif-title2":"float:right;"},x:0,y:0,html:null,textFunc:null,isabsolute:null})),tickSuffix:"",tickNagative:!1,dateFormat:"",inputFormat:null,depthLength:null,margin:{top:0,right:0,bottom:0,left:0},font:"Malgun Gothic",backgroundColor:null,fontColor:null,width:null,height:null,focusRectX:{fill:"#e4eaf3",opacity:.2},tickSkip:1,x:JSON.parse(JSON.stringify(t)),y:JSON.parse(JSON.stringify(t)),line:{style:{},width:1,maxPoint:!0,maxPointAll:!0},icon:{use:!0,type:"circle",size:3,hoverSize:5},font:{size:10,color:"#6A7C87",opacity:1,align:"center",style:{}},node:{style:{}},colorRange:null,valueRange:null,text:{style:{}},donut:{innerRadius:0,outerRadius:0},legend:{use:null},cloud:{spiral:"archimedean"},map:JSON.parse(JSON.stringify({back:null})),axis:{inner:null,text:{style:{}}},legend:JSON.parse(JSON.stringify({type:null,x:0,y:0})),tableClass:JSON.parse(JSON.stringify({table:"",tr:"",tr_header:"davif-header-row",tr_row:"davif-row",td:"davif-cell",th:"davif-header",div:"",h2:"",ol:"",ul:"",li:"",up:"",down:"",keep:"",new:"",rank:"",keyword:"",gap:""})),defaultCss:!0,link:{}}},$.fn.visualization.config={MEDIA_TYPE_ALL_NAME:"",MEDIA_TYPE_TWITTER_NAME:"",MEDIA_TYPE_FACEBOOK_NAME:"",MEDIA_TYPE_BLOG_NAME:"",MEDIA_TYPE_NEWS_NAME:"",MEDIA_TYPE_COMMUNITY_NAME:"",MEDIA_TYPE_ALL:"all",MEDIA_TYPE_TWITTER:"twitter",MEDIA_TYPE_FACEBOOK:"facebook",MEDIA_TYPE_BLOG:"blog",MEDIA_TYPE_NEWS:"news",MEDIA_TYPE_COMMUNITY:"community",SENTIMENT_TYPE_ALL:"all",SENTIMENT_TYPE_POSITIVE:"positive",SENTIMENT_TYPE_NEUTRAL:"neutral",SENTIMENT_TYPE_NEUTRALITY:"neutrality",SENTIMENT_TYPE_NEGATIVE:"negative",SENTIMENT_TYPE_OBJECTIVE:"objective",SENTIMENT_TYPE_OBJECT:"object",SENTIMENT_TYPE_ALL_NAME:"",SENTIMENT_TYPE_POSITIVE_NAME:"",SENTIMENT_TYPE_NEUTRAL_NAME:"",SENTIMENT_TYPE_NEGATIVE_NAME:"",SENTIMENT_TYPE_OBJECT_NAME:"",TYPE_ALL:"all",TYPE_ALL_NAME:"",CHART_TYPE_LINE:"line",CHART_TYPE_MULTI_LINE:"multiline",CHART_TYPE_PIE:"pie",CHART_TYPE_UPDATE_BAR:"update_bar",CHART_TYPE_BAR:"bar",CHART_TYPE_STACKED_BAR:"stackedbar",CHART_TYPE_GROUPED_BAR:"groupedbar",CHART_TYPE_HORIZONTAL_BAR:"horizontal_bar",CHART_TYPE_HORIZONTAL_STACKED_BAR:"horizontal_stackedbar",CHART_TYPE_HORIZONTAL_GROUPED_BAR:"horizontal_groupedbar",CHART_TYPE_CLOUD:"cloud",CHART_TYPE_EXPLORER:"explorer",CHART_TYPE_DENDROGRAM:"dendrogram",CHART_TYPE_NETWORKMAP:"networkmap",CHART_TYPE_NETWORKMAP_RANK:"networkmap_rank",CHART_TYPE_NETWORK_DIAGRAM:"network_diagram",CHART_TYPE_CHORD_DIAGRAM:"chord_diagram",CHART_TYPE_SCATTER:"scatter",CHART_TYPE_BOXPLOT:"boxplot",CHART_TYPE_TABLE:"table",CHART_TYPE_RAPID_TABLE:"rapid_table",CHART_TYPE_STREAM:"stream",CHART_TYPE_PROGRESS_DONUT:"progress_donut",CHART_TYPE_DONUT:"donut",CHART_TYPE_RADAR:"radar",CHART_TYPE_RADAR_TABLE:"radar_table",CHART_TYPE_BUBBLE_PIE:"bubble_pie",CHART_TYPE_MAP:"map",CHART_TYPE_GEO_MAP:"geo_map",CHART_TYPE_TREEMAP:"treemap",CHART_TYPE_PARALLEL_COORDINATES:"parallel_coordinates",CHART_TYPE_BUBBLE:"bubble",CHART_TYPE_HEATMAP:"heatmap",CHART_TYPE_HIERARCHY_TREE:"hierarchy_tree",CHART_TYPE_QUAD_SCATTER:"quad_scatter",DATA_TYPE_JSON:"json",DATA_TYPE_CSV:"csv",DATA_TYPE_RAND:"random"},$.fn.visualization.Constructor=t}();